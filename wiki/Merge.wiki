#summary 如何合并 PO 文件？

= 简介 =
 对于很大的 PO 文件，经常需要协作翻译。于是，在翻译完成后，大家需要合并翻译。

= 方法 =
== 大家使用同一 pot 文件，同一翻译格式 ==
 这是通常情况，翻译和提交流程如下：
  # 开始翻译
  # 复审翻译
  # 更新到最新版本的 PO 文件
  # 如果没有冲突，直接提交，否则是产生了翻译冲突
  # 用文本编辑器打开 PO 文件，查找冲突的地方，手工解决冲突，然后回到步骤2

== 大家使用同一 pot 文件，不同翻译格式 ==
 这种情况应该禁止，大家要采用一致的翻译格式。
 合并方法很简单，假设有 foo.pot，zh_CN-A.po，zh_CN-B.po 三个文件，合并方法如下：
  # msgmerge --no-wrap -o zh_CN-A2.po zh_CN-A.po foo.pot
  # msgmerge --no-wrap -o zh_CN-B2.po zh_CN-B.po foo.pot
  # python po-merge.py<zh_CN-A2.po zh_CN-B2.po >zh_CN.po

 产生的结果是文件 zh_CN.po，它以 A 的翻译为准，如果 A 和 B 翻译了相同的条目，那么采用 A 的翻译。如果要以 B 的翻译为准，最后一步应该执行“python po-merge.py<zh_CN-B2.po zh_CN-A2.po >zh_CN.po”。

 其中 po-merge.py 位于 trunk/lib/tools，它是从官方 Subversion 版本库复制而来，即 trunk/tools/dev/po-merge.py。

== 大家使用不同 pot 文件，不同翻译格式 ==
 这种情况应该禁止，大家要采用一致的翻译格式，优先翻译高版本，然后从高版本移植到低版本，最后翻译低版本剩余的部分。

 合并方法稍微复杂，如果两个 pot 文件是两个版本分支，那么要对于每个 pot 文件，执行*大家使用同一 pot 文件，不同翻译格式*。否则，直接对最新的 pot 文件，执行*大家使用同一 pot 文件，不同翻译格式*即可。
