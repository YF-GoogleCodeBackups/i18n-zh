<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current 修改日志</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="OpenBSD -current 修改日志">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current 修改日志</font></h2>
<hr>

<p>
这主要是平台中立的部分修改列表(也就是大家经常询问的修改)。
平台特定的修改也会列出，有时会在特定<a href="plat.html">平台</a>页面提及。
<p>
有单独的页面<a href="../portsplus/index.html">列出 ports 的修改</a>。

<p>
说明: <font color="#e00000">存在补丁的问题用红色标记</font>。

<p>
<h3>
要获得其它版本的修改列表，请点击下面相应的链接:<br>
<a href="../plus20.html">2.0</a>,
<a href="../plus21.html">2.1</a>,
<a href="../plus22.html">2.2</a>,
<a href="../plus23.html">2.3</a>,
<a href="../plus24.html">2.4</a>,
<a href="../plus25.html">2.5</a>,
<a href="../plus26.html">2.6</a>,
<a href="../plus27.html">2.7</a>,
<a href="../plus28.html">2.8</a>,
<a href="../plus29.html">2.9</a>,
<a href="../plus30.html">3.0</a>,
<a href="../plus31.html">3.1</a>,
<a href="../plus32.html">3.2</a>,
<a href="../plus33.html">3.3</a>,
<a href="../plus34.html">3.4</a>,
<a href="../plus35.html">3.5</a>,
<a href="../plus36.html">3.6</a>,
<a href="../plus37.html">3.7</a>,
<a href="../plus38.html">3.8</a>,
<a href="../plus39.html">3.9</a>,
<a href="../plus40.html">4.0</a>,
<a href="../plus41.html">4.1</a>,
<a href="../plus42.html">4.2</a>,
<a href="../plus43.html">4.3</a>.
<br>
</h3>

<p>
<h3><font color="#0000e0">OpenBSD 4.3 和 OpenBSD 4.4 之间的修改</font></h3><p>
<p>

<ul>
<!-- 2008/03/19 -->
<!-- 2008/03/18 -->
<li>将我们网络启动的所有接口加入“netboot”接口组。
<li>确保 libc <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bcmp&sektion=3&format=html">bcmp(3)</a> 在有区别时返回 1。
<li>更好的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spl&sektion=9&format=html">spl(9)</a> 加锁，对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&sektion=4&format=html">pppoe(4)</a>。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&sektion=1&format=html">netstat(1)</a> 处理参数 -I 的问题。
<li>修正当远程 X11 客户在 IPv6 网络中使用 XDM-AUTHORIZATION-1 时 libX11 的 segfault。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> 中当编码是 128 的幂时的错误。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uslcom&sektion=4&format=html">uslcom(4)</a> 驱动中支持 IRZ MC35pu GSM 终端。
<!-- 2008/03/17 -->
<li>从 sparc64 平台删除 KGDB 代码。
<!-- 2008/03/16 -->
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=df&sektion=1&format=html">df(1)</a>，从而可以显示大数值。
<li>增加 _SC_SYS_PAGES 和 _SC_AVPHYS_PAGES 到 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysconf&sektion=3&format=html">sysconf(3)</a>。
<li>为 arc4random 增加新 API，一个用随机数填充缓冲区，另一个返回五偏见的均匀分布随机数。
<li>扩展 statfs 结构从而支持大文件系统，以及 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=statvfs&sektion=2&format=html">statvfs(2)</a>。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=agp&sektion=4&format=html">agp(4)</a> 接入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&sektion=4&format=html">vga(4)</a>，而不是 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pchb&sektion=4&format=html">pchb(4)</a>。
<li>让 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&sektion=8&format=html">syslogd(8)</a> 在循环中调用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=waitpid&sektion=2&format=html">waitpid(2)</a> 直到全部子孙终结。
<!-- 2008/03/15 -->
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&sektion=8&format=html">sensorsd(8)</a> 使时间总是向前，从而避免了报告的重复或丢失。
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a>，实现 HOST-RESOURCES MIB 的 hrSWRun 部分。
<li>使 GENERIC.MP 能在 E10000 sparc64 机器上工作。
<li>重写 sbus 范围寄存器，从而支持 sparc 平台的旧  XVideo 板卡。
<li>在网络程序中，修正了各种 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=CMSG_DATA&sektion=3&format=html">CMSG</a> 相关的问题。
<!-- 2008/03/14 -->
<li>改进的 IP ID 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&sektion=8&format=html">named(8)</a> 洗牌代码初始化。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdce&sektion=4&format=html">cdce(4)</a> 中，从 tv_usec 产生更好的 lladdr。
<!-- 2008/03/13 -->
<li>只允许 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&sektion=4&format=html">pppoe(4)</a> 接口接入 Ethernet 或 Vlan 接口。
<li>确保 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=acx&sektion=4&format=html">acx(4)</a>，<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atw&sektion=4&format=html">atw(4)</a> 和 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pgt&sektion=4&format=html">pgt(4)</a> 不错误的增加输入包计数。
<li>在 sparc64 中，如果没有发现实时时钟，就接入 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=prtc&sektion=4&format=html">prtc(4)</a>。
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&sektion=8&format=html">sensorsd(8)</a>，允许收到传感器状态后，在状态改变时调用程序。
<li>增加符号 __data_start 到全部 ELF 架构，一致的标记可写段的开始。
<li>当无参数运行 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsd&sektion=8&format=html">nfsd(8)</a> 时，确保启动时有 4 个 UDP 服务器。
<li>当接入的 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdce&sektion=4&format=html">cdce(4)</a> 没有适当的 mac 地址时，使用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getmicrotime&sektion=9&format=html">getmicrotime(9)</a> 的 tv_usec 创建一个。
<!-- 2008/03/12 -->
<li>对于 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&sektion=4&format=html">audio(4)</a>，恰当设置缓冲区大小的高水位标记。
<li>对于 PPPoE，在响应中返回 relay-sid，如果收到的话。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> 中修正无限循环。
<!-- 2008/03/11 -->
<li>阻止 mvme68k 启动媒体使用 68060 不支持的指令。
<!-- 2008/03/10 -->
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1&format=html">ftp(1)</a> 的默认配置中，打开 keep-alive。
<li>为 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&sektion=8&format=html">snmpd(8)</a> 实现局部 HOST-RESOURCES-MIB。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifstated&sektion=8&format=html">ifstated(8)</a> 中，修正当配置文件引用未声明的状态时的 NULL 废弃。
<!-- 2008/03/09 -->
<li>在 hppa RAMDISK 内核启用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ehci&sektion=4&format=html">ehci(4)</a>。
<li>为 sparc64 增加 sun4v IOMMU 系统管理程序和虚拟 PCI 主机桥接代码。
<!-- 2008/03/08 -->
<li>在 opencvs 中增加适当的版本库锁。
<li>在远程配置时，如果指定的文件或目录不存在，阻止 opencvs 发送 "Directory" 相关信息。
<li>opencvs 增加支持 checkout/update -j。
<li>为 sun4v 增加 sparc64 驱动，虚拟总线 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vbus&sektion=4&format=html">vbus(4)</a>，虚拟实时时钟 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vrtc&sektion=4&format=html">vrtc(4)</a> 和虚拟控制台 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vcons&sektion=4&format=html">vcons(4)</a>。
<li>在 sparc64 平台，为 sun4v 增加 UltraSPARC 管理程序接口。
<li>在用 ramdisk 安装的时候，让固件加载器也查找 /mnt/etc/firmware。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&sektion=1&format=html">vi(1)</a> 处理某种错误条件时，避免无限递归。
<li>让 sparc64 检查 OFW 节点状态，从而在 OpenFirmware 中禁用的设备不会再被 OpenBSD 发现。
<li>修正 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&sektion=1&format=html">vi(1)</a> 在处理包含制表符号的很长的行时，“set nu” 导致 Segfault。
<!-- 2008/03/07 -->
<li>当本机名称以数字开始的时候，也允许响应 icmp6 节点信息。
<li>在 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> UKC&gt; 提示，当“lines”设置为 0 时不请求输入。
<li>开始 4.3-current。
<!-- 2008/03/06 -->
</ul>
<p>

这个列表主要是平台中立的修改。特定平台的修改列表位于其平台页面。
如果你没有在那里找到，那么这些修改可能是没有文档或者已经在此处列出。<br><br>

<hr>
<p>
<h3>
要获得其它版本的修改列表，请点击下面相应的链接:<br>
<a href="../plus20.html">2.0</a>,
<a href="../plus21.html">2.1</a>,
<a href="../plus22.html">2.2</a>,
<a href="../plus23.html">2.3</a>,
<a href="../plus24.html">2.4</a>,
<a href="../plus25.html">2.5</a>,
<a href="../plus26.html">2.6</a>,
<a href="../plus27.html">2.7</a>,
<a href="../plus28.html">2.8</a>,
<a href="../plus29.html">2.9</a>,
<a href="../plus30.html">3.0</a>,
<a href="../plus31.html">3.1</a>,
<a href="../plus32.html">3.2</a>,
<a href="../plus33.html">3.3</a>,
<a href="../plus34.html">3.4</a>,
<a href="../plus35.html">3.5</a>,
<a href="../plus36.html">3.6</a>,
<a href="../plus37.html">3.7</a>,
<a href="../plus38.html">3.8</a>,
<a href="../plus39.html">3.9</a>,
<a href="../plus40.html">4.0</a>,
<a href="../plus41.html">4.1</a>,
<a href="../plus42.html">4.2</a>,
<a href="../plus43.html">4.3</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus.html,v 1.1099 2008/03/20 11:52:26 jj Exp $</small>

</body>
</html>
<!--
Originally [OpenBSD: plus.html,v 1.1099]<br>
$Translation: plus.html,v 1.2 2008/03/21 15:11:27 dongsheng Exp $<br>
-->
