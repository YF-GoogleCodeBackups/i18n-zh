<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Chapter 6. Server Configuration</title>
<link rel="stylesheet" href="styles.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.74.3">
<link rel="home" href="index.html" title="Version Control with Subversion">
<link rel="up" href="index.html" title="Version Control with Subversion">
<link rel="prev" href="svn.reposadmin.summary.html" title="5.6. Summary">
<link rel="next" href="svn.serverconfig.choosing.html" title="6.2. Choosing a Server Configuration">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Chapter 6. Server Configuration</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="svn.reposadmin.summary.html">Prev</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="svn.serverconfig.choosing.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="svn.serverconfig"></a>Chapter 6. Server Configuration</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="svn.serverconfig.html#svn.serverconfig.overview">6.1. Overview</a></span></dt>
<dt><span class="sect1"><a href="svn.serverconfig.choosing.html">6.2. Choosing a Server Configuration</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="svn.serverconfig.choosing.html#svn.serverconfig.choosing.svnserve">6.2.1. The svnserve Server</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.choosing.html#svn.serverconfig.choosing.svn-ssh">6.2.2. svnserve over SSH</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.choosing.html#svn.serverconfig.choosing.apache">6.2.3. The Apache HTTP Server</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.choosing.html#svn.serverconfig.choosing.recommendations">6.2.4. Recommendations</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="svn.serverconfig.svnserve.html">6.3. svnserve, a Custom Server</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="svn.serverconfig.svnserve.html#svn.serverconfig.svnserve.invoking">6.3.1. Invoking the Server</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.svnserve.html#svn.serverconfig.svnserve.auth">6.3.2. Built-in Authentication and Authorization</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.svnserve.html#svn.serverconfig.svnserve.sasl">6.3.3. Using svnserve with SASL</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.svnserve.html#svn.serverconfig.svnserve.sshauth">6.3.4. Tunneling over SSH</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.svnserve.html#svn.serverconfig.svnserve.sshtricks">6.3.5. SSH configuration tricks</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="svn.serverconfig.httpd.html">6.4. httpd, the Apache HTTP Server</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="svn.serverconfig.httpd.html#svn.serverconfig.httpd.prereqs">6.4.1. Prerequisites</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.httpd.html#svn.serverconfig.httpd.basic">6.4.2. Basic Apache Configuration</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.httpd.html#svn.serverconfig.httpd.authn">6.4.3. Authentication Options</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.httpd.html#svn.serverconfig.httpd.authz">6.4.4. Authorization Options</a></span></dt>
<dt><span class="sect2"><a href="svn.serverconfig.httpd.html#svn.serverconfig.httpd.extra">6.4.5. Extra Goodies</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="svn.serverconfig.pathbasedauthz.html">6.5. Path-Based Authorization</a></span></dt>
<dt><span class="sect1"><a href="svn.serverconfig.multimethod.html">6.6. Supporting Multiple Repository Access Methods</a></span></dt>
</dl>
</div>
<p>A Subversion repository can be accessed simultaneously by
    clients running on the same machine on which the repository
    resides using the <code class="literal">file://</code> method.  But the
    typical Subversion setup involves a single server machine being
    accessed from clients on computers all over the office—or,
    perhaps, all over the world.</p>
<p>This chapter describes how to get your Subversion repository
    exposed outside its host machine for use by remote clients.  We
    will cover Subversion's currently available server mechanisms,
    discussing the configuration and use of each.  After reading this
    chapter, you should be able to decide which networking setup is
    right for your needs, as well as understand how to enable such a
    setup on your host computer.</p>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="svn.serverconfig.overview"></a>6.1. Overview</h2></div></div></div>
<p>Subversion was designed with an abstract network layer.
      This means that a repository can be programmatically accessed by
      any sort of server process, and the client “<span class="quote">repository
      access</span>” API allows programmers to write plug-ins that
      speak relevant network protocols.  In theory, Subversion can use
      an infinite number of network implementations.  In practice,
      there are only two servers at the time of this writing.</p>
<p>Apache is an extremely popular web server; using the
      <span class="command"><strong>mod_dav_svn</strong></span> module, Apache can access a
      repository and make it available to clients via the
      WebDAV/DeltaV protocol, which is an extension of HTTP.  Because
      Apache is an extremely extensible server, it provides a number
      of features “<span class="quote">for free,</span>” such as encrypted SSL
      communication, logging, integration with a number of third-party
      authentication systems, and limited built-in web browsing of
      repositories.</p>
<p>In the other corner is <span class="command"><strong>svnserve</strong></span>: a small,
      lightweight server program that speaks a custom protocol with
      clients.  Because its protocol is explicitly designed for
      Subversion and is stateful (unlike HTTP), it provides
      significantly faster network operations—but at the cost of
      some features as well.  While it can use SASL to provide a
      variety of authentication and encryption options, it has no
      logging or built-in web browsing.  It is, however, extremely
      easy to set up and is often the best option for small teams just
      starting out with Subversion.</p>
<p>A third option is to use <span class="command"><strong>svnserve</strong></span>
      tunneled over an SSH connection.  Even though this scenario
      still uses <span class="command"><strong>svnserve</strong></span>, it differs quite a bit
      in features from a traditional <span class="command"><strong>svnserve</strong></span>
      deployment.  SSH is used to encrypt all communication.  SSH is
      also used exclusively to authenticate, so real system accounts
      are required on the server host (unlike
      vanilla <span class="command"><strong>svnserve</strong></span>, which has its own private
      user accounts).  Finally, because this setup requires that each
      user spawn a private, temporary <span class="command"><strong>svnserve</strong></span>
      process, it's equivalent (from a permissions point of view) to
      allowing a group of local users to all access the repository
      via <code class="literal">file://</code> URLs. Path-based access control
      has no meaning, since each user is accessing the repository
      database files directly.</p>
<p><a class="xref" href="svn.serverconfig.html#svn.serverconfig.overview.tbl-1" title="Table 6.1. Comparison of subversion server options">Table 6.1, “Comparison of subversion server options”</a> provides a
      quick summary of the three typical server deployments.</p>
<div class="table">
<a name="svn.serverconfig.overview.tbl-1"></a><p class="title"><b>Table 6.1. Comparison of subversion server options</b></p>
<div class="table-contents"><table summary="Comparison of subversion server options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Feature</th>
<th>Apache + mod_dav_svn</th>
<th>svnserve</th>
<th>svnserve over SSH</th>
</tr></thead>
<tbody>
<tr>
<td>Authentication options</td>
<td>HTTP(S) basic auth, X.509 certificates, LDAP, NTLM, or
              any other mechanism available to Apache httpd</td>
<td>CRAM-MD5 by default;  LDAP, NTLM, or any other mechanism
              available to SASL</td>
<td>SSH</td>
</tr>
<tr>
<td>User account options</td>
<td>Private 'users' file, or other mechanisms
            available to Apache httpd (LDAP, SQL, etc.)</td>
<td>Private 'users' file, or other mechanisms available
              to SASL (LDAP, SQL, etc.)</td>
<td>System accounts</td>
</tr>
<tr>
<td>Authorization options</td>
<td>Read/write access can be granted over the whole
              repository, or specified per path</td>
<td>Read/write access can be granted over the whole
              repository, or specified per path</td>
<td>Read/write access only grantable over the whole
              repository</td>
</tr>
<tr>
<td>Encryption</td>
<td>Available via optional SSL</td>
<td>Available via optional SASL features</td>
<td>Inherent in SSH connection</td>
</tr>
<tr>
<td>Logging</td>
<td>Full Apache logs of each HTTP request, with
            optional “<span class="quote">high-level</span>” logging of general
            client operations</td>
<td>No logging</td>
<td>No logging</td>
</tr>
<tr>
<td>Interoperability</td>
<td>Accessible by other WebDAV clients</td>
<td>Talks only to svn clients</td>
<td>Talks only to svn clients</td>
</tr>
<tr>
<td>Web viewing</td>
<td>Limited built-in support, or via third-party tools
              such as ViewVC</td>
<td>Only via third-party tools such as ViewVC</td>
<td>Only via third-party tools such as ViewVC</td>
</tr>
<tr>
<td>Master-slave server replication</td>
<td>Transparent write-proxying available from slave to master</td>
<td>Can only create read-only slave servers</td>
<td>Can only create read-only slave servers</td>
</tr>
<tr>
<td>Speed</td>
<td>Somewhat slower</td>
<td>Somewhat faster</td>
<td>Somewhat faster</td>
</tr>
<tr>
<td>Initial setup</td>
<td>Somewhat complex</td>
<td>Extremely simple</td>
<td>Moderately simple</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="svn.reposadmin.summary.html">Prev</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="svn.serverconfig.choosing.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">5.6. Summary </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 6.2. Choosing a Server Configuration</td>
</tr>
</table>
</div>
</body>
</html>
