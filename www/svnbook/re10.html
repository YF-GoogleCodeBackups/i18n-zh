<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>svn diff</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.73.2"><link rel="start" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;"><link rel="up" href="ch09.html#svn.ref.svn.c" title="svn Subcommands"><link rel="prev" href="re09.html" title="svn delete"><link rel="next" href="re11.html" title="svn export"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">svn diff</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="re09.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center"><span class="command"><strong>svn</strong></span> Subcommands</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="re11.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="refentry" lang="zh-cn"><a name="svn.ref.svn.c.diff"></a><div class="titlepage"></div><a class="indexterm" name="d0e17003"></a><div class="refnamediv"><h2>&#21517;&#31216;</h2><p>svn diff &#8212; Display the differences between two revisions or paths.</p></div><div class="refsection" lang="zh-cn"><a name="d0e17015"></a><h2>&#27010;&#35201;</h2><pre class="programlisting">diff [-c M | -r N[:M]] [TARGET[@REV]...]</pre><pre class="programlisting">diff [-r N[:M]] --old=OLD-TGT[@OLDREV] [--new=NEW-TGT[@NEWREV]] [PATH...]</pre><pre class="programlisting">diff OLD-URL[@OLDREV] NEW-URL[@NEWREV]</pre></div><div class="refsection" lang="zh-cn"><a name="d0e17025"></a><h2>&#25551;&#36848;</h2><p>Display the differences between two paths.  The ways
            you can use <span class="command"><strong>svn diff</strong></span> are:</p><p>Use just <span class="command"><strong>svn diff'</strong></span>to display local
            modifications in a working copy.</p><p>&#26174;&#31034;<em class="replaceable"><code>TARGET</code></em>&#22312;<em class="replaceable"><code>REV</code></em>&#30340;&#26679;&#23376;&#26102;&#20004;&#20010;&#20462;&#35746;&#29256;&#26412;&#20043;&#38388;&#25152;&#20316;&#30340;&#20462;&#25913;&#65292;<em class="replaceable"><code>TARGET</code></em>&#21487;&#20197;&#26159;&#20219;&#20309;&#24037;&#20316;&#25335;&#36125;&#36335;&#24452;&#25110;&#20219;&#20309;<em class="replaceable"><code>URL</code></em>&#65292;&#22914;&#26524;<em class="replaceable"><code>TARGET</code></em>&#26159;&#24037;&#20316;&#25335;&#36125;&#36335;&#24452;&#65292;&#21017;<em class="replaceable"><code>N</code></em>&#32570;&#30465;&#26159;<code class="literal">BASE</code>&#65292;&#32780;<em class="replaceable"><code>M</code></em>&#26159;&#24037;&#20316;&#25335;&#36125;&#65307;&#22914;&#26524;&#26159;<em class="replaceable"><code>URL</code></em>&#65292;&#21017;&#24517;&#39035;&#25351;&#23450;<em class="replaceable"><code>N</code></em>&#65292;&#32780;<em class="replaceable"><code>M</code></em>&#32570;&#30465;&#26159;<code class="literal">HEAD</code>&#12290;&#8220;<span class="quote">-c M</span>&#8221;&#36873;&#39033;&#19982;&#8220;<span class="quote">-r N:M</span>&#8221;&#31561;&#20215;&#65292;&#20854;&#20013;<code class="literal">N = M-1</code>&#12290;&#20351;&#29992;&#8220;<span class="quote">-c -M</span>&#8221;&#21017;&#30456;&#21453;&#65306;&#8220;<span class="quote">-r M:N</span>&#8221;&#30340;&#24847;&#24605;&#26159;<code class="literal">N = M-1</code>&#12290;</p><p>&#26174;&#31034;&#22312;<em class="replaceable"><code>OLDREV</code></em>&#30340;<em class="replaceable"><code>OLD-TGT</code></em>&#21644;<em class="replaceable"><code>NEWREV</code></em>&#30340;<em class="replaceable"><code>NEW-TGT</code></em>&#20043;&#38388;&#30340;&#21306;&#21035;&#12290;&#22914;&#26524;&#25552;&#20379;<em class="replaceable"><code>PATH</code></em>&#65292;&#21017;&#19982;<em class="replaceable"><code>OLD-TGT</code></em>&#21644;<em class="replaceable"><code>NEW-TGT</code></em>&#20851;&#32852;&#65292;&#23558;&#36755;&#20986;&#38480;&#21046;&#22312;&#37027;&#20123;&#36335;&#24452;&#12290;<em class="replaceable"><code>OLD-TGT</code></em>&#21644;<em class="replaceable"><code>NEW-TGT</code></em>&#21487;&#33021;&#26159;&#24037;&#20316;&#25335;&#36125;&#36335;&#32463;&#25110;<em class="replaceable"><code>URL[@REV]</code></em>&#12290;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#65292;<em class="replaceable"><code>NEW-TGT</code></em>&#32570;&#30465;&#26159;<em class="replaceable"><code>OLD-TGT</code></em>&#12290;&#8220;<span class="quote">-r N</span>&#8221;&#35774;&#32622;OLDREV&#32570;&#30465;&#20026;N&#65292;&#32780;-r N:M&#35774;&#32622;<em class="replaceable"><code>OLDREV</code></em>&#32570;&#30465;&#20026;<em class="replaceable"><code>N</code></em>&#65292;&#32780;<em class="replaceable"><code>NEWREV</code></em>&#32570;&#30465;&#20026;<em class="replaceable"><code>M</code></em>&#12290;</p><p>Shorthand for <span class="command"><strong>svn diff --old=OLD-URL[@OLDREV]
            --new=NEW-URL[@NEWREV]</strong></span></p><p><span class="command"><strong>svn diff -r N:M URL</strong></span> is shorthand
            for <span class="command"><strong>svn diff -r N:M --old=URL
            --new=URL</strong></span>.</p><p><span class="command"><strong>svn diff [-r N[:M]] URL1[@N]
            URL2[@M]</strong></span> is shorthand for <span class="command"><strong>svn diff [-r
            N[:M]] --old=URL1 --new=URL2</strong></span>.</p><p><em class="replaceable"><code>TARGET</code></em>&#26159;&#19968;&#20010;URL&#65292;&#28982;&#21518;&#21487;&#20197;&#20351;&#29992;&#21069;&#38754;&#25552;&#21040;&#30340;<code class="option">--revision</code>&#25110;&#8220;<span class="quote">@</span>&#8221;&#31526;&#21495;&#26469;&#25351;&#23450;N&#21644;M&#12290;</p><p>If <em class="replaceable"><code>TARGET</code></em> is a working copy
            path, then the <code class="option">--revision</code> option
            means:</p><div class="variablelist"><dl><dt><span class="term">
                  <code class="option">--revision N:M</code>
                </span></dt><dd><p>&#26381;&#21153;&#22120;&#27604;&#36739; <em class="replaceable"><code>TARGET</code></em>@<em class="replaceable"><code>N</code></em>&#21644;<em class="replaceable"><code>TARGET</code></em>@<em class="replaceable"><code>M</code></em>&#12290;</p></dd><dt><span class="term">
                  <code class="option">--revision N</code>
                </span></dt><dd><p>&#23458;&#25143;&#31471;&#27604;&#36739;<em class="replaceable"><code>TARGET</code></em>@<em class="replaceable"><code>N</code></em>&#21644;&#24037;&#20316;&#25335;&#36125;&#12290;</p></dd><dt><span class="term">&#65288;&#26080;<code class="option">--revision</code>&#65289;</span></dt><dd><p>&#23458;&#25143;&#31471;&#27604;&#36739;base&#21644; <em class="replaceable"><code>TARGET</code></em>&#30340;<em class="replaceable"><code>TARGET</code></em>&#12290;</p></dd></dl></div><p>If the alternate syntax is used, the server compares
            <em class="replaceable"><code>URL1</code></em> and
            <em class="replaceable"><code>URL2</code></em> at revisions
            <em class="replaceable"><code>N</code></em> and
            <em class="replaceable"><code>M</code></em> respectively.  If either
            <em class="replaceable"><code>N</code></em> or
            <em class="replaceable"><code>M</code></em> are omitted, a value of
            <code class="literal">HEAD</code> is assumed.</p><p>By default, <span class="command"><strong>svn diff</strong></span> ignores the
            ancestry of files and merely compares the contents of the
            two files being compared.  If you use
            <code class="option">--notice-ancestry</code>, the ancestry of the
            paths in question will be taken into consideration when
            comparing revisions (that is, if you run <span class="command"><strong>svn
            diff</strong></span> on two files with identical contents but
            different ancestry you will see the entire contents of the
            file as having been removed and added again).</p></div><div class="refsection" lang="zh-cn"><a name="d0e17270"></a><h2>&#21035;&#21517;</h2><p>di</p></div><div class="refsection" lang="zh-cn"><a name="d0e17276"></a><h2>&#25913;&#21464;</h2><p>&#26080;2</p></div><div class="refsection" lang="zh-cn"><a name="d0e17282"></a><h2>&#26159;&#21542;&#35775;&#38382;&#29256;&#26412;&#24211;</h2><p>For obtaining differences against anything but
            <code class="literal">BASE</code> revision in your working copy</p></div><div class="refsection" lang="zh-cn"><a name="d0e17291"></a><h2>&#36873;&#39033;</h2><pre class="screen">
--revision (-r) ARG
--change (-c) ARG
--old ARG
--new ARG
--depth ARG
--diff-cmd CMD
--extensions (-x) "ARGS"
--no-diff-deleted
--notice-ancestry
--summarize
--force
--username USER
--password PASS
--no-auth-cache
--non-interactive
--config-dir DIR
--changelist ARG
--xml
</pre></div><div class="refsection" lang="zh-cn"><a name="d0e17297"></a><h2>&#20363;&#23376;</h2><p>Compare <code class="literal">BASE</code> and your working copy
            (one of the most popular uses of <span class="command"><strong>svn
            diff</strong></span>):</p><pre class="screen">
$ svn diff COMMITTERS 
Index: COMMITTERS
===================================================================
--- COMMITTERS	(revision 4404)
+++ COMMITTERS	(working copy)
</pre><p>See what changed in the file
            <code class="literal">COMMITTERS</code> revision 9115:</p><pre class="screen">
$ svn diff -c 9115 COMMITTERS 
Index: COMMITTERS
===================================================================
--- COMMITTERS	(revision 3900)
+++ COMMITTERS	(working copy)
</pre><p>&#23519;&#30475;&#20320;&#30340;&#24037;&#20316;&#25335;&#36125;&#23545;&#26087;&#30340;&#20462;&#35746;&#29256;&#26412;&#30340;&#20462;&#25913;&#65306;</p><pre class="screen">
$ svn diff -r 3900 COMMITTERS 
Index: COMMITTERS
===================================================================
--- COMMITTERS	(revision 3900)
+++ COMMITTERS	(working copy)
</pre><p>&#20351;&#29992;&#8220;<span class="quote">@</span>&#8221;&#35821;&#27861;&#19982;&#20462;&#35746;&#29256;&#26412;3000&#21644;35000&#27604;&#36739;&#65306;</p><pre class="screen">
$ svn diff http://svn.collab.net/repos/svn/trunk/COMMITTERS@3000 http://svn.collab.net/repos/svn/trunk/COMMITTERS@3500
Index: COMMITTERS
===================================================================
--- COMMITTERS	(revision 3000)
+++ COMMITTERS	(revision 3500)
&#8230;
</pre><p>&#20351;&#29992;&#33539;&#22260;&#31526;&#21495;&#26469;&#27604;&#36739;&#20462;&#35746;&#29256;&#26412;3000&#21644;3500&#65288;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#21482;&#33021;&#20256;&#36882;&#19968;&#20010;URL&#65289;&#65306;</p><pre class="screen">
$ svn diff -r 3000:3500 http://svn.collab.net/repos/svn/trunk/COMMITTERS
Index: COMMITTERS
===================================================================
--- COMMITTERS	(revision 3000)
+++ COMMITTERS	(revision 3500)
</pre><p>Compare revision 3000 to revision 3500 of all files in
            <code class="filename">trunk</code> using range notation:</p><pre class="screen">
$ svn diff -r 3000:3500 http://svn.collab.net/repos/svn/trunk
          </pre><p>Compare revision 3000 to revision 3500 of only three
            files in <code class="filename">trunk</code> using range
            notation:</p><pre class="screen">
$ svn diff -r 3000:3500 --old http://svn.collab.net/repos/svn/trunk COMMITTERS README HACKING
          </pre><p>&#22914;&#26524;&#20320;&#26377;&#24037;&#20316;&#25335;&#36125;&#65292;&#20320;&#19981;&#24517;&#36755;&#20837;&#36825;&#20040;&#38271;&#30340;URL&#65306;</p><pre class="screen">
$ svn diff -r 3000:3500 COMMITTERS 
Index: COMMITTERS
===================================================================
--- COMMITTERS	(revision 3000)
+++ COMMITTERS	(revision 3500)
</pre><p>&#20351;&#29992;<code class="option">--diff-cmd</code><em class="replaceable"><code>CMD</code></em><code class="option">-x</code>&#26469;&#25351;&#23450;&#22806;&#37096;&#21306;&#21035;&#31243;&#24207;</p><pre class="screen">
$ svn diff --diff-cmd /usr/bin/diff -x "-i -b" COMMITTERS 
Index: COMMITTERS
===================================================================
0a1,2
&gt; This is a test
&gt; 
</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="re09.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch09.html#svn.ref.svn.c">&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="re11.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">svn delete&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;svn export</td></tr></table></div></body></html>