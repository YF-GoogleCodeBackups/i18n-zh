<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;</title>
      <meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
      <link rel="start" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;">
      <link rel="up" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;">
      <link rel="prev" href="svn.tour.html" title="&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#22522;&#26412;&#20351;&#29992;">
      <link rel="next" href="svn.branchmerge.html" title="&#31532;&nbsp;4&nbsp;&#31456;&nbsp;&#20998;&#25903;&#19982;&#21512;&#24182;">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="svn.tour.html">&#19978;&#19968;&#39029;</a>&nbsp;
               </td>
               <th width="60%" align="center">&nbsp;</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="svn.branchmerge.html">&#19979;&#19968;&#39029;</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="chapter" lang="zh-cn">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title"><a name="svn.advanced"></a>&#31532;&nbsp;3&nbsp;&#31456;&nbsp;&#39640;&#32423;&#20027;&#39064;
                  </h2>
               </div>
            </div>
         </div>
         <div class="toc">
            <p><b>&#30446;&#24405;</b></p>
            <dl>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.tour.revs.specifiers">3.1. &#29256;&#26412;&#28165;&#21333;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.tour.revs.keywords">3.1.1. &#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.tour.revs.dates">3.1.2. &#29256;&#26412;&#26085;&#26399;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.props">3.2. &#23646;&#24615;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.why">3.2.1. &#20026;&#20160;&#20040;&#38656;&#35201;&#23646;&#24615;&#65311;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.manip">3.2.2. &#25805;&#20316;&#23646;&#24615;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.workflow">3.2.3. &#23646;&#24615;&#21644; Subversion &#24037;&#20316;&#27969;&#31243;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.auto">3.2.4. &#33258;&#21160;&#35774;&#32622;&#23646;&#24615;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.props.file-portability">3.3. &#25991;&#20214;&#31227;&#26893;&#24615;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.special.mime-type">3.3.1. &#25991;&#20214;&#20869;&#23481;&#31867;&#22411;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.special.executable">3.3.2. &#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.props.special.eol-style">3.3.3. &#34892;&#32467;&#26463;&#23383;&#31526;&#24207;&#21015;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.props.special.ignore">3.4. &#24573;&#30053;&#26410;&#29256;&#26412;&#25511;&#21046;&#30340;&#26465;&#30446;</a></span></dt>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.props.special.keywords">3.5. &#20851;&#38190;&#23383;&#26367;&#25442;</a></span></dt>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.sparsedirs">3.6. &#31232;&#30095;&#30446;&#24405;</a></span></dt>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.locking">3.7. &#38145;&#23450;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.locking.creation">3.7.1. &#21019;&#24314;&#38145;&#23450;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.locking.discovery">3.7.2. &#21457;&#29616;&#38145;&#23450;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.locking.break-steal">3.7.3. &#35299;&#38500;&#21644;&#20599;&#31363;&#38145;&#23450;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.locking.lock-communication">3.7.4. &#38145;&#23450;&#20132;&#27969;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.externals">3.8. &#22806;&#37096;&#23450;&#20041;</a></span></dt>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.pegrevs">3.9. Peg &#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;</a></span></dt>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.changelists">3.10. &#20462;&#25913;&#21015;&#34920;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.changelists.creating">3.10.1. &#21019;&#24314;&#21644;&#26356;&#26032;&#20462;&#25913;&#21015;&#34920;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.changelists.asfilters">3.10.2. &#29992;&#20462;&#25913;&#21015;&#34920;&#20316;&#20026;&#25805;&#20316;&#36807;&#28388;&#22120;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.advanced.changelists.limitations">3.10.3. &#20462;&#25913;&#21015;&#34920;&#30340;&#38480;&#21046;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.serverconfig.netmodel">3.11. &#32593;&#32476;&#27169;&#22411;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.serverconfig.netmodel.reqresp">3.11.1. &#35831;&#27714;&#21644;&#21709;&#24212;</a></span></dt>
                     <dt><span class="sect2"><a href="svn.advanced.html#svn.serverconfig.netmodel.credcache">3.11.2. &#23458;&#25143;&#31471;&#20973;&#35777;&#32531;&#23384;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="svn.advanced.html#svn.advanced.summary">3.12. &#24635;&#32467;</a></span></dt>
            </dl>
         </div>
         <p>If you've been reading this book chapter by chapter, from
                start to finish, you should by now have acquired enough
                knowledge to use the Subversion client to perform the most
                common version control operations.  You understand how to
                check out a working copy from a Subversion repository.  You are
                comfortable with submitting and receiving changes using the
                <span class="command"><strong>svn commit</strong></span> and <span class="command"><strong>svn update</strong></span>
                operations.  You've probably even developed a reflex that causes
                you to run the <span class="command"><strong>svn status</strong></span> command almost
                unconsciously.  For all intents and purposes, you are ready to
                use Subversion in a typical environment.
         </p>
         <p>&#20294;&#26159;Subversion&#30340;&#29305;&#24615;&#24182;&#27809;&#26377;&#27490;&#20110;&#8220;<span class="quote">&#26222;&#36890;&#30340;&#29256;&#26412;&#25511;&#21046;&#25805;&#20316;</span>&#8221;&#65292;&#23427;&#20063;&#26377;&#19968;&#20123;&#36229;&#36234;&#20102;&#19982;&#29256;&#26412;&#24211;&#20256;&#36882;&#25991;&#20214;&#21644;&#30446;&#24405;&#20462;&#25913;&#20197;&#22806;&#30340;&#21151;&#33021;&#12290;
         </p>
         <p>&#26412;&#31456;&#37325;&#28857;&#20171;&#32461;&#20102;&#19968;&#20123;&#24456;&#37325;&#35201;&#20294;&#19981;&#26159;&#32463;&#24120;&#20351;&#29992;&#30340;Subversion&#29305;&#24615;&#65292;&#26412;&#31456;&#20551;&#23450;&#20320;&#29087;&#24713;Subversion&#23545;&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#22522;&#26412;&#29256;&#26412;&#25805;&#20316;&#33021;&#21147;&#65292;&#22914;&#26524;&#20320;&#36824;&#27809;&#26377;&#38405;&#35835;&#36825;&#20123;&#20869;&#23481;&#65292;&#25110;&#32773;&#26159;&#38656;&#35201;&#19968;&#20010;&#22797;&#20064;&#65292;&#25105;&#20204;&#24314;&#35758;&#20320;&#37325;&#35835;<a class="xref" href="svn.basic.html" title="&#31532;&nbsp;1&nbsp;&#31456;&nbsp;&#22522;&#26412;&#27010;&#24565;">&#31532;&nbsp;1&nbsp;&#31456; <i>&#22522;&#26412;&#27010;&#24565;</i></a>&#21644;<a class="xref" href="svn.tour.html" title="&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#22522;&#26412;&#20351;&#29992;">&#31532;&nbsp;2&nbsp;&#31456; <i>&#22522;&#26412;&#20351;&#29992;</i></a>&#65292;&#19968;&#26086;&#20320;&#24050;&#32463;&#25484;&#25569;&#20102;&#22522;&#30784;&#30693;&#35782;&#21644;&#26412;&#31456;&#30340;&#20869;&#23481;&#65292;&#20320;&#20250;&#21464;&#25104;Subversion&#30340;&#36229;&#32423;&#29992;&#25143;&#65281;
         </p>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.tour.revs.specifiers"></a>3.1.&nbsp;&#29256;&#26412;&#28165;&#21333;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#23601;&#20687;&#20320;&#22312;<a class="xref" href="svn.basic.html#svn.basic.in-action.revs" title="1.3.3.&nbsp;&#20462;&#35746;&#29256;&#26412;">&#31532;&nbsp;1.3.3&nbsp;&#33410; &#8220;&#20462;&#35746;&#29256;&#26412;&#8221;</a>&#35265;&#21040;&#30340;&#65292;Subversion&#30340;&#20462;&#35746;&#29256;&#26412;&#21495;&#30721;&#38750;&#24120;&#30452;&#25509;&#8212;&#23601;&#26159;&#38543;&#25552;&#20132;&#22686;&#22823;&#30340;&#25972;&#25968;&#12290;&#23613;&#31649;&#22914;&#27492;&#65292;&#19981;&#20250;&#33457;&#24456;&#38271;&#26102;&#38388;&#20320;&#23601;&#20250;&#24536;&#35760;&#27599;&#20010;&#20462;&#35746;&#29256;&#26412;&#30340;&#20462;&#25913;&#65292;&#20294;&#24184;&#36816;&#30340;&#26159;&#65292;&#20856;&#22411;&#30340;Subvesion&#24037;&#20316;&#27969;&#31243;&#20013;&#19968;&#33324;&#19981;&#20250;&#35201;&#27714;&#20320;&#25552;&#20379;&#20219;&#24847;&#30340;&#20462;&#35746;&#29256;&#26412;&#21495;&#12290;&#22312;&#38656;&#35201;&#36755;&#20837;&#20462;&#35746;&#29256;&#26412;&#21495;&#26102;&#65292;&#36890;&#24120;&#25110;&#32773;&#26159;&#20320;&#22312;&#19968;&#20010;&#25552;&#20132;&#37038;&#20214;&#20013;&#30475;&#21040;&#20102;&#19968;&#20010;&#20462;&#35746;&#29256;&#26412;&#65292;&#25110;&#32773;&#26159;&#22312;&#20854;&#20182;Subversion&#21629;&#20196;&#30340;&#36755;&#20986;&#32467;&#26524;&#20013;&#65292;&#25110;&#32773;&#26159;&#20219;&#20309;&#19978;&#19979;&#25991;&#29615;&#22659;&#24471;&#21040;&#26576;&#20010;&#29256;&#26412;&#21495;&#30721;&#30340;&#24773;&#20917;&#19979;&#12290;
            </p>
            <p>&#20294;&#26159;&#26377;&#26102;&#20505;&#65292;&#20320;&#38656;&#35201;&#31934;&#30830;&#25351;&#23450;&#19968;&#20010;&#26102;&#38388;&#65292;&#32780;&#26080;&#27861;&#35760;&#20303;&#25110;&#32773;&#35760;&#24405;&#20102;&#26576;&#20010;&#29256;&#26412;&#65292;&#36825;&#26102;&#38500;&#20102;&#20351;&#29992;&#20462;&#35746;&#29256;&#26412;&#21495;&#30721;&#65292;<span class="command"><strong>svn</strong></span>&#20801;&#35768;&#20351;&#29992;&#20854;&#20182;&#24418;&#24335;&#26469;&#25351;&#23450;&#20462;&#35746;&#29256;&#26412;&#8212;<em class="firstterm">&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;</em>&#21644;&#20462;&#35746;&#29256;&#26412;&#26085;&#26399;&#12290;
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Note">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td>
                     <th align="left">&#27880;&#24847;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>&#24403;&#29992;&#26469;&#25351;&#23450;&#20462;&#35746;&#29256;&#26412;&#33539;&#22260;&#26102;&#65292;&#19981;&#21516;&#24418;&#24335;&#30340;Subversion&#20462;&#35746;&#29256;&#26412;&#21487;&#20197;&#28151;&#21512;&#21305;&#37197;&#12290;&#20363;&#22914;&#65292;&#20320;&#21487;&#20197;<em class="replaceable"><code>REV1</code></em>&#26159;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;&#65292;<em class="replaceable"><code>REV2</code></em>&#26159;&#20462;&#35746;&#29256;&#26412;&#21495;&#65292;&#25110;&#32773;&#26159;<em class="replaceable"><code>REV1</code></em>&#26159;&#26085;&#26399;&#65292;&#32780;<em class="replaceable"><code>REV2</code></em>&#26159;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;&#65292;&#31561;&#31561;&#12290;&#19981;&#21516;&#30340;&#20462;&#35746;&#29256;&#26412;&#25351;&#23450;&#31526;&#26159;&#31561;&#20215;&#30340;&#65292;&#25152;&#20197;&#20320;&#21487;&#20197;&#22312;&#20882;&#21495;&#20004;&#36793;&#20219;&#24847;&#20351;&#29992;&#12290;
                        </p>
                     </td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.tour.revs.keywords"></a>3.1.1.&nbsp;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;
                        </h3>
                     </div>
                  </div>
               </div><a class="indexterm" name="d0e3595"></a><a class="indexterm" name="d0e3600"></a><a class="indexterm" name="d0e3603"></a><a class="indexterm" name="d0e3606"></a><a class="indexterm" name="d0e3609"></a><p>Subversion&#23458;&#25143;&#31471;&#21487;&#20197;&#29702;&#35299;&#19968;&#20123;<em class="firstterm">&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;</em>&#65292;&#36825;&#20123;&#20851;&#38190;&#23383;&#21487;&#20197;&#29992;&#26469;&#20195;&#26367;<code class="option">--revision</code>(<code class="option">-r</code>)&#30340;&#25968;&#23383;&#21442;&#25968;&#65292;&#36825;&#20250;&#34987;Subversion&#35299;&#37322;&#21040;&#29305;&#23450;&#20462;&#35746;&#29256;&#26412;&#21495;&#65306;
               </p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term"><code class="literal">HEAD</code></span></dt>
                     <dd>
                        <p>&#29256;&#26412;&#24211;&#20013;&#26368;&#26032;&#30340;(&#25110;&#32773;&#26159;&#8220;<span class="quote">&#26368;&#24180;&#36731;&#30340;</span>&#8221;)&#29256;&#26412;&#12290;
                        </p>
                     </dd>
                     <dt><span class="term"><code class="literal">BASE</code></span></dt>
                     <dd>
                        <p>&#24037;&#20316;&#21103;&#26412;&#20013;&#19968;&#20010;&#26465;&#30446;&#30340;&#20462;&#35746;&#29256;&#26412;&#21495;&#65292;&#22914;&#26524;&#36825;&#20010;&#29256;&#26412;&#22312;&#26412;&#22320;&#20462;&#25913;&#20102;&#65292;&#21017;&#36825;&#37324;&#25351;&#30340;&#26159;&#36825;&#20010;&#26465;&#30446;&#22312;&#26412;&#22320;&#26410;&#20462;&#25913;&#30340;&#29256;&#26412;&#12290;</p>
                     </dd>
                     <dt><span class="term"><code class="literal">COMMITTED</code></span></dt>
                     <dd>
                        <p>&#39033;&#30446;&#26368;&#36817;&#20462;&#25913;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#19982;<code class="literal">BASE</code>&#30456;&#21516;&#25110;&#26356;&#26089;&#12290;
                        </p>
                     </dd>
                     <dt><span class="term"><code class="literal">PREV</code></span></dt>
                     <dd>
                        <p>The revision immediately <span class="emphasis"><em>before</em></span>
                                         the last revision in which an item changed.
                                         Technically, this boils down to
                                         <code class="literal">COMMITTED</code>&#8722;1.
                        </p>
                     </dd>
                  </dl>
               </div>
               <p>&#22240;&#20026;&#21487;&#20197;&#20174;&#25551;&#36848;&#20013;&#24471;&#21040;&#65292;&#20851;&#38190;&#23383;<code class="literal">PREV</code>&#65292;<code class="literal">BASE</code>&#21644;<code class="literal">COMMITTED</code>&#21482;&#22312;&#24341;&#29992;&#24037;&#20316;&#21103;&#26412;&#36335;&#24452;&#26102;&#20351;&#29992;&#65292;&#32780;&#19981;&#33021;&#29992;&#20110;&#29256;&#26412;&#24211;URL&#65292;&#32780;&#20851;&#38190;&#23383;<code class="literal">HEAD</code>&#21017;&#21487;&#20197;&#29992;&#20110;&#20004;&#31181;&#36335;&#24452;&#31867;&#22411;&#12290;
               </p>
               <p>&#19979;&#38754;&#26159;&#19968;&#20123;&#20462;&#35746;&#29256;&#26412;&#20851;&#38190;&#23383;&#30340;&#20363;&#23376;&#65306;</p><pre class="screen">
$ svn diff -r PREV:COMMITTED foo.c
# shows the last change committed to foo.c

$ svn log -r HEAD
# shows log message for the latest repository commit

$ svn diff -r HEAD
# compares your working copy (with all of its local changes) to the
# latest version of that tree in the repository

$ svn diff -r BASE:HEAD foo.c
# compares the unmodified version of foo.c with the latest version of
# foo.c in the repository

$ svn log -r BASE:HEAD
# shows all commit logs for the current versioned directory since you
# last updated

$ svn update -r PREV foo.c
# rewinds the last change on foo.c, decreasing foo.c's working revision

$ svn diff -r BASE:14 foo.c
# compares the unmodified version of foo.c with the way foo.c looked
# in revision 14
</pre></div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.tour.revs.dates"></a>3.1.2.&nbsp;&#29256;&#26412;&#26085;&#26399;
                        </h3>
                     </div>
                  </div>
               </div><a class="indexterm" name="d0e3686"></a><p>&#22312;&#29256;&#26412;&#25511;&#21046;&#31995;&#32479;&#20197;&#22806;&#65292;&#20462;&#35746;&#29256;&#26412;&#21495;&#30721;&#26159;&#27809;&#26377;&#24847;&#20041;&#30340;&#65292;&#20294;&#26159;&#26377;&#26102;&#20505;&#20320;&#38656;&#35201;&#23558;&#26102;&#38388;&#21644;&#21382;&#21490;&#20462;&#35746;&#29256;&#26412;&#21495;&#20851;&#32852;&#12290;&#20026;&#27492;&#65292;<code class="option">--revision</code>(<code class="option">-r</code>)&#36873;&#39033;&#25509;&#21463;&#20351;&#29992;&#33457;&#25324;&#21495;(<code class="literal">{</code>&#21644;<code class="literal">}</code>)&#21253;&#35065;&#30340;&#26085;&#26399;&#36755;&#20837;&#65292;Subversion&#25903;&#25345;&#26631;&#20934;ISO-8601&#26085;&#26399;&#21644;&#26102;&#38388;&#26684;&#24335;&#65292;&#20063;&#25903;&#25345;&#19968;&#20123;&#20854;&#20182;&#30340;&#12290;&#19979;&#38754;&#26159;&#19968;&#20123;&#20363;&#23376;&#12290;(&#35760;&#20303;&#20351;&#29992;&#24341;&#21495;&#25324;&#36215;&#25152;&#26377;&#21253;&#21547;&#31354;&#26684;&#30340;&#26085;&#26399;&#12290;)
               </p><pre class="screen">
$ svn checkout -r {2006-02-17}
$ svn checkout -r {15:30}
$ svn checkout -r {15:30:00.200000}
$ svn checkout -r {"2006-02-17 15:30"}
$ svn checkout -r {"2006-02-17 15:30 +0230"}
$ svn checkout -r {2006-02-17T15:30}
$ svn checkout -r {2006-02-17T15:30Z}
$ svn checkout -r {2006-02-17T15:30-04:00}
$ svn checkout -r {20060217T1530}
$ svn checkout -r {20060217T1530Z}
$ svn checkout -r {20060217T1530-0500}
&#8230;
</pre><p>&#24403;&#20320;&#25351;&#23450;&#19968;&#20010;&#26085;&#26399;&#65292;Subversion&#20250;&#22312;&#29256;&#26412;&#24211;&#25214;&#21040;&#25509;&#36817;&#36825;&#20010;&#26085;&#26399;&#30340;&#26368;&#36817;&#29256;&#26412;&#65292;&#24182;&#19988;&#23545;&#36825;&#20010;&#29256;&#26412;&#32487;&#32493;&#25805;&#20316;&#65306;</p><pre class="screen">
$ svn log -r {2006-11-28}
------------------------------------------------------------------------
r12 | ira | 2006-11-27 12:31:51 -0600 (Mon, 27 Nov 2006) | 6 lines
&#8230;
</pre><div class="sidebar">
                  <p class="title"><b>Subversion &#20250;&#26089;&#19968;&#22825;&#21527;&#65311;</b></p>
                  <p>&#22914;&#26524;&#20320;&#21482;&#26159;&#25351;&#23450;&#20102;&#26085;&#26399;&#32780;&#27809;&#26377;&#26102;&#38388;(&#20030;&#20010;&#20363;&#23376;<code class="literal">2006-11-27</code>)&#65292;&#20320;&#20063;&#35768;&#20250;&#20197;&#20026;Subversion&#20250;&#32473;&#20320;11-27&#21495;&#26368;&#21518;&#30340;&#29256;&#26412;&#65292;&#30456;&#21453;&#65292;&#20320;&#20250;&#24471;&#21040;&#19968;&#20010;26&#21495;&#29256;&#26412;&#65292;&#29978;&#33267;&#26356;&#26089;&#12290;&#35760;&#20303;Subversion&#20250;&#26681;&#25454;&#20320;&#30340;&#26085;&#26399;&#25214;&#21040;<span class="emphasis"><em>&#26368;&#26032;&#30340;</em></span>&#29256;&#26412;&#65292;&#22914;&#26524;&#20320;&#32473;&#19968;&#20010;&#26085;&#26399;&#65292;&#32780;&#27809;&#26377;&#32473;&#26102;&#38388;&#65292;&#20687;<code class="literal">2006-11-27</code>&#65292;Subversion&#20250;&#20551;&#23450;&#26102;&#38388;&#26159;00:00:00&#65292;&#25152;&#20197;&#22312;27&#21495;&#25214;&#19981;&#21040;&#20219;&#20309;&#29256;&#26412;&#12290;
                  </p>
                  <p>&#22914;&#26524;&#20320;&#24076;&#26395;&#26597;&#35810;&#21253;&#25324;27&#21495;&#65292;&#20320;&#26082;&#21487;&#20197;&#20351;&#29992;(<code class="literal">{"2006-11-27 23:59"}</code>)&#65292;&#25110;&#26159;&#30452;&#25509;&#20351;&#29992;&#31532;&#20108;&#22825;(<code class="literal">{2006-11-28}</code>)&#12290;
                  </p>
               </div>
               <p>&#20320;&#21487;&#20197;&#20351;&#29992;&#26102;&#38388;&#27573;&#65292;Subversion&#20250;&#25214;&#21040;&#36825;&#27573;&#26102;&#38388;&#30340;&#25152;&#26377;&#29256;&#26412;&#65306;</p><pre class="screen">
$ svn log -r {2006-11-20}:{2006-11-29}
&#8230;
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Warning">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#35686;&#21578;]" src="images/warning.png"></td>
                        <th align="left">&#35686;&#21578;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>&#22240;&#20026;&#19968;&#20010;&#29256;&#26412;&#30340;&#26102;&#38388;&#25139;&#26159;&#20316;&#20026;&#19968;&#20010;&#23646;&#24615;&#23384;&#20648;&#30340;&#8212;&#19981;&#26159;&#29256;&#26412;&#21270;&#30340;&#65292;&#32780;&#26159;&#21487;&#20197;&#32534;&#36753;&#30340;&#23646;&#24615;(&#35265;<a class="xref" href="svn.advanced.html#svn.advanced.props" title="3.2.&nbsp;&#23646;&#24615;">&#31532;&nbsp;3.2&nbsp;&#33410; &#8220;&#23646;&#24615;&#8221;</a>)&#8212;&#29256;&#26412;&#21495;&#30340;&#26102;&#38388;&#25139;&#21487;&#20197;&#34987;&#20462;&#25913;&#65292;&#20174;&#32780;&#24314;&#31435;&#19968;&#20010;&#34394;&#20551;&#30340;&#24180;&#20195;&#34920;&#65292;&#20063;&#21487;&#20197;&#34987;&#23436;&#20840;&#21024;&#38500;&#12290;Subversion&#27491;&#30830;&#36716;&#21270;&#20462;&#35746;&#29256;&#26412;&#26085;&#26399;&#21040;&#20462;&#35746;&#29256;&#26412;&#30340;&#33021;&#21147;&#20381;&#36182;&#20110;&#20462;&#35746;&#29256;&#26412;&#26102;&#38388;&#25139;&#39034;&#24207;&#25490;&#21015;&#8212;&#20462;&#35746;&#29256;&#26412;&#36234;&#24180;&#36731;&#65292;&#21017;&#26102;&#38388;&#25139;&#36234;&#24180;&#36731;&#12290;&#22914;&#26524;&#39034;&#24207;&#27809;&#26377;&#34987;&#32500;&#25252;&#65292;&#20320;&#20250;&#21457;&#29616;&#20351;&#29992;&#26085;&#26399;&#25351;&#23450;&#20462;&#35746;&#29256;&#26412;&#19981;&#20250;&#36820;&#22238;&#20320;&#26399;&#26395;&#30340;&#25968;&#25454;&#12290;
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.props"></a>3.2.&nbsp;&#23646;&#24615;
                     </h2>
                  </div>
               </div>
            </div><a class="indexterm" name="d0e3748"></a><p>&#25105;&#20204;&#24050;&#32463;&#35814;&#32454;&#35762;&#36848;&#20102;Subversion&#23384;&#20648;&#21644;&#26816;&#32034;&#29256;&#26412;&#24211;&#20013;&#19981;&#21516;&#29256;&#26412;&#30340;&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#32454;&#33410;&#65292;&#24182;&#19988;&#29992;&#20102;&#22909;&#20960;&#20010;&#31456;&#33410;&#26469;&#35770;&#36848;&#36825;&#20010;&#24037;&#20855;&#30340;&#22522;&#26412;&#21151;&#33021;&#12290;&#22914;&#26524;&#23545;&#20110;&#29256;&#26412;&#21270;&#30340;&#25903;&#25345;&#21040;&#27492;&#20026;&#27490;&#65292;&#20174;&#29256;&#26412;&#25511;&#21046;&#30340;&#35282;&#24230;&#26469;&#30475;Subversion&#24050;&#32463;&#23436;&#25972;&#20102;&#12290;</p>
            <p>&#20294;&#19981;&#20165;&#20165;&#22914;&#27492;&#12290;</p>
            <p>In addition to versioning your directories and files,
                     Subversion provides interfaces for adding, modifying, and
                     removing versioned metadata on each of your versioned
                     directories and files.  We refer to this metadata as
                     <em class="firstterm">properties</em>, and they can be thought of as
                     two-column tables that map property names to arbitrary values
                     attached to each item in your working copy.  Generally speaking,
                     the names and values of the properties can be whatever you want
                     them to be, with the constraint that the names must contain only
                     ASCII characters.  And the best part about these properties is
                     that they, too, are versioned, just like the textual contents of
                     your files.  You can modify, commit, and revert property changes
                     as easily as you can file content changes.  And the sending and
                     receiving of property changes occurs as part of your typical
                     commit and update operations&#8212;you don't have to change your
                     basic processes to accommodate them.
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Note">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td>
                     <th align="left">&#27880;&#24847;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>Subversion&#33258;&#24049;&#20445;&#30041;&#20102;&#19968;&#32452;&#21517;&#31216;&#20197;<code class="literal">svn:</code>&#24320;&#22836;&#30340;&#23646;&#24615;&#65292;&#29616;&#22312;&#24050;&#32463;&#26377;&#20102;&#19968;&#20123;&#22312;&#29992;&#30340;&#23646;&#24615;&#65292;&#25152;&#20197;&#22312;&#20320;&#26681;&#25454;&#38656;&#35201;&#21019;&#24314;&#33258;&#23450;&#20041;&#23646;&#24615;&#26102;&#65292;&#38656;&#35201;&#36991;&#20813;&#36825;&#20123;&#21069;&#32512;&#24320;&#22836;&#30340;&#21517;&#31216;&#65292;&#21542;&#21017;&#65292;Subversion&#30340;&#26032;&#29256;&#26412;&#21487;&#33021;&#20250;&#37319;&#29992;&#21516;&#21517;&#30340;&#23646;&#24615;&#26469;&#28385;&#36275;&#26032;&#30340;&#29305;&#24615;&#65292;&#32780;&#20854;&#21547;&#20041;&#21487;&#33021;&#20250;&#23436;&#20840;&#19981;&#21516;&#12290;
                        </p>
                     </td>
                  </tr>
               </table>
            </div>
            <p>Subversion&#30340;&#23646;&#24615;&#20063;&#21487;&#20197;&#22312;&#21035;&#30340;&#22320;&#26041;&#20986;&#29616;&#65292;&#23601;&#20687;&#25991;&#20214;&#21644;&#30446;&#24405;&#21487;&#33021;&#38468;&#21152;&#26377;&#20219;&#24847;&#30340;&#23646;&#24615;&#21517;&#21644;&#20540;&#65292;&#27599;&#20010;&#20462;&#35746;&#29256;&#26412;&#20316;&#20026;&#19968;&#20010;&#25972;&#20307;&#20063;&#21487;&#20197;&#38468;&#21152;&#20219;&#24847;&#30340;&#23646;&#24615;&#65292;&#20063;&#26377;&#21516;&#26679;&#30340;&#38480;&#21046;&#8212;&#21487;&#35835;&#30340;&#25991;&#26412;&#21517;&#31216;&#21644;&#20219;&#20309;&#20320;&#24076;&#26395;&#30340;&#20108;&#36827;&#21046;&#20540;&#65292;&#20027;&#35201;&#30340;&#21306;&#21035;&#26159;&#20462;&#35746;&#29256;&#26412;&#23646;&#24615;&#19981;&#26159;&#29256;&#26412;&#21270;&#30340;&#65292;&#25442;&#21477;&#35805;&#35828;&#65292;&#22914;&#26524;&#20320;&#20462;&#25913;&#65292;&#21024;&#38500;&#19968;&#20010;&#20462;&#35746;&#29256;&#26412;&#23646;&#24615;&#65292;&#22312;Subversion&#39046;&#22495;&#20869;&#27809;&#26377;&#21150;&#27861;&#24674;&#22797;&#21040;&#20197;&#21069;&#30340;&#20540;&#12290;</p>
            <p>Subversion&#19981;&#20851;&#24515;&#22914;&#20309;&#20351;&#29992;&#23646;&#24615;&#65292;&#20294;&#26159;&#35201;&#27714;&#20320;&#19981;&#35201;&#20351;&#29992;<code class="literal">svn:</code>&#20026;&#21069;&#32512;&#30340;&#23646;&#24615;&#21517;&#65292;&#36825;&#26159;Subversion&#33258;&#24049;&#20351;&#29992;&#30340;&#21629;&#21517;&#31354;&#38388;&#65292;Subversion&#20351;&#29992;&#20102;&#29256;&#26412;&#21270;&#30340;&#21644;&#26410;&#29256;&#26412;&#21270;&#30340;&#23646;&#24615;&#12290;&#25991;&#20214;&#21644;&#30446;&#24405;&#19978;&#30340;&#29305;&#23450;&#29256;&#26412;&#21270;&#23646;&#24615;&#37117;&#26377;&#29305;&#21035;&#30340;&#24847;&#20041;&#25110;&#25928;&#26524;&#65292;&#25110;&#32773;&#26159;&#25552;&#20379;&#20102;&#20462;&#35746;&#29256;&#26412;&#30340;&#19968;&#20123;&#20449;&#24687;&#12290;&#19968;&#20123;&#20462;&#35746;&#29256;&#26412;&#23646;&#24615;&#20250;&#22312;&#25552;&#20132;&#26102;&#33258;&#21160;&#38468;&#21152;&#21040;&#20462;&#35746;&#29256;&#26412;&#19978;&#65292;&#21253;&#21547;&#20102;&#20462;&#35746;&#29256;&#26412;&#30340;&#20449;&#24687;&#12290;&#22823;&#22810;&#25968;&#36825;&#20123;&#23646;&#24615;&#20250;&#20316;&#20026;&#26222;&#36890;&#30340;&#20027;&#39064;&#22312;&#21518;&#38754;&#25552;&#21450;&#65292;&#20851;&#20110;Subversion&#39044;&#23450;&#20041;&#30340;&#23646;&#24615;&#30340;&#35814;&#32454;&#21015;&#34920;&#21487;&#20197;&#30475;<a class="xref" href="svn.ref.html#svn.ref.properties" title="9.10.&nbsp;Subversion &#23646;&#24615;">&#31532;&nbsp;9.10&nbsp;&#33410; &#8220;Subversion &#23646;&#24615;&#8221;</a>&#12290;
            </p>
            <p>&#22312;&#26412;&#23567;&#33410;&#65292;&#25105;&#20204;&#23558;&#20250;&#26816;&#39564;&#36825;&#20010;&#24037;&#20855;&#8212;&#19981;&#20165;&#26159;&#23545;Subversion&#30340;&#29992;&#25143;&#65292;&#20063;&#23545;Subversion&#26412;&#36523;&#8212;&#23545;&#20110;&#23646;&#24615;&#30340;&#25903;&#25345;&#12290;&#20320;&#20250;&#23398;&#21040;&#19982;&#23646;&#24615;&#30456;&#20851;&#30340;<span class="command"><strong>svn</strong></span>&#23376;&#21629;&#20196;&#65292;&#21644;&#23646;&#24615;&#24590;&#26679;&#24433;&#21709;&#20320;&#30340;&#26222;&#36890;Subversion&#24037;&#20316;&#27969;&#12290;
            </p>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.why"></a>3.2.1.&nbsp;&#20026;&#20160;&#20040;&#38656;&#35201;&#23646;&#24615;&#65311;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>&#23601;&#20687;Subversion&#20351;&#29992;&#23646;&#24615;&#20445;&#23384;&#20854;&#21253;&#21547;&#30340;&#25991;&#20214;&#12289;&#30446;&#24405;&#21644;&#20462;&#35746;&#29256;&#26412;&#30340;&#38468;&#21152;&#20449;&#24687;&#65292;&#20320;&#20063;&#20250;&#21457;&#29616;&#23646;&#24615;&#26377;&#19968;&#20123;&#31867;&#20284;&#30340;&#20351;&#29992;&#65292;&#20320;&#20250;&#21457;&#29616;&#22914;&#26524;&#22312;&#25968;&#25454;&#38468;&#36817;&#26377;&#20010;&#22320;&#26041;&#20445;&#23384;&#33258;&#23450;&#20041;&#20803;&#25968;&#25454;&#20250;&#38750;&#24120;&#26377;&#29992;&#12290;</p>
               <p>&#20551;&#35774;&#20320;&#24076;&#26395;&#35774;&#35745;&#19968;&#20010;&#23384;&#25918;&#35768;&#22810;&#25968;&#30721;&#29031;&#29255;&#30340;&#32593;&#31449;&#65292;&#20250;&#26174;&#31034;&#26631;&#39064;&#21644;&#32553;&#30053;&#22270;&#12290;&#29616;&#22312;&#20320;&#30340;&#22270;&#29255;&#20250;&#32463;&#24120;&#20462;&#25913;&#65292;&#25152;&#20197;&#20320;&#24076;&#26395;&#33021;&#22815;&#35753;&#36825;&#20010;&#31449;&#28857;&#23613;&#37327;&#33258;&#21160;&#22788;&#29702;&#36825;&#20123;&#20107;&#24773;&#65292;&#36825;&#20123;&#29031;&#29255;&#20250;&#24456;&#22823;&#65292;&#25152;&#20197;&#20316;&#20026;&#32593;&#31449;&#65292;&#20320;&#24076;&#26395;&#20026;&#35775;&#38382;&#32773;&#25552;&#20379;&#30456;&#20284;&#30340;&#32553;&#30053;&#22270;&#12290;</p>
               <p>&#29616;&#22312;&#65292;&#20320;&#21487;&#20197;&#21033;&#29992;&#36825;&#20123;&#21151;&#33021;&#20351;&#29992;&#20256;&#32479;&#25991;&#20214;&#12290;&#20320;&#21487;&#20197;&#26377;&#19968;&#20010;<code class="filename">image123.jpg</code>&#21644;&#19968;&#20010;&#23545;&#24212;&#30340;<code class="filename">image123-thumbnail.jpg</code>&#22312;&#21516;&#19968;&#20010;&#30446;&#24405;&#37324;&#65292;&#26377;&#26102;&#20505;&#20320;&#24076;&#26395;&#20445;&#25345;&#25991;&#20214;&#21517;&#30456;&#21516;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;&#19981;&#21516;&#30340;&#30446;&#24405;&#65292;&#22914;<code class="filename">thumbnails/image123.jpg</code>&#12290;&#20320;&#21487;&#20197;&#29992;&#19968;&#31181;&#30456;&#20284;&#30340;&#26679;&#24335;&#26469;&#20445;&#23384;&#20320;&#30340;&#26631;&#39064;&#21644;&#26102;&#38388;&#25139;&#65292;&#21516;&#21407;&#22987;&#22270;&#20687;&#25991;&#20214;&#20998;&#24320;&#12290;&#27599;&#20010;&#26032;&#22270;&#29255;&#30340;&#28155;&#21152;&#37117;&#20250;&#25104;&#20493;&#30340;&#22686;&#21152;&#28151;&#20081;&#65292;&#24456;&#24555;&#20320;&#30340;&#30446;&#24405;&#26641;&#20250;&#26159;&#19968;&#22242;&#31967;&#12290;
               </p>
               <p>&#29616;&#22312;&#32771;&#34385;&#20351;&#29992;Subversion&#25991;&#20214;&#30340;&#23646;&#24615;&#30340;&#26041;&#24335;&#26469;&#31649;&#29702;&#36825;&#20010;&#31449;&#28857;&#65292;&#24819;&#35937;&#25105;&#20204;&#26377;&#19968;&#20010;&#21333;&#29420;&#30340;&#22270;&#20687;&#25991;&#20214;<code class="filename">image123.jpg</code>&#65292;&#28982;&#21518;&#36825;&#20010;&#25991;&#20214;&#30340;&#23646;&#24615;&#38598;&#21253;&#25324;<code class="literal">caption</code>&#12289;<code class="literal">datestamp</code>&#29978;&#33267;<code class="literal">thumbnail</code>&#12290;&#29616;&#22312;&#20320;&#30340;&#24037;&#20316;&#21103;&#26412;&#30446;&#24405;&#30475;&#36215;&#26469;&#26356;&#23481;&#26131;&#31649;&#29702;&#8212;&#23454;&#38469;&#19978;&#65292;&#23427;&#30475;&#36215;&#26469;&#21482;&#26377;&#22270;&#20687;&#25991;&#20214;&#65292;&#20294;&#26159;&#20320;&#30340;&#33258;&#21160;&#21270;&#33050;&#26412;&#30693;&#36947;&#24471;&#26356;&#22810;&#65292;&#23427;&#20204;&#30693;&#36947;&#21487;&#20197;&#29992;<span class="command"><strong>svn</strong></span>(&#26356;&#22909;&#30340;&#36873;&#25321;&#26159;&#20351;&#29992;Subversion&#30340;&#35821;&#35328;&#32465;&#23450;&#8212;&#35265;<a class="xref" href="svn.developer.html#svn.developer.usingapi" title="8.3.&nbsp;&#20351;&#29992; API">&#31532;&nbsp;8.3&nbsp;&#33410; &#8220;&#20351;&#29992; API&#8221;</a>)&#26469;&#25366;&#25496;&#26356;&#22810;&#30340;&#31449;&#28857;&#26174;&#31034;&#38656;&#35201;&#30340;&#39069;&#22806;&#20449;&#24687;&#65292;&#32780;&#19981;&#24517;&#21435;&#38405;&#35835;&#19968;&#20010;&#32034;&#24341;&#25991;&#20214;&#25110;&#32773;&#26159;&#29609;&#19968;&#20010;&#36335;&#24452;&#22788;&#29702;&#30340;&#28216;&#25103;&#12290;
               </p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Note">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td>
                        <th align="left">&#27880;&#24847;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>While Subversion places few restrictions on the names
                                        and values you use for properties, it has not been designed
                                        to optimally carry large property values or large sets of
                                        properties on a given file or directory.  Subversion
                                        commonly holds all the property names and values associated
                                        with a single item in memory at the same time, which can
                                        cause detrimental performance or failed operations when
                                        extremely large property sets are used.
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <p>&#33258;&#23450;&#20041;&#20462;&#35746;&#29256;&#26412;&#23646;&#24615;&#20063;&#32463;&#24120;&#34987;&#20351;&#29992;&#65292;&#19968;&#20010;&#24120;&#35265;&#30340;&#29992;&#27861;&#26159;&#19968;&#20010;&#21253;&#21547;&#38382;&#39064;&#36319;&#36394;ID&#30340;&#23646;&#24615;&#65292;&#21487;&#33021;&#26159;&#22240;&#20026;&#36825;&#20010;&#20462;&#25913;&#20462;&#27491;&#20102;&#36825;&#20010;ID&#30340;&#38382;&#39064;&#12290;&#21478;&#22806;&#19968;&#20123;&#20154;&#29992;&#23646;&#24615;&#26469;&#23384;&#25918;&#26356;&#23481;&#26131;&#35760;&#30340;&#20462;&#35746;&#29256;&#26412;&#21517;&#31216;&#8212;&#35760;&#20303;&#20462;&#35746;&#29256;&#26412;1935&#26159;&#19968;&#20010;&#23436;&#20840;&#27979;&#35797;&#30340;&#29256;&#26412;&#26159;&#24456;&#22256;&#38590;&#30340;&#65292;&#20294;&#26159;&#22914;&#26524;&#22312;&#20462;&#35746;&#29256;&#26412;&#19978;&#35774;&#32622;&#19968;&#20010;&#20540;&#20026;<code class="literal">all passing</code>&#30340;<code class="literal">test-results</code>&#23646;&#24615;&#65292;&#36825;&#23601;&#26377;&#20102;&#19968;&#20010;&#26377;&#29992;&#30340;&#20449;&#24687;&#12290;
               </p>
               <div class="sidebar">
                  <p class="title"><b>&#21487;&#25628;&#32034;&#24615;(&#25110;&#32773;&#65292;&#20026;&#20160;&#20040;<span class="emphasis"><em>&#19981;</em></span>&#20351;&#29992;&#23646;&#24615;)</b></p>
                  <p>For all their utility, Subversion properties&#8212;or,
                               more accurately, the available interfaces to them&#8212;have
                               a major shortcoming: while it is a simple matter to
                               <span class="emphasis"><em>set</em></span> a custom property,
                               <span class="emphasis"><em>finding</em></span> that property later is a whole
                               different ball of wax.
                  </p>
                  <p>&#20026;&#20102;&#23450;&#20301;&#19968;&#20010;&#33258;&#23450;&#20041;&#23646;&#24615;&#36890;&#24120;&#35201;&#32447;&#24418;&#35775;&#38382;&#29256;&#26412;&#24211;&#30340;&#25152;&#26377;&#20462;&#35746;&#29256;&#26412;&#65292;&#21521;&#27599;&#20010;&#20462;&#35746;&#29256;&#26412;&#35810;&#38382;&#65292;&#8220;&#20320;&#20204;&#26377;&#25105;&#25214;&#30340;&#23646;&#24615;&#21527;&#65311;&#8221;&#23581;&#35797;&#26597;&#25214;&#33258;&#23450;&#20041;&#29256;&#26412;&#21270;&#23646;&#24615;&#20063;&#26159;&#21516;&#26679;&#30340;&#30171;&#33510;&#65292;&#36890;&#24120;&#38656;&#35201;&#22312;&#25972;&#20010;&#24037;&#20316;&#21103;&#26412;&#36882;&#24402;&#35843;&#29992;<span class="command"><strong>svn propget</strong></span>&#12290;&#22312;&#20320;&#30340;&#24773;&#20917;&#19979;&#65292;&#21487;&#33021;&#19981;&#20250;&#27604;&#36941;&#21382;&#25152;&#26377;&#20462;&#35746;&#29256;&#26412;&#24046;&#12290;&#20294;&#20063;&#22312;&#24615;&#33021;&#21644;&#25104;&#21151;&#21487;&#33021;&#24615;&#37324;&#30041;&#19979;&#20102;&#35768;&#22810;&#24748;&#24565;&#65292;&#29305;&#21035;&#26159;&#24403;&#20320;&#38656;&#35201;&#20174;&#29256;&#26412;&#24211;&#30340;&#26681;&#24320;&#22987;&#25628;&#32034;&#26102;&#12290;
                  </p>
                  <p>&#22240;&#20026;&#36825;&#20010;&#21407;&#22240;&#65292;&#20320;&#20250;&#36873;&#25321;&#8212;&#29305;&#21035;&#26159;&#22312;&#20462;&#35746;&#29256;&#26412;&#23646;&#24615;&#29992;&#20363;&#8212;&#31616;&#21333;&#30340;&#28155;&#21152;&#20320;&#30340;&#20803;&#25968;&#25454;&#21040;&#20462;&#35746;&#29256;&#26412;&#26085;&#24535;&#20449;&#24687;&#65292;&#20351;&#29992;&#19968;&#20123;&#25919;&#31574;&#39537;&#21160;(&#24182;&#19988;&#26159;&#32534;&#31243;&#24378;&#21046;&#30340;)&#19988;&#21487;&#20197;&#36890;&#36807;<span class="command"><strong>svn log</strong></span>&#24555;&#36895;&#35299;&#26512;&#30340;&#26684;&#24335;&#12290;&#22914;&#19979;&#30340;Subversion&#26085;&#24535;&#20449;&#24687;&#20250;&#24456;&#24120;&#35265;&#65306;
                  </p><pre class="programlisting">
Issue(s): IZ2376, IZ1919
Reviewed by:  sally

This fixes a nasty segfault in the wort frabbing process
&#8230;
</pre><p>&#20294;&#26159;&#29616;&#22312;&#20381;&#28982;&#26377;&#19968;&#20123;&#19981;&#24184;&#65292;Subversion&#19981;&#25903;&#25345;&#26085;&#24535;&#20449;&#24687;&#27169;&#29256;&#26426;&#21046;&#65292;&#34429;&#28982;&#36825;&#26679;&#23545;&#29992;&#25143;&#19982;&#26085;&#24535;&#23884;&#20837;&#30340;&#20462;&#35746;&#29256;&#26412;&#20803;&#25968;&#25454;&#20445;&#25345;&#19968;&#33268;&#26377;&#24456;&#22823;&#24110;&#21161;&#12290;</p>
               </div>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.manip"></a>3.2.2.&nbsp;&#25805;&#20316;&#23646;&#24615;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>The <span class="command"><strong>svn</strong></span> program affords a few ways to
                          add or modify file and directory properties.  For properties
                          with short, human-readable values, perhaps the simplest way to
                          add a new property is to specify the property name and value
                          on the command line of the <span class="command"><strong>svn propset</strong></span>
                          subcommand:
               </p><pre class="screen">
$ svn propset copyright '(c) 2006 Red-Bean Software' calc/button.c
property 'copyright' set on 'calc/button.c'
$
</pre><p>But we've been touting the flexibility that Subversion
                          offers for your property values.  And if you are planning to
                          have a multiline textual, or even binary, property value, you
                          probably do not want to supply that value on the command line.
                          So the <span class="command"><strong>svn propset</strong></span> subcommand takes a
                          <code class="option">--file</code> (<code class="option">-F</code>) option for
                          specifying the name of a file that contains the new property
                          value.
               </p><pre class="screen">
$ svn propset license -F /path/to/LICENSE calc/button.c
property 'license' set on 'calc/button.c'
$
</pre><p>&#23545;&#20110;&#23646;&#24615;&#21517;&#31216;&#20063;&#26377;&#19968;&#20123;&#38480;&#21046;&#65292;&#23646;&#24615;&#21517;&#24517;&#39035;&#20197;&#19968;&#20010;&#23383;&#31526;&#12289;&#19968;&#20010;&#20882;&#21495;(<code class="literal">:</code>)&#25110;&#19979;&#21010;&#32447;(<code class="literal">_</code>)&#24320;&#22987;&#65292;&#20043;&#21518;&#20320;&#21487;&#20197;&#20351;&#29992;&#25968;&#23383;&#65292;&#27178;&#32447;(<code class="literal">-</code>)&#21644;&#21477;&#21495;(<code class="literal">.</code>)&#12290; <sup>[<a name="d0e3898" href="#ftn.d0e3898" class="footnote">8</a>]</sup></p>
               <p>&#20316;&#20026;<span class="command"><strong>propset</strong></span>&#21629;&#20196;&#30340;&#34917;&#20805;&#65292;<span class="command"><strong>svn</strong></span>&#25552;&#20379;&#20102;&#19968;&#20010;<span class="command"><strong>propedit</strong></span>&#21629;&#20196;&#65292;&#36825;&#20010;&#21629;&#20196;&#20351;&#29992;&#23450;&#21046;&#30340;&#32534;&#36753;&#22120;&#31243;&#24207;(&#35265;<a class="xref" href="svn.customization.html#svn.advanced.confarea.opts.config" title="7.1.3.2.&nbsp;&#37197;&#32622;">&#31532;&nbsp;7.1.3.2&nbsp;&#33410; &#8220;&#37197;&#32622;&#8221;</a>)&#26469;&#28155;&#21152;&#21644;&#20462;&#25913;&#23646;&#24615;&#12290;&#24403;&#20320;&#36816;&#34892;&#36825;&#20010;&#21629;&#20196;&#65292;<span class="command"><strong>svn</strong></span>&#35843;&#29992;&#20320;&#30340;&#32534;&#36753;&#22120;&#31243;&#24207;&#25171;&#24320;&#19968;&#20010;&#20020;&#26102;&#25991;&#20214;&#65292;&#25991;&#20214;&#20013;&#20445;&#23384;&#24403;&#21069;&#30340;&#23646;&#24615;&#20540;(&#25110;&#32773;&#26159;&#31354;&#25991;&#20214;&#65292;&#22914;&#26524;&#20320;&#27491;&#22312;&#28155;&#21152;&#26032;&#30340;&#23646;&#24615;)&#12290;&#28982;&#21518;&#20320;&#21482;&#38656;&#35201;&#20462;&#25913;&#20026;&#20320;&#24819;&#35201;&#30340;&#20540;&#65292;&#20445;&#23384;&#20020;&#26102;&#25991;&#20214;&#65292;&#28982;&#21518;&#31163;&#24320;&#32534;&#36753;&#22120;&#31243;&#24207;&#12290;&#22914;&#26524;Subversion&#21457;&#29616;&#20320;&#24050;&#32463;&#20462;&#25913;&#20102;&#23646;&#24615;&#20540;&#65292;&#23601;&#20250;&#25509;&#21463;&#26032;&#20540;&#65292;&#22914;&#26524;&#20320;&#26410;&#20316;&#20219;&#20309;&#20462;&#25913;&#32780;&#31163;&#24320;&#65292;&#19981;&#20250;&#20135;&#29983;&#23646;&#24615;&#20462;&#25913;&#25805;&#20316;&#65306;
               </p><pre class="screen">
$ svn propedit copyright calc/button.c  ### exit the editor without changes
No changes to property 'copyright' on 'calc/button.c'
$
</pre><p>&#25105;&#20204;&#20063;&#24212;&#35813;&#27880;&#24847;&#21040;&#65292;&#20687;&#20854;&#23427;<span class="command"><strong>svn</strong></span>&#23376;&#21629;&#20196;&#19968;&#26679;&#65292;&#36825;&#20123;&#20851;&#32852;&#30340;&#23646;&#24615;&#21487;&#20197;&#19968;&#27425;&#28155;&#21152;&#21040;&#22810;&#20010;&#36335;&#24452;&#19978;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;&#21629;&#20196;&#20462;&#25913;&#19968;&#32452;&#25991;&#20214;&#30340;&#23646;&#24615;&#12290;&#20363;&#22914;&#65292;&#25105;&#20204;&#21487;&#20197;&#65306;
               </p><pre class="screen">
$ svn propset copyright '(c) 2006 Red-Bean Software' calc/*
property 'copyright' set on 'calc/Makefile'
property 'copyright' set on 'calc/button.c'
property 'copyright' set on 'calc/integer.c'
&#8230;
$
</pre><p>&#22914;&#26524;&#19981;&#33021;&#26041;&#20415;&#30340;&#24471;&#21040;&#23384;&#20648;&#30340;&#23646;&#24615;&#20540;&#65292;&#37027;&#20040;&#23646;&#24615;&#30340;&#28155;&#21152;&#21644;&#32534;&#36753;&#25805;&#20316;&#20063;&#19981;&#20250;&#24456;&#23481;&#26131;&#65292;&#25152;&#20197;<span class="command"><strong>svn</strong></span>&#25552;&#20379;&#20102;&#20004;&#20010;&#23376;&#21629;&#20196;&#26469;&#26174;&#31034;&#25991;&#20214;&#21644;&#30446;&#24405;&#23384;&#20648;&#30340;&#23646;&#24615;&#21517;&#21644;&#20540;&#12290;<span class="command"><strong>svn proplist</strong></span>&#21629;&#20196;&#20250;&#21015;&#20986;&#36335;&#24452;&#19978;&#23384;&#22312;&#30340;&#25152;&#26377;&#23646;&#24615;&#21517;&#31216;&#65292;&#19968;&#26086;&#20320;&#30693;&#36947;&#20102;&#26576;&#20010;&#33410;&#28857;&#30340;&#23646;&#24615;&#21517;&#31216;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="command"><strong>svn propget</strong></span>&#33719;&#21462;&#23427;&#30340;&#20540;&#65292;&#36825;&#20010;&#21629;&#20196;&#33719;&#21462;&#32473;&#23450;&#30340;&#36335;&#24452;(&#25110;&#32773;&#26159;&#19968;&#32452;&#36335;&#24452;)&#21644;&#23646;&#24615;&#21517;&#31216;&#65292;&#25171;&#21360;&#36825;&#20010;&#23646;&#24615;&#30340;&#20540;&#21040;&#26631;&#20934;&#36755;&#20986;&#12290;
               </p><pre class="screen">
$ svn proplist calc/button.c
Properties on 'calc/button.c':
  copyright
  license
$ svn propget copyright calc/button.c
(c) 2006 Red-Bean Software
</pre><p>There's even a variation of the
                          <span class="command"><strong>proplist</strong></span> command that will list both the
                          name and the value for all of the properties.  Simply supply the
                          <code class="option">--verbose</code> (<code class="option">-v</code>) option.
               </p><pre class="screen">
$ svn proplist -v calc/button.c
Properties on 'calc/button.c':
  copyright : (c) 2006 Red-Bean Software
  license : ================================================================
Copyright (c) 2006 Red-Bean Software.  All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions 
are met:

1. Redistributions of source code must retain the above copyright
notice, this list of conditions, and the recipe for Fitz's famous
red-beans-and-rice.
&#8230;
</pre><p>The last property-related subcommand is
                          <span class="command"><strong>propdel</strong></span>.  Since Subversion allows you to
                          store properties with empty values, you can't remove a
                          property altogether using <span class="command"><strong>svn propedit</strong></span> or
                          <span class="command"><strong>svn propset</strong></span>.  For example, this command will
                          <span class="emphasis"><em>not</em></span> yield the desired effect:
               </p><pre class="screen">
$ svn propset license '' calc/button.c
property 'license' set on 'calc/button.c'
$ svn proplist -v calc/button.c
Properties on 'calc/button.c':
  copyright : (c) 2006 Red-Bean Software
  license : 
$
</pre><p>&#20320;&#38656;&#35201;&#29992;<span class="command"><strong>propdel</strong></span>&#26469;&#21024;&#38500;&#23646;&#24615;&#65292;&#35821;&#27861;&#19982;&#20854;&#23427;&#19982;&#23646;&#24615;&#21629;&#20196;&#30456;&#20284;&#65306;
               </p><pre class="screen">
$ svn propdel license calc/button.c
property 'license' deleted from 'calc/button.c'.
$ svn proplist -v calc/button.c
Properties on 'calc/button.c':
  copyright : (c) 2006 Red-Bean Software
$
</pre><p>Remember those unversioned revision properties?  You can
                          modify those, too, using the same <span class="command"><strong>svn</strong></span>
                          subcommands that we just described.  Simply add the
                          <code class="option">--revprop</code> command-line parameter and specify
                          the revision whose property you wish to modify.  Since
                          revisions are global, you don't need to specify a target path
                          to these property-related commands so long as you are
                          positioned in a working copy of the repository whose
                          revision property you wish to modify.  Otherwise, you can
                          simply provide the URL of any path in the repository of
                          interest (including the repository's root URL).  For example,
                          you might want to replace the commit log message of an
                          existing revision.
                          <sup>[<a name="d0e3983" href="#ftn.d0e3983" class="footnote">9</a>]</sup>
                          If your current working directory is part of a working copy of
                          your repository, you can simply run the
                          <span class="command"><strong>svn propset</strong></span> command with no target path:
               </p><pre class="screen">
$ svn propset svn:log '* button.c: Fix a compiler warning.' -r11 --revprop
property 'svn:log' set on repository revision '11'
$
</pre><p>But even if you haven't checked out a working copy from
                          that repository, you can still effect the property change by
                          providing the repository's root URL:
               </p><pre class="screen">
$ svn propset svn:log '* button.c: Fix a compiler warning.' -r11 --revprop \
              http://svn.example.com/repos/project
property 'svn:log' set on repository revision '11'
$
</pre><p>&#27880;&#24847;&#65292;&#20462;&#25913;&#36825;&#20123;&#26410;&#29256;&#26412;&#21270;&#30340;&#23646;&#24615;&#30340;&#33021;&#21147;&#19968;&#23450;&#35201;&#26126;&#30830;&#30340;&#28155;&#21152;&#32473;&#29256;&#26412;&#24211;&#31649;&#29702;&#21592;(&#35265;<a class="xref" href="svn.reposadmin.html#svn.reposadmin.maint.setlog" title="5.4.2.&nbsp;&#20462;&#27491;&#25552;&#20132;&#28040;&#24687;">&#31532;&nbsp;5.4.2&nbsp;&#33410; &#8220;&#20462;&#27491;&#25552;&#20132;&#28040;&#24687;&#8221;</a>)&#12290;&#22240;&#20026;&#23646;&#24615;&#27809;&#26377;&#29256;&#26412;&#21270;&#65292;&#22914;&#26524;&#32534;&#36753;&#30340;&#26102;&#20505;&#19981;&#23567;&#24515;&#65292;&#23601;&#20250;&#20882;&#20002;&#22833;&#20449;&#24687;&#30340;&#39118;&#38505;&#65292;&#29256;&#26412;&#24211;&#31649;&#29702;&#21592;&#21487;&#20197;&#35774;&#32622;&#26041;&#27861;&#26469;&#38450;&#33539;&#36825;&#31181;&#24847;&#22806;&#65292;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#20462;&#25913;&#26410;&#29256;&#26412;&#21270;&#30340;&#23646;&#24615;&#26159;&#31105;&#27490;&#30340;&#12290;
               </p>
               <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Tip">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                        <th align="left">&#25552;&#31034;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>&#29992;&#25143;&#24517;&#39035;&#22312;&#21487;&#33021;&#30340;&#24773;&#20917;&#19979;&#20351;&#29992;<span class="command"><strong>svn propedit</strong></span>&#65292;&#32780;&#19981;&#26159;<span class="command"><strong>svn propset</strong></span>&#12290;&#28982;&#32780;&#36825;&#20004;&#20010;&#21629;&#20196;&#30340;&#32467;&#26524;&#26159;&#30456;&#21516;&#30340;&#65292;&#21069;&#19968;&#20010;&#20250;&#20801;&#35768;&#20182;&#20204;&#26597;&#30475;&#20462;&#25913;&#20197;&#21069;&#30340;&#20869;&#23481;&#65292;&#21487;&#20197;&#24110;&#21161;&#29992;&#25143;&#39564;&#35777;&#65292;&#23454;&#38469;&#19978;&#65292;&#20316;&#20986;&#20182;&#20204;&#25152;&#26399;&#26395;&#30340;&#20462;&#25913;&#65292;&#24403;&#20462;&#25913;&#26410;&#29256;&#26412;&#21270;&#20462;&#35746;&#29256;&#26412;&#23646;&#24615;&#26102;&#65292;&#36825;&#19968;&#28857;&#29305;&#21035;&#38656;&#35201;&#12290;&#21478;&#22806;&#65292;&#36825;&#20010;&#21629;&#20196;&#20063;&#21487;&#20197;&#36890;&#36807;&#25991;&#26412;&#32534;&#36753;&#22120;&#25110;&#21629;&#20196;&#34892;&#36731;&#26494;&#30340;&#20462;&#25913;&#22810;&#34892;&#23646;&#24615;&#12290;
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.workflow"></a>3.2.3.&nbsp;&#23646;&#24615;&#21644; Subversion &#24037;&#20316;&#27969;&#31243;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>&#29616;&#22312;&#20320;&#24050;&#32463;&#29087;&#24713;&#20102;&#25152;&#26377;&#19982;&#23646;&#24615;&#30456;&#20851;&#30340;<span class="command"><strong>svn</strong></span>&#23376;&#21629;&#20196;&#65292;&#35753;&#25105;&#20204;&#30475;&#30475;&#23646;&#24615;&#20462;&#25913;&#22914;&#20309;&#24433;&#21709;Subversion&#30340;&#24037;&#20316;&#27969;&#12290;&#25105;&#20204;&#21069;&#38754;&#25552;&#21040;&#36807;&#65292;&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#23646;&#24615;&#26159;&#29256;&#26412;&#21270;&#30340;&#65292;&#36825;&#19968;&#28857;&#31867;&#20284;&#20110;&#29256;&#26412;&#21270;&#30340;&#25991;&#20214;&#20869;&#23481;&#12290;&#21518;&#26524;&#20043;&#19968;&#65292;&#23601;&#26159;Subversion&#20855;&#26377;&#20102;&#21516;&#26679;&#30340;&#26426;&#21046;&#26469;&#21512;&#24182;&#8212;&#29992;&#24178;&#20928;&#25110;&#32773;&#20914;&#31361;&#30340;&#26041;&#24335;&#8212;&#20854;&#20182;&#20154;&#30340;&#20462;&#25913;&#24212;&#29992;&#21040;&#20320;&#30340;&#20462;&#25913;&#12290;
               </p>
               <p>&#23601;&#20687;&#25991;&#20214;&#20869;&#23481;&#65292;&#20320;&#30340;&#23646;&#24615;&#20462;&#25913;&#26159;&#26412;&#22320;&#20462;&#25913;&#65292;&#21482;&#26377;&#20351;&#29992;<span class="command"><strong>svn commit</strong></span>&#21629;&#20196;&#25552;&#20132;&#21518;&#25165;&#20250;&#20445;&#23384;&#21040;&#29256;&#26412;&#24211;&#20013;&#65292;&#23646;&#24615;&#20462;&#25913;&#20063;&#21487;&#20197;&#24456;&#23481;&#26131;&#30340;&#21462;&#28040;&#8212;<span class="command"><strong>svn revert</strong></span>&#21629;&#20196;&#20250;&#24674;&#22797;&#20320;&#30340;&#25991;&#20214;&#21644;&#30446;&#24405;&#20026;&#32534;&#36753;&#21069;&#29366;&#24577;&#65292;&#21253;&#25324;&#20869;&#23481;&#12289;&#23646;&#24615;&#21644;&#20854;&#23427;&#30340;&#20449;&#24687;&#12290;&#21478;&#22806;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;<span class="command"><strong>svn status</strong></span>&#21644;<span class="command"><strong>svn diff</strong></span>&#25509;&#21463;&#24863;&#20852;&#36259;&#30340;&#25991;&#20214;&#21644;&#30446;&#24405;&#23646;&#24615;&#30340;&#29366;&#24577;&#20449;&#24687;&#12290;
               </p><pre class="screen">
$ svn status calc/button.c
 M     calc/button.c
$ svn diff calc/button.c
Property changes on: calc/button.c
___________________________________________________________________
Name: copyright
   + (c) 2006 Red-Bean Software

$
</pre><p>Notice how the <span class="command"><strong>status</strong></span> subcommand
                          displays <code class="literal">M</code> in the second column instead of
                          the first.  That is because we have modified the properties on
                          <code class="filename">calc/button.c</code>, but not its textual
                          contents.  Had we changed both, we would have seen
                          <code class="literal">M</code> in the first column, too.  (We cover
                          <span class="command"><strong>svn status</strong></span> in <a class="xref" href="svn.tour.html#svn.tour.cycle.examine.status" title="2.4.3.1.&nbsp;&#26597;&#30475;&#20320;&#30340;&#20462;&#25913;&#27010;&#20917;">&#31532;&nbsp;2.4.3.1&nbsp;&#33410; &#8220;&#26597;&#30475;&#20320;&#30340;&#20462;&#25913;&#27010;&#20917;&#8221;</a>).
               </p>
               <div class="sidebar">
                  <p class="title"><b>&#23646;&#24615;&#20914;&#31361;</b></p>
                  <p>&#19982;&#25991;&#20214;&#20869;&#23481;&#19968;&#26679;&#65292;&#26412;&#22320;&#30340;&#23646;&#24615;&#20462;&#25913;&#20063;&#20250;&#21516;&#21035;&#20154;&#30340;&#25552;&#20132;&#20914;&#31361;&#65292;&#22914;&#26524;&#20320;&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#21103;&#26412;&#30446;&#24405;&#24182;&#19988;&#25509;&#25910;&#21040;&#26377;&#36164;&#28304;&#23646;&#24615;&#20462;&#25913;&#19982;&#20320;&#30340;&#20462;&#25913;&#20914;&#31361;&#65292;Subversion&#20250;&#25253;&#21578;&#36164;&#28304;&#22788;&#20110;&#20914;&#31361;&#29366;&#24577;&#12290;</p><pre class="screen">
$ svn update calc
M  calc/Makefile.in
Conflict for property 'linecount' discovered on 'calc/button.c'.
Select: (p) postpone, (df) diff-full, (e) edit,
        (s) show all options: p
 C calc/button.c
Updated to revision 143.
$ 
</pre><p>Subversion&#20063;&#20250;&#22312;&#20914;&#31361;&#36164;&#28304;&#30340;&#21516;&#19968;&#20010;&#30446;&#24405;&#21019;&#24314;&#19968;&#20010;<code class="filename">.prej</code>&#25193;&#23637;&#21517;&#30340;&#25991;&#20214;&#65292;&#20445;&#23384;&#20914;&#31361;&#30340;&#32454;&#33410;&#12290;&#20320;&#19968;&#23450;&#35201;&#26816;&#26597;&#36825;&#20010;&#25991;&#20214;&#30340;&#20869;&#23481;&#26469;&#20915;&#23450;&#22914;&#20309;&#35299;&#20915;&#20914;&#31361;&#65292;&#22312;&#20320;&#35299;&#20915;&#20914;&#31361;&#20043;&#21069;&#65292;&#20320;&#20250;&#22312;&#20351;&#29992;<span class="command"><strong>svn status</strong></span>&#26102;&#30475;&#21040;&#36825;&#20010;&#36164;&#28304;&#30340;&#36755;&#20986;&#30340;&#31532;&#20108;&#21015;&#26159;&#19968;&#20010;<code class="literal">C</code>&#65292;&#25552;&#20132;&#26412;&#22320;&#20462;&#25913;&#30340;&#23581;&#35797;&#20250;&#22833;&#36133;&#12290;
                  </p><pre class="screen">
$ svn status calc
 C     calc/button.c
?      calc/button.c.prej
$ cat calc/button.c.prej 
Trying to change property 'linecount' from '1267' to '1301',
but property has been locally changed from '1267' to '1256'.
$
</pre><p>&#20026;&#20102;&#35299;&#20915;&#23646;&#24615;&#20914;&#31361;&#65292;&#21482;&#38656;&#35201;&#30830;&#23450;&#20914;&#31361;&#30340;&#23646;&#24615;&#20445;&#23384;&#20102;&#23427;&#20204;&#24212;&#35813;&#30340;&#20540;&#65292;&#28982;&#21518;&#20351;&#29992;<span class="command"><strong>svn resolved</strong></span>&#21629;&#20196;&#21578;&#35785;Subversion&#20320;&#24050;&#32463;&#25163;&#24037;&#35299;&#20915;&#20102;&#38382;&#39064;&#12290;
                  </p>
               </div>
               <p>You might also have noticed the nonstandard way that
                          Subversion currently displays property differences.  You can
                          still use <span class="command"><strong>svn diff</strong></span> and redirect its output
                          to create a usable patch file.  The <span class="command"><strong>patch</strong></span>
                          program will ignore property patches&#8212;as a rule, it
                          ignores any noise it can't understand.  This does,
                          unfortunately, mean that to fully apply a patch generated by
                          <span class="command"><strong>svn diff</strong></span>, any property modifications will
                          need to be applied by hand.
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.auto"></a>3.2.4.&nbsp;&#33258;&#21160;&#35774;&#32622;&#23646;&#24615;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>Properties are a powerful feature of Subversion, acting as
                          key components of many Subversion features discussed elsewhere
                          in this and other chapters&#8212;textual diff and merge
                          support, keyword substitution, newline translation, and so on.  But
                          to get the full benefit of properties, they must be set on the
                          right files and directories.  Unfortunately, that
                          step can be easily forgotten in the routine of things, especially
                          since failing to set a property doesn't usually result in an
                          obvious error (at least compared to, say, failing to
                          add a file to version control).  To help your properties get
                          applied to the places that need them, Subversion provides a
                          couple of simple but useful features.
               </p>
               <p>&#24403;&#20320;&#20351;&#29992;<span class="command"><strong>svn add</strong></span>&#25110;&#26159;<span class="command"><strong>svn import</strong></span>&#20934;&#22791;&#21152;&#20837;&#19968;&#20010;&#29256;&#26412;&#25511;&#21046;&#30340;&#25991;&#20214;&#26102;&#65292;Subversion&#20250;&#33258;&#21160;&#36816;&#34892;&#19968;&#20010;&#22522;&#26412;&#25506;&#27979;&#26469;&#26816;&#26597;&#25991;&#20214;&#26159;&#21253;&#21547;&#20102;&#21487;&#35835;&#36824;&#26159;&#19981;&#21487;&#35835;&#30340;&#20869;&#23481;&#65292;&#39318;&#20808;&#65292;&#22312;&#25903;&#25345;&#25191;&#34892;&#20801;&#35768;&#20301;&#30340;&#25805;&#20316;&#31995;&#32479;&#65292;Subversion&#20250;&#33258;&#21160;&#20250;&#20026;&#35774;&#32622;&#25191;&#34892;&#20301;&#30340;&#25991;&#20214;&#35774;&#32622;<code class="literal">svn:executable</code>&#23646;&#24615;(&#26356;&#22810;&#20449;&#24687;&#35265;<a class="xref" href="svn.advanced.html#svn.advanced.props.special.executable" title="3.3.2.&nbsp;&#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;">&#31532;&nbsp;3.3.2&nbsp;&#33410; &#8220;&#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;&#8221;</a>)&#12290;
               </p>
               <p>Second, Subversion tries to determine the file's MIME
                          type.  If you've configured a
                          <code class="literal">mime-types-files</code> runtime configuration
                          parameter, Subversion will try to find a MIME type mapping in
                          that file for your file's extension.  If it finds such a
                          mapping, it will set your file's
                          <code class="literal">svn:mime-type</code> property to the MIME type it
                          found.  If no mapping file is configured, or no mapping for
                          your file's extension could be found, Subversion runs a very
                          basic heuristic to determine whether the file contains nontextual
                          content.  If so, it automatically sets the
                          <code class="literal">svn:mime-type</code> property on that file to
                          <code class="literal">application/octet-stream</code> (the generic
                          &#8220;<span class="quote">this is a collection of bytes</span>&#8221; MIME type).  Of
                          course, if Subversion guesses incorrectly, or if you wish to
                          set the <code class="literal">svn:mime-type</code> property to something
                          more precise&#8212;perhaps <code class="literal">image/png</code> or
                          <code class="literal">application/x-shockwave-flash</code>&#8212;you can
                          always remove or edit that property.  (For more on
                          Subversion's use of MIME types, see <a class="xref" href="svn.advanced.html#svn.advanced.props.special.mime-type" title="3.3.1.&nbsp;&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;">&#31532;&nbsp;3.3.1&nbsp;&#33410; &#8220;&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;&#8221;</a> later in
                          this chapter.)
               </p>
               <p>Subversion also provides, via its runtime configuration
                          system (see <a class="xref" href="svn.customization.html#svn.advanced.confarea" title="7.1.&nbsp;&#36816;&#34892;&#37197;&#32622;&#21306;">&#31532;&nbsp;7.1&nbsp;&#33410; &#8220;&#36816;&#34892;&#37197;&#32622;&#21306;&#8221;</a>), a more
                          flexible automatic property setting feature that allows you
                          to create mappings of filename patterns to property names and
                          values.  Once again, these mappings affect adds and imports,
                          and can not only override the default MIME type decision made
                          by Subversion during those operations, but can also set
                          additional Subversion or custom properties, too.  For example,
                          you might create a mapping that says that anytime you add
                          JPEG files&#8212;ones whose names match the pattern
                          <code class="literal">*.jpg</code>&#8212;Subversion should automatically
                          set the <code class="literal">svn:mime-type</code> property on those
                          files to <code class="literal">image/jpeg</code>.  Or perhaps any files
                          that match <code class="literal">*.cpp</code> should have
                          <code class="literal">svn:eol-style</code> set to
                          <code class="literal">native</code>, and <code class="literal">svn:keywords</code>
                          set to <code class="literal">Id</code>.  Automatic property support is
                          perhaps the handiest property-related tool in the Subversion
                          toolbox.  See <a class="xref" href="svn.customization.html#svn.advanced.confarea.opts.config" title="7.1.3.2.&nbsp;&#37197;&#32622;">&#31532;&nbsp;7.1.3.2&nbsp;&#33410; &#8220;&#37197;&#32622;&#8221;</a> for more about
                          configuring that support.
               </p>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.props.file-portability"></a>3.3.&nbsp;&#25991;&#20214;&#31227;&#26893;&#24615;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#24184;&#36816;&#30340;&#26159;&#65292;&#23545;&#20110;&#35768;&#22810;&#22312;&#19981;&#21516;&#25805;&#20316;&#31995;&#32479;&#19979;&#24037;&#20316;&#30340;&#29992;&#25143;&#65292;Subversion&#21629;&#20196;&#34892;&#31243;&#24207;&#30340;&#34892;&#20026;&#26041;&#24335;&#20960;&#20046;&#23436;&#20840;&#19968;&#33268;&#65292;&#22914;&#26524;&#20320;&#30693;&#36947;&#22312;&#19968;&#20010;&#24179;&#21488;&#19978;&#22914;&#20309;&#36816;&#34892;<span class="command"><strong>svn</strong></span>&#65292;&#20320;&#20063;&#23601;&#23398;&#20250;&#20102;&#22312;&#20854;&#20182;&#24179;&#21488;&#19978;&#36816;&#34892;&#12290;
            </p>
            <p>&#28982;&#32780;&#65292;&#36825;&#19968;&#28857;&#22312;&#26412;&#36719;&#20214;&#30340;&#20854;&#20182;&#20960;&#31867;&#22320;&#26041;&#25110;Subversion&#20445;&#25345;&#30340;&#23454;&#38469;&#25991;&#20214;&#24182;&#19981;&#19968;&#23450;&#37117;&#26159;&#27491;&#30830;&#30340;&#12290;&#20363;&#22914;&#65292;&#22312;&#19968;&#20010;Windows&#31995;&#32479;&#65292;&#8220;<span class="quote">&#25991;&#26412;&#25991;&#20214;</span>&#8221;&#30340;&#23450;&#20041;&#19982;Linux&#29615;&#22659;&#19979;&#30340;&#31867;&#20284;&#65292;&#20294;&#26159;&#20063;&#26377;&#21306;&#21035;&#8212;&#34892;&#32467;&#26463;&#30340;&#23383;&#31526;&#20018;&#24182;&#19981;&#30456;&#21516;&#12290;&#24403;&#28982;&#20063;&#26377;&#20854;&#20182;&#30340;&#21306;&#21035;&#65292;Unix&#24179;&#21488;&#25903;&#25345;(Subversion&#20063;&#25903;&#25345;)&#31526;&#21495;&#38142;&#65307;Windows&#19981;&#30693;&#21507;&#65292;Unix&#20351;&#29992;&#25991;&#20214;&#31995;&#32479;&#25191;&#34892;&#20301;&#26469;&#26816;&#27979;&#21487;&#25191;&#34892;&#24615;&#65307;&#32780;Windows&#20351;&#29992;&#25991;&#20214;&#25193;&#23637;&#21517;&#12290;
            </p>
            <p>&#22240;&#20026;Subversion&#19981;&#26159;&#35201;&#23558;&#19990;&#30028;&#19978;&#30340;&#25152;&#26377;&#27492;&#31867;&#20107;&#24773;&#32479;&#19968;&#36215;&#26469;&#65292;&#25152;&#20197;&#25105;&#20204;&#26368;&#22909;&#26159;&#23613;&#21487;&#33021;&#35753;&#25105;&#20204;&#22312;&#22810;&#20010;&#35745;&#31639;&#26426;&#21644;&#25805;&#20316;&#31995;&#32479;&#19978;&#20351;&#29992;&#29256;&#26412;&#21270;&#25991;&#20214;&#21644;&#30446;&#24405;&#26102;&#33021;&#22815;&#26356;&#31616;&#21333;&#65292;&#26412;&#33410;&#25551;&#36848;&#20102;Subversion&#26159;&#22914;&#20309;&#20570;&#30340;&#12290;</p>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.special.mime-type"></a>3.3.1.&nbsp;&#25991;&#20214;&#20869;&#23481;&#31867;&#22411;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>Subversion&#21516;&#24456;&#22810;&#24212;&#29992;&#19968;&#26679;&#21033;&#29992;&#22810;&#29992;&#36884;&#32593;&#38469;&#37038;&#20214;&#25193;&#23637;(MIME)&#20869;&#23481;&#31867;&#22411;&#65292;<code class="literal">svn:mime-type</code>&#23646;&#24615;&#20026;Subversion&#30340;&#35768;&#22810;&#30446;&#30340;&#26381;&#21153;&#65292;&#38500;&#20102;&#20445;&#23384;&#19968;&#20010;&#25991;&#20214;&#30340;MIME&#20998;&#31867;&#20197;&#22806;&#65292;&#36825;&#20010;<code class="literal">svn:mime-type</code>&#23646;&#24615;&#20540;&#20063;&#25551;&#36848;&#20102;&#19968;&#20123;Subversion&#33258;&#24049;&#20351;&#29992;&#30340;&#34892;&#20026;&#29305;&#24615;&#12290;
               </p>
               <div class="sidebar">
                  <p class="title"><b>&#35782;&#21035;&#25991;&#20214;&#31867;&#22411;</b></p>
                  <p>&#22823;&#22810;&#25968;&#29616;&#20195;&#25805;&#20316;&#31995;&#32479;&#36890;&#36807;&#25991;&#20214;&#21517;&#30340;&#25193;&#23637;&#21517;&#25512;&#26029;&#25991;&#20214;&#30340;&#31867;&#22411;&#21644;&#26684;&#24335;&#65292;&#20363;&#22914;&#65292;&#20197;<code class="filename">.txt</code>&#20026;&#21518;&#32512;&#30340;&#25991;&#20214;&#36890;&#24120;&#34987;&#35748;&#20026;&#26159;&#21487;&#35835;&#30340;&#65292;&#19981;&#38656;&#35201;&#36890;&#36807;&#22797;&#26434;&#30340;&#35299;&#30721;&#22788;&#29702;&#23601;&#21487;&#20197;&#34987;&#38405;&#35835;&#12290;&#23545;&#20110;&#21518;&#32512;&#21517;&#20026;<code class="filename">.png</code>&#25991;&#20214;&#65292;&#21017;&#34987;&#35748;&#20026;&#26159;Portable Network Graphics&#31867;&#22411;&#8212;&#19981;&#26159;&#21487;&#35835;&#30340;&#26684;&#24335;&#65292;&#21482;&#33021;&#36890;&#36807;&#35782;&#21035;PNG&#26684;&#24335;&#24182;&#19988;&#21487;&#20197;&#23558;&#20449;&#24687;&#36716;&#21270;&#20026;&#20809;&#26629;&#30340;&#36719;&#20214;&#20351;&#29992;&#12290;
                  </p>
                  <p>Unfortunately, some of those extensions have changed
                               their meanings over time.  When personal computers first appeared,
                               a file named <code class="filename">README.DOC</code> would have
                               almost certainly been a plain-text file, just like today's
                               <code class="filename">.txt</code> files.  But by the mid-1990s, you
                               could almost bet that a file of that name would not be a
                               plain-text file at all, but instead a Microsoft Word document
                               in a proprietary, non-human-readable format.  But this
                               change didn't occur overnight&#8212;there was certainly a
                               period of confusion for computer users over what exactly
                               they had in hand when they saw a <code class="filename">.DOC</code>
                               file.
                               <sup>[<a name="d0e4224" href="#ftn.d0e4224" class="footnote">10</a>]</sup>
                             
                  </p>
                  <p>The popularity of computer networking cast still more
                               doubt on the mapping between a file's name and its content.
                               With information being served across networks and generated
                               dynamically by server-side scripts, there was often no real
                               file per se, and therefore no filename.  Web
                               servers, for example, needed some other way to tell browsers
                               what they were downloading so that the browser could do something
                               intelligent with that information, whether that was to
                               display the data using a program registered to handle that
                               datatype or to prompt the user for where on the client
                               machine to store the downloaded data.
                  </p>
                  <p>Eventually, a standard emerged for, among other things,
                               describing the contents of a data stream.  In 1996, RFC 2045
                               was published.  It was the first of five RFCs describing
                               MIME.  It describes the concept of media types and subtypes
                               and recommends a syntax for the representation of those
                               types.  Today, MIME media types&#8212;or &#8220;<span class="quote">MIME
                                  types</span>&#8221;&#8212;are used almost universally across
                               email applications, web servers, and other software as the
                               de facto mechanism for clearing up the file content
                               confusion.
                  </p>
               </div>
               <p>&#20030;&#20010;&#20363;&#23376;&#65292;&#19968;&#20010;&#22909;&#22788;&#23601;&#26159;Subversion&#22312;&#26356;&#26032;&#26102;&#36890;&#24120;&#21487;&#20197;&#25552;&#20379;&#22522;&#20110;&#19978;&#19979;&#25991;&#30340;&#34892;&#20026;&#22522;&#30784;&#30340;&#21512;&#24182;&#65292;&#22914;&#26524;&#19968;&#20010;&#25991;&#20214;<code class="literal">svn:mime-type</code>&#23646;&#24615;&#35774;&#32622;&#20026;&#38750;&#25991;&#26412;&#30340;MIME&#31867;&#22411;(&#36890;&#24120;&#26159;&#37027;&#20123;&#19981;&#26159;<code class="literal">text/</code>&#24320;&#22836;&#30340;&#31867;&#22411;&#65292;&#20294;&#20063;&#26377;&#20363;&#22806;)&#65292;Subversion&#20250;&#20551;&#23450;&#36825;&#20010;&#25991;&#20214;&#20445;&#23384;&#20102;&#20108;&#36827;&#21046;&#20869;&#23481;&#8212;&#20063;&#23601;&#26159;&#19981;&#21487;&#35835;&#30340;&#25968;&#25454;&#12290;&#19968;&#20010;&#22909;&#22788;&#23601;&#26159;Subversion&#36890;&#24120;&#22312;&#26356;&#26032;&#24037;&#20316;&#21103;&#26412;&#26102;&#25552;&#20379;&#20102;&#19968;&#20010;&#21069;&#21518;&#30456;&#20851;&#30340;&#20197;&#34892;&#20026;&#22522;&#30784;&#30340;&#20462;&#25913;&#21512;&#24182;&#65292;&#20294;&#26159;&#23545;&#20110;&#20108;&#36827;&#21046;&#25968;&#25454;&#25991;&#20214;&#65292;&#27809;&#26377;&#8220;<span class="quote">&#34892;</span>&#8221;&#30340;&#27010;&#24565;&#65292;&#25152;&#20197;&#23545;&#36825;&#20123;&#25991;&#20214;&#65292;Subversion&#19981;&#20250;&#22312;&#26356;&#26032;&#26102;&#23581;&#35797;&#25191;&#34892;&#21512;&#24182;&#25805;&#20316;&#65292;&#30456;&#21453;&#65292;&#20219;&#20309;&#26102;&#20505;&#20320;&#22312;&#26412;&#22320;&#24050;&#32463;&#20462;&#25913;&#30340;&#19968;&#20010;&#20108;&#36827;&#21046;&#25991;&#20214;&#26377;&#20102;&#26356;&#26032;&#65292;&#20320;&#30340;&#25991;&#20214;&#25193;&#23637;&#21517;&#20250;&#20462;&#25913;&#20026;<code class="filename">.orig</code>&#65292;&#28982;&#21518;Subversion&#20445;&#23384;&#19968;&#20010;&#26032;&#30340;&#24037;&#20316;&#21103;&#26412;&#25991;&#20214;&#26469;&#20445;&#23384;&#26356;&#26032;&#26102;&#24471;&#21040;&#30340;&#20462;&#25913;&#65292;&#20294;&#21407;&#26469;&#30340;&#25991;&#20214;&#21517;&#24050;&#32463;&#19981;&#26159;&#20320;&#33258;&#24049;&#30340;&#26412;&#22320;&#20462;&#25913;&#12290;&#36825;&#20010;&#34892;&#20026;&#27169;&#24335;&#26159;&#29992;&#26469;&#20445;&#25252;&#29992;&#25143;&#22312;&#23545;&#19981;&#21487;&#25991;&#26412;&#21512;&#24182;&#30340;&#25991;&#20214;&#23581;&#35797;&#25191;&#34892;&#25991;&#26412;&#30340;&#21512;&#24182;&#26102;&#22833;&#36133;&#30340;&#24773;&#24418;&#12290;
               </p>
               <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Warning">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#35686;&#21578;]" src="images/warning.png"></td>
                        <th align="left">&#35686;&#21578;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>&#24403;<code class="literal">svn:mime-type</code>&#23646;&#24615;&#30340;&#20540;&#35774;&#32622;&#20026;&#38750;&#25991;&#26412;&#30340;&#20540;&#26102;&#65292;&#20250;&#26681;&#25454;&#20854;&#23427;&#23646;&#24615;&#23548;&#33268;&#19968;&#20123;&#38750;&#39044;&#26399;&#30340;&#34892;&#20026;&#12290;&#20363;&#22914;&#65292;&#22240;&#20026;&#34892;&#32467;&#26463;&#31526;&#30340;&#27010;&#24565;(&#22240;&#27492;&#65292;&#34892;&#32467;&#26463;&#31526;&#36716;&#21270;)&#65292;&#20351;&#24471;&#24212;&#29992;&#21040;&#38750;&#25991;&#26412;&#25991;&#20214;&#26102;&#27809;&#26377;&#24847;&#20041;&#65292;Subversion&#20250;&#38450;&#27490;&#20320;&#20026;&#25991;&#20214;&#35774;&#32622;<code class="literal">svn:eol-style</code>&#23646;&#24615;&#65292;&#20294;&#26159;&#22914;&#26524;&#20320;&#36882;&#24402;&#25191;&#34892;&#23646;&#24615;&#35774;&#32622;&#65292;&#36825;&#21487;&#33021;&#19981;&#26159;&#24456;&#28165;&#26970;&#20102;&#65292;&#22240;&#20026;&#36825;&#26102;Subversion&#20250;&#40664;&#40664;&#30340;&#30053;&#36807;&#19981;&#36866;&#21512;&#29305;&#23450;&#23646;&#24615;&#30340;&#25991;&#20214;&#12290;
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <p>&#20174;Subversion 1.5&#24320;&#22987;&#65292;&#29992;&#25143;&#21487;&#20197;&#37197;&#32622;&#19968;&#20010;&#26032;&#30340;<code class="literal">mime-types-file</code>&#36816;&#34892;&#20013;&#37197;&#32622;&#21442;&#25968;&#65292;&#21487;&#20197;&#20316;&#20026;MIME&#31867;&#22411;&#26144;&#23556;&#25991;&#20214;&#30340;&#23450;&#20301;&#65292;Subversion&#20250;&#26681;&#25454;&#26144;&#23556;&#25991;&#20214;&#26469;&#30830;&#23450;&#26032;&#28155;&#21152;&#21644;&#23548;&#20837;&#25991;&#20214;&#30340;MIME&#31867;&#22411;&#12290;
               </p>
               <p>&#21478;&#22806;&#65292;&#22914;&#26524;&#35774;&#32622;&#20102;<code class="literal">svn:mime-type</code>&#23646;&#24615;&#65292;Subversion&#30340;Apache&#27169;&#22359;&#20250;&#20351;&#29992;&#36825;&#20010;&#20540;&#26469;&#22312;HTTP&#22836;&#37324;&#36755;&#20837;<code class="literal">Content-type:</code>&#65292;&#36825;&#32473;&#20102;web&#27983;&#35272;&#22120;&#22914;&#20309;&#26174;&#31034;&#29256;&#26412;&#24211;&#30340;&#19968;&#20010;&#25991;&#20214;&#25552;&#20379;&#20102;&#33267;&#20851;&#37325;&#35201;&#30340;&#32447;&#32034;&#12290;
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.special.executable"></a>3.3.2.&nbsp;&#25991;&#20214;&#30340;&#21487;&#25191;&#34892;&#24615;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>&#22312;&#22810;&#25968;&#25805;&#20316;&#31995;&#32479;&#65292;&#25191;&#34892;&#19968;&#20010;&#25991;&#20214;&#25110;&#21629;&#20196;&#30340;&#33021;&#21147;&#26159;&#30001;&#25191;&#34892;&#20301;&#31649;&#29702;&#30340;&#65292;&#36825;&#20123;&#20301;&#32570;&#30465;&#26159;&#20851;&#38381;&#30340;&#65292;&#24517;&#39035;&#30001;&#29992;&#25143;&#26681;&#25454;&#38656;&#35201;&#26174;&#24335;&#30340;&#25351;&#23450;&#65292;&#20294;&#26159;&#35760;&#20303;&#24212;&#35813;&#20026;&#21738;&#20123;&#26816;&#20986;&#30340;&#25991;&#20214;&#35774;&#32622;&#21487;&#25191;&#34892;&#20301;&#20250;&#26159;&#19968;&#20214;&#24456;&#40635;&#28902;&#30340;&#20107;&#24773;&#65292;&#25152;&#20197;Subversion&#25552;&#20379;&#20102;<code class="literal">svn:executable</code>&#36825;&#20010;&#23646;&#24615;&#26469;&#20445;&#25345;&#25171;&#24320;&#25191;&#34892;&#20301;&#65292;&#22312;&#24037;&#20316;&#21103;&#26412;&#24471;&#21040;&#36825;&#20123;&#25991;&#20214;&#26102;&#35774;&#32622;&#25191;&#34892;&#20301;&#12290;
               </p>
               <p>&#36825;&#20010;&#23646;&#24615;&#23545;&#20110;&#27809;&#26377;&#21487;&#25191;&#34892;&#26435;&#38480;&#20301;&#30340;&#25991;&#20214;&#31995;&#32479;&#26080;&#25928;&#65292;&#22914;FAT32&#21644;NTFS&#12290; <sup>[<a name="d0e4285" href="#ftn.d0e4285" class="footnote">11</a>]</sup>&#20063;&#23601;&#26159;&#35828;&#65292;&#23613;&#31649;&#23427;&#27809;&#26377;&#23450;&#20041;&#30340;&#20540;&#65292;&#22312;&#35774;&#32622;&#36825;&#20010;&#23646;&#24615;&#26102;&#65292;Subversion&#20250;&#24378;&#21046;&#23427;&#30340;&#20540;&#20026;<code class="literal">*</code>&#65292;&#26368;&#21518;&#65292;&#36825;&#20010;&#23646;&#24615;&#21482;&#23545;&#25991;&#20214;&#26377;&#25928;&#65292;&#30446;&#24405;&#26080;&#25928;&#12290;
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.props.special.eol-style"></a>3.3.3.&nbsp;&#34892;&#32467;&#26463;&#23383;&#31526;&#24207;&#21015;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>Unless otherwise noted using a versioned file's
                          <code class="literal">svn:mime-type</code> property, Subversion
                          assumes the file contains human-readable data.  Generally
                          speaking, Subversion uses this knowledge only to determine
                          whether contextual difference reports for that file are
                          possible.  Otherwise, to Subversion, bytes are bytes.
               </p>
               <p>&#36825;&#24847;&#21619;&#30528;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;Subversion&#19981;&#20250;&#20851;&#27880;&#20219;&#20309;<em class="firstterm">&#34892;&#32467;&#26463;&#26631;&#35760;(end-of-line&#65292;EOL)</em>&#65292;&#19981;&#24184;&#30340;&#26159;&#19981;&#21516;&#30340;&#25805;&#20316;&#31995;&#32479;&#22312;&#25991;&#26412;&#25991;&#20214;&#20351;&#29992;&#19981;&#21516;&#30340;&#34892;&#32467;&#26463;&#26631;&#24535;&#65292;&#20030;&#20010;&#20363;&#23376;&#65292;Windows&#24179;&#21488;&#19979;&#30340;A&#32534;&#36753;&#24037;&#20855;&#20351;&#29992;&#19968;&#23545;ASCII&#25511;&#21046;&#23383;&#31526;&#8212;&#22238;&#36710;(<code class="literal">CR</code>)&#21644;&#19968;&#20010;&#25442;&#34892;(<code class="literal">LF</code>)&#65292;&#32780;Unix&#36719;&#20214;&#65292;&#21482;&#20351;&#29992;&#19968;&#20010;<code class="literal">LF</code>&#26469;&#34920;&#31034;&#19968;&#20010;&#34892;&#30340;&#32467;&#26463;&#12290;
               </p>
               <p>&#24182;&#19981;&#26159;&#25152;&#26377;&#25805;&#20316;&#31995;&#32479;&#30340;&#24037;&#20855;&#20934;&#22791;&#22909;&#20102;&#29702;&#35299;&#19982;<em class="firstterm">&#26412;&#22320;&#34892;&#32467;&#26463;&#26679;&#24335;</em>&#19981;&#19968;&#26679;&#30340;&#34892;&#32467;&#26463;&#26684;&#24335;&#65292;&#19968;&#20010;&#24120;&#35265;&#30340;&#32467;&#26524;&#26159;Unix&#31243;&#24207;&#20250;&#25226;Windows&#25991;&#20214;&#20013;&#30340;<code class="literal">CR</code>&#24403;&#20316;&#19968;&#20010;&#19981;&#21516;&#30340;&#23383;&#31526;(&#36890;&#24120;&#34920;&#29616;&#20026;<code class="literal">^M</code>)&#65292;&#32780;Windows&#31243;&#24207;&#20250;&#25226;Unix&#25991;&#20214;&#21512;&#24182;&#20026;&#19968;&#20010;&#38750;&#24120;&#22823;&#30340;&#34892;&#65292;&#22240;&#20026;&#27809;&#26377;&#21457;&#29616;&#26631;&#24535;&#34892;&#32467;&#26463;&#30340;&#22238;&#36710;&#21152;&#25442;&#34892;(&#25110;&#32773;&#26159;<code class="literal">CRLF</code>)&#23383;&#31526;&#12290;
               </p>
               <p>&#23545;&#22806;&#26469;EOL&#26631;&#24535;&#30340;&#25935;&#24863;&#20250;&#35753;&#22312;&#22810;&#31181;&#25805;&#20316;&#31995;&#32479;&#20998;&#20139;&#25991;&#20214;&#30340;&#20154;&#20204;&#24863;&#21040;&#27822;&#20007;&#65292;&#20363;&#22914;&#65292;&#32771;&#34385;&#26377;&#19968;&#20010;&#28304;&#20195;&#30721;&#25991;&#20214;&#65292;&#24320;&#21457;&#32773;&#20250;&#22312;Windows&#21644;Unix&#31995;&#32479;&#19978;&#32534;&#36753;&#36825;&#20010;&#25991;&#20214;&#65292;&#22914;&#26524;&#25152;&#26377;&#30340;&#29992;&#25143;&#20351;&#29992;&#30340;&#24037;&#20855;&#21487;&#20197;&#23637;&#31034;&#25991;&#20214;&#30340;&#34892;&#32467;&#26463;&#65292;&#37027;&#23601;&#27809;&#26377;&#38382;&#39064;&#20102;&#12290;</p>
               <p>But in practice, many common tools either fail to
                          properly read a file with foreign EOL markers, or
                          convert the file's line endings to the native style when the
                          file is saved.  If the former is true for a developer, he
                          has to use an external conversion utility (such as
                          <span class="command"><strong>dos2unix</strong></span> or its companion,
                          <span class="command"><strong>unix2dos</strong></span>) to prepare the file for
                          editing.  The latter case requires no extra preparation.
                          But both cases result in a file that differs from the
                          original quite literally on every line!  Prior to committing
                          his changes, the user has two choices.  Either he can use a
                          conversion utility to restore the modified file to the same
                          line-ending style that it was in before his edits were made,
                          or he can simply commit the file&#8212;new EOL markers and
                          all.
               </p>
               <p>&#36825;&#20010;&#24773;&#26223;&#30340;&#32467;&#23616;&#30475;&#36215;&#26469;&#20687;&#26159;&#35201;&#28010;&#36153;&#26102;&#38388;&#23545;&#25552;&#20132;&#30340;&#25991;&#20214;&#20316;&#19981;&#24517;&#35201;&#30340;&#20462;&#25913;&#65292;&#28010;&#36153;&#26102;&#38388;&#26159;&#30171;&#33510;&#30340;&#65292;&#20294;&#26159;&#22914;&#26524;&#25552;&#20132;&#20462;&#25913;&#20102;&#25991;&#20214;&#30340;&#27599;&#19968;&#34892;&#65292;&#21028;&#26029;&#25991;&#20214;&#20462;&#25913;&#20102;&#21738;&#19968;&#34892;&#20250;&#26159;&#19968;&#20214;&#22797;&#26434;&#30340;&#24037;&#20316;&#65292;bug&#22312;&#21738;&#19968;&#34892;&#20462;&#27491;&#30340;&#65311;&#21738;&#19968;&#34892;&#23548;&#33268;&#20102;&#35821;&#27861;&#38169;&#35823;&#65311;</p>
               <p>&#36825;&#20010;&#38382;&#39064;&#30340;&#35299;&#20915;&#26041;&#26696;&#26159;<code class="literal">svn:eol-style</code>&#23646;&#24615;&#65292;&#24403;&#36825;&#20010;&#23646;&#24615;&#35774;&#32622;&#20026;&#19968;&#20010;&#27491;&#30830;&#30340;&#20540;&#26102;&#65292;Subversion&#20351;&#29992;&#23427;&#26469;&#21028;&#26029;&#38024;&#23545;&#34892;&#32467;&#26463;&#26679;&#24335;&#25191;&#34892;&#20309;&#31181;&#29305;&#27530;&#30340;&#25805;&#20316;&#65292;&#32780;&#19981;&#20250;&#38543;&#30528;&#22810;&#31181;&#25805;&#20316;&#31995;&#32479;&#30340;&#27599;&#27425;&#25552;&#20132;&#32780;&#21457;&#29983;&#21095;&#28872;&#21464;&#21270;&#65292;&#27491;&#30830;&#30340;&#20540;&#26377;&#65306;
               </p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term"><code class="literal">native</code></span></dt>
                     <dd>
                        <p>&#36825;&#20250;&#23548;&#33268;&#20445;&#23384;EOL&#26631;&#24535;&#30340;&#25991;&#20214;&#20351;&#29992;Subversion&#36816;&#34892;&#30340;&#25805;&#20316;&#31995;&#32479;&#30340;&#26412;&#22320;&#32534;&#30721;&#65292;&#25442;&#21477;&#35805;&#35828;&#65292;&#22914;&#26524;&#19968;&#20010;Windows&#29992;&#25143;&#21462;&#20986;&#19968;&#20010;&#24037;&#20316;&#21103;&#26412;&#21253;&#21547;&#30340;&#25991;&#20214;&#35774;&#32622;<code class="literal">native</code>&#30340;&#23646;&#24615;&#20026;<code class="literal">svn:eol-style</code>&#65292;&#36825;&#20010;&#25991;&#20214;&#20250;&#20351;&#29992;<code class="literal">CRLF</code>&#30340;EOL&#26631;&#24535;&#65292;&#19968;&#20010;Unix&#29992;&#25143;&#21462;&#20986;&#30456;&#21516;&#30340;&#25991;&#20214;&#20250;&#30475;&#21040;&#20182;&#30340;&#25991;&#20214;&#20351;&#29992;<code class="literal">LF</code>&#30340;EOL&#26631;&#24535;&#12290;
                        </p>
                        <p>&#27880;&#24847;Subversion&#23454;&#38469;&#19978;&#20351;&#29992;<code class="literal">LF</code>&#30340;EOL&#26631;&#24535;&#65292;&#32780;&#19981;&#20250;&#32771;&#30053;&#25805;&#20316;&#31995;&#32479;&#65292;&#23613;&#31649;&#36825;&#23545;&#29992;&#25143;&#26469;&#35828;&#26159;&#36879;&#26126;&#30340;&#12290;
                        </p>
                     </dd>
                     <dt><span class="term"><code class="literal">CRLF</code></span></dt>
                     <dd>
                        <p>&#36825;&#20250;&#23548;&#33268;&#36825;&#20010;&#25991;&#20214;&#20351;&#29992;<code class="literal">CRLF</code>&#24207;&#21015;&#20316;&#20026;EOL&#26631;&#24535;&#65292;&#19981;&#31649;&#20351;&#29992;&#20309;&#31181;&#25805;&#20316;&#31995;&#32479;&#12290;
                        </p>
                     </dd>
                     <dt><span class="term"><code class="literal">LF</code></span></dt>
                     <dd>
                        <p>&#36825;&#20250;&#23548;&#33268;&#25991;&#20214;&#20351;&#29992;<code class="literal">LF</code>&#23383;&#31526;&#20316;&#20026;EOL&#26631;&#24535;&#65292;&#19981;&#31649;&#20351;&#29992;&#20309;&#31181;&#25805;&#20316;&#31995;&#32479;&#12290;
                        </p>
                     </dd>
                     <dt><span class="term"><code class="literal">CR</code></span></dt>
                     <dd>
                        <p>This causes the file to contain
                                         <code class="literal">CR</code> characters for EOL markers,
                                         regardless of the operating system in use.  This
                                         line-ending style is not very common.
                        </p>
                     </dd>
                  </dl>
               </div>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.props.special.ignore"></a>3.4.&nbsp;&#24573;&#30053;&#26410;&#29256;&#26412;&#25511;&#21046;&#30340;&#26465;&#30446;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#22312;&#20219;&#20309;&#24037;&#20316;&#21103;&#26412;&#65292;&#23558;&#29256;&#26412;&#21270;&#25991;&#20214;&#21644;&#30446;&#24405;&#19982;&#27809;&#26377;&#20063;&#19981;&#20934;&#22791;&#29256;&#26412;&#21270;&#30340;&#25991;&#20214;&#20998;&#24320;&#20250;&#26159;&#38750;&#24120;&#24120;&#35265;&#30340;&#24773;&#20917;&#12290;&#25991;&#26412;&#32534;&#36753;&#22120;&#30340;&#22791;&#20221;&#25991;&#20214;&#20250;&#23558;&#30446;&#24405;&#25630;&#20081;&#65292;&#20195;&#30721;&#32534;&#35793;&#36807;&#31243;&#20013;&#29983;&#25104;&#30340;&#20013;&#38388;&#25991;&#20214;&#65292;&#29978;&#33267;&#26368;&#32456;&#25991;&#20214;&#20063;&#19981;&#26159;&#20320;&#24076;&#26395;&#29256;&#26412;&#21270;&#30340;&#65292;&#29992;&#25143;&#22312;&#35265;&#21040;&#36825;&#20123;&#25991;&#20214;&#21644;&#30446;&#24405;(&#32463;&#24120;&#26159;&#29256;&#26412;&#25511;&#21046;&#24037;&#20316;&#21103;&#26412;&#20013;)&#30340;&#20219;&#20309;&#26102;&#20505;&#37117;&#20250;&#23558;&#20182;&#20204;&#21024;&#38500;&#12290;</p>
            <p>&#26399;&#26395;&#35753;Subversion&#30340;&#24037;&#20316;&#21103;&#26412;&#25670;&#33073;&#28151;&#20081;&#20445;&#25345;&#24178;&#20928;&#26159;&#21487;&#31505;&#30340;&#65292;&#23454;&#38469;&#19978;Subversion&#23558;&#24037;&#20316;&#21103;&#26412;&#26159;&#26222;&#36890;&#30446;&#24405;&#20316;&#20026;&#23427;&#30340;&#19968;&#39033;<span class="emphasis"><em>&#29305;&#24615;</em></span>&#12290;&#20294;&#26159;&#36825;&#20123;&#27809;&#26377;&#29256;&#26412;&#21270;&#30340;&#25991;&#20214;&#21644;&#30446;&#24405;&#20250;&#32473;Subversion&#29992;&#25143;&#24102;&#26469;&#19968;&#20123;&#28902;&#24700;&#65292;&#20363;&#22914;&#65292;&#22240;&#20026;<span class="command"><strong>svn add</strong></span>&#21644;<span class="command"><strong>svn import</strong></span>&#21629;&#20196;&#37117;&#26159;&#20250;&#36882;&#24402;&#25191;&#34892;&#30340;&#65292;&#24182;&#19981;&#30693;&#36947;&#21738;&#20123;&#25991;&#20214;&#20320;&#19981;&#24076;&#26395;&#29256;&#26412;&#21270;&#65292;&#24456;&#23481;&#26131;&#24847;&#22806;&#30340;&#28155;&#21152;&#19968;&#20123;&#25991;&#20214;&#12290;&#22240;&#20026;<span class="command"><strong>svn status</strong></span>&#20250;&#25253;&#21578;&#24037;&#20316;&#25335;&#36125;&#20013;&#21253;&#25324;&#26410;&#29256;&#26412;&#21270;&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#20449;&#24687;&#65292;&#22914;&#26524;&#36825;&#31181;&#25991;&#20214;&#24456;&#22810;&#65292;&#23427;&#30340;&#36755;&#20986;&#20250;&#21464;&#24471;&#38750;&#24120;&#22024;&#26434;&#12290;
            </p>
            <p>So Subversion provides two ways for telling it which files
                     you would prefer that it simply disregard.  One of the ways
                     involves the use of Subversion's runtime configuration system
                     (see <a class="xref" href="svn.customization.html#svn.advanced.confarea" title="7.1.&nbsp;&#36816;&#34892;&#37197;&#32622;&#21306;">&#31532;&nbsp;7.1&nbsp;&#33410; &#8220;&#36816;&#34892;&#37197;&#32622;&#21306;&#8221;</a>), and therefore
                     applies to all the Subversion operations that make use of that
                     runtime configuration&#8212;generally those performed on a particular
                     computer or by a particular user of a computer.  The other way
                     makes use of Subversion's directory property support and is more
                     tightly bound to the versioned tree itself, and therefore
                     affects everyone who has a working copy of that tree.  Both of
                     the mechanisms use <em class="firstterm">file patterns</em> (strings
                     of literal and special wildcard characters used to match against
                     filenames) to decide which files to ignore.
            </p>
            <p>Subversion&#36816;&#34892;&#37197;&#32622;&#31995;&#32479;&#25552;&#20379;&#19968;&#20010;<code class="literal">global-ignores</code>&#36873;&#39033;&#65292;&#20854;&#20013;&#30340;&#20540;&#26159;&#31354;&#26684;&#20998;&#24320;&#30340;&#25991;&#20214;&#21517;&#27169;&#24335;(&#25110;glob)&#12290;&#36825;&#20123;&#27169;&#24335;&#20250;&#24212;&#29992;&#21040;&#21487;&#20197;&#28155;&#21152;&#21040;&#29256;&#26412;&#25511;&#21046;&#30340;&#20505;&#36873;&#32773;&#65292;&#20063;&#23601;&#26159;<span class="command"><strong>svn status</strong></span>&#26174;&#31034;&#20986;&#26469;&#30340;&#26410;&#29256;&#26412;&#21270;&#25991;&#20214;&#12290;&#22914;&#26524;&#25991;&#20214;&#21517;&#19982;&#20854;&#20013;&#30340;&#26576;&#20010;&#27169;&#24335;&#21305;&#37197;&#65292;Subversion&#20250;&#24403;&#36825;&#20010;&#25991;&#20214;&#19981;&#23384;&#22312;&#12290;&#36825;&#20010;&#25991;&#20214;&#27169;&#24335;&#26368;&#22909;&#26159;&#20840;&#23616;&#19981;&#26399;&#26395;&#29256;&#26412;&#21270;&#30340;&#27169;&#24335;&#65292;&#20363;&#22914;&#32534;&#36753;&#22120;Emacs&#30340;&#22791;&#20221;&#25991;&#20214;<code class="literal">*~</code>&#21644;<code class="literal">.*~</code>&#12290;
            </p>
            <div class="sidebar">
               <p class="title"><b>Subversion &#20013;&#30340;&#25991;&#20214;&#27169;&#24335;&#65311;</b></p>
               <p>&#25991;&#20214;&#27169;&#24335;(&#20063;&#21483;&#20570;<em class="firstterm">globs</em>&#25110;<em class="firstterm">shell wildcard patterns</em>)&#29992;&#26469;&#21305;&#37197;&#25991;&#20214;&#21517;&#30340;&#23383;&#31526;&#20018;&#65292;&#36890;&#24120;&#26159;&#29992;&#26469;&#22312;&#26080;&#38656;&#36755;&#20837;&#23436;&#25104;&#25991;&#20214;&#21517;&#30340;&#24773;&#20917;&#19979;&#24555;&#36895;&#36873;&#25321;&#31867;&#20284;&#25991;&#20214;&#30340;&#19968;&#20010;&#23376;&#38598;&#65292;&#36825;&#20010;&#27169;&#24335;&#21253;&#21547;&#20004;&#31181;&#23383;&#31526;&#65306;&#26222;&#36890;&#23383;&#31526;&#65292;&#26159;&#19982;&#28508;&#22312;&#21305;&#37197;&#30340;&#26126;&#30830;&#27604;&#36739;&#65292;&#21644;&#29305;&#27530;&#36890;&#37197;&#31526;&#65292;&#29992;&#26469;&#35299;&#37322;&#19981;&#21516;&#30340;&#21305;&#37197;&#30446;&#26631;&#12290;
               </p>
               <p>&#25991;&#20214;&#27169;&#24335;&#35821;&#27861;&#26377;&#19981;&#21516;&#30340;&#31867;&#22411;&#65292;&#20294;&#26159;Unix&#31995;&#32479;&#23454;&#29616;&#20013;Subversion&#20351;&#29992;&#26368;&#24120;&#35265;&#30340;<code class="function">fnmatch</code>&#31995;&#32479;&#20989;&#25968;&#65292;&#25903;&#25345;&#22914;&#19979;&#30340;&#36890;&#37197;&#31526;&#65292;&#20026;&#20102;&#20320;&#30340;&#20415;&#21033;&#26377;&#19968;&#20123;&#31616;&#30701;&#30340;&#25551;&#36848;&#65306;
               </p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term"><code class="literal">?</code></span></dt>
                     <dd>
                        <p>Matches any single character</p>
                     </dd>
                     <dt><span class="term"><code class="literal">*</code></span></dt>
                     <dd>
                        <p>Matches any string of characters, including the
                                         empty string
                        </p>
                     </dd>
                     <dt><span class="term"><code class="literal">[</code></span></dt>
                     <dd>
                        <p>Begins a character class definition terminated by
                                         <code class="literal">]</code>, used for matching a subset of
                                         characters
                        </p>
                     </dd>
                  </dl>
               </div>
               <p>&#20320;&#21487;&#20197;&#22312;Unix&#30340;shell&#25552;&#31034;&#31526;&#20013;&#30475;&#21040;&#21516;&#26679;&#30340;&#27169;&#24335;&#21305;&#37197;&#65292;&#19979;&#38754;&#26159;&#19968;&#20123;&#19981;&#21516;&#26041;&#24335;&#20351;&#29992;&#27169;&#24335;&#30340;&#20363;&#23376;&#65306;</p><pre class="screen">
$ ls   ### the book sources
appa-quickstart.xml             ch06-server-configuration.xml
appb-svn-for-cvs-users.xml      ch07-customizing-svn.xml
appc-webdav.xml                 ch08-embedding-svn.xml
book.xml                        ch09-reference.xml
ch00-preface.xml                ch10-world-peace-thru-svn.xml
ch01-fundamental-concepts.xml   copyright.xml
ch02-basic-usage.xml            foreword.xml
ch03-advanced-topics.xml        images/
ch04-branching-and-merging.xml  index.xml
ch05-repository-admin.xml       styles.css
$ ls ch*   ### the book chapters
ch00-preface.xml                ch06-server-configuration.xml
ch01-fundamental-concepts.xml   ch07-customizing-svn.xml
ch02-basic-usage.xml            ch08-embedding-svn.xml
ch03-advanced-topics.xml        ch09-reference.xml
ch04-branching-and-merging.xml  ch10-world-peace-thru-svn.xml
ch05-repository-admin.xml
$ ls ch?0-*   ### the book chapters whose numbers end in zero
ch00-preface.xml  ch10-world-peace-thru-svn.xml
$ ls ch0[3578]-*   ### the book chapters that Mike is responsible for
ch03-advanced-topics.xml   ch07-customizing-svn.xml
ch05-repository-admin.xml  ch08-embedding-svn.xml
$
</pre><p>&#25991;&#20214;&#27169;&#24335;&#21305;&#37197;&#21487;&#33021;&#27604;&#25105;&#20204;&#36825;&#37324;&#25551;&#36848;&#26356;&#22797;&#26434;&#19968;&#28857;&#65292;&#20294;&#26159;&#22522;&#26412;&#30340;&#20351;&#29992;&#27700;&#24179;&#20250;&#36866;&#21512;&#22823;&#22810;&#25968;Subversion&#30340;&#29992;&#25143;&#12290;</p>
            </div>
            <p>&#22914;&#26524;&#26159;&#22312;&#29256;&#26412;&#21270;&#30446;&#24405;&#19978;&#21457;&#29616;<code class="literal">svn:ignore</code>&#23646;&#24615;&#65292;&#20854;&#20869;&#23481;&#26159;&#19968;&#21015;&#20197;&#34892;&#20998;&#21106;&#30340;&#25991;&#20214;&#27169;&#24335;&#65292;Subversion&#29992;&#26469;&#21028;&#26029;&#22312;&#36825;&#20010;&#30446;&#24405;&#19979;&#23545;&#35937;&#26159;&#21542;&#34987;&#24573;&#30053;&#12290;&#36825;&#20123;&#27169;&#24335;&#19981;&#20250;&#35206;&#30422;&#22312;&#36816;&#34892;&#37197;&#32622;&#35774;&#32622;&#30340;&#20840;&#23616;&#24573;&#30053;&#65292;&#32780;&#26159;&#21521;&#20854;&#28155;&#21152;&#24573;&#30053;&#27169;&#24335;&#12290;&#19981;&#20687;&#20840;&#23616;&#24573;&#30053;&#36873;&#39033;&#65292;&#22312;<code class="literal">svn:ignore</code>&#23646;&#24615;&#20013;&#35774;&#32622;&#30340;&#20540;&#21482;&#20250;&#24212;&#29992;&#21040;&#20854;&#35774;&#32622;&#30340;&#30446;&#24405;&#65292;&#32780;&#19981;&#20250;&#24212;&#29992;&#21040;&#20854;&#23376;&#30446;&#24405;&#12290;<code class="literal">svn:ignore</code>&#23646;&#24615;&#26159;&#21578;&#35785;Subversion&#22312;&#27599;&#20010;&#29992;&#25143;&#30340;&#24037;&#20316;&#25335;&#36125;&#23545;&#24212;&#30446;&#24405;&#24573;&#30053;&#30456;&#21516;&#30340;&#25991;&#20214;&#30340;&#22909;&#26041;&#27861;&#65292;&#20363;&#22914;&#32534;&#35793;&#36755;&#20986;&#25110;&#8212;&#20351;&#29992;&#19968;&#20010;&#26412;&#20070;&#30456;&#20851;&#30340;&#20363;&#23376;&#8212;&#26412;&#20070;&#20174;DocBook XML&#25991;&#20214;&#29983;&#25104;&#30340;HTML&#12289;PDF&#25110;PostScript&#12290;
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Note">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td>
                     <th align="left">&#27880;&#24847;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>Subversion&#23545;&#20110;&#24573;&#30053;&#25991;&#20214;&#27169;&#24335;&#30340;&#25903;&#25345;&#20165;&#38480;&#20110;&#23558;&#26410;&#29256;&#26412;&#21270;&#25991;&#20214;&#21644;&#30446;&#24405;&#28155;&#21152;&#21040;&#29256;&#26412;&#25511;&#21046;&#26102;&#65292;&#22914;&#26524;&#19968;&#20010;&#25991;&#20214;&#24050;&#32463;&#22312;Subversion&#25511;&#21046;&#19979;&#65292;&#24573;&#30053;&#27169;&#24335;&#26426;&#21046;&#19981;&#20250;&#20877;&#26377;&#25928;&#26524;&#65292;&#19981;&#35201;&#26399;&#26395;Subversion&#20250;&#38459;&#27490;&#20320;&#25552;&#20132;&#19968;&#20010;&#31526;&#21512;&#24573;&#30053;&#26465;&#20214;&#30340;&#20462;&#25913;&#8212;Subversion&#19968;&#30452;&#35748;&#20026;&#23427;&#26159;&#29256;&#26412;&#21270;&#30340;&#23545;&#35937;&#12290;</p>
                     </td>
                  </tr>
               </table>
            </div>
            <div class="sidebar">
               <p class="title"><b>CVS &#29992;&#25143;&#30340;&#24573;&#30053;&#27169;&#24335;</b></p>
               <p>Subversion&#30340;<code class="literal">svn:ignore</code>&#23646;&#24615;&#19982;CVS&#30340;<code class="filename">.cvsignore</code>&#25991;&#20214;&#30340;&#35821;&#27861;&#21644;&#21151;&#33021;&#38750;&#24120;&#31867;&#20284;&#65292;&#23454;&#38469;&#19978;&#65292;&#22914;&#26524;&#20320;&#31227;&#26893;&#19968;&#20010;CVS&#30340;&#24037;&#20316;&#21103;&#26412;&#21040;Subversion&#65292;&#20320;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;<code class="filename">.cvsignore</code>&#20316;&#20026;<span class="command"><strong>svn propset</strong></span>&#36755;&#20837;&#25991;&#20214;&#21442;&#25968;&#65306;
               </p><pre class="screen">
$ svn propset svn:ignore -F .cvsignore .
property 'svn:ignore' set on '.'
$
</pre><p>&#20294;&#26159;CVS&#21644;Subversion&#22788;&#29702;&#24573;&#30053;&#27169;&#24335;&#30340;&#26041;&#24335;&#26377;&#19968;&#20123;&#19981;&#21516;&#65292;&#36825;&#20004;&#20010;&#31995;&#32479;&#22312;&#19981;&#21516;&#30340;&#26102;&#20505;&#20351;&#29992;&#24573;&#30053;&#27169;&#24335;&#65292;&#24573;&#30053;&#27169;&#24335;&#24212;&#29992;&#30340;&#23545;&#35937;&#20063;&#30001;&#24494;&#23567;&#30340;&#19981;&#21516;&#65292;&#21478;&#22806;Subversion&#19981;&#21487;&#20197;&#20351;&#29992;<code class="literal">!</code>&#27169;&#24335;&#26469;&#21435;&#21462;&#28040;&#24573;&#30053;&#27169;&#24335;&#12290;
               </p>
            </div>
            <p>&#20840;&#23616;&#24573;&#30053;&#27169;&#24335;&#21482;&#26159;&#19968;&#31181;&#20010;&#20154;&#21916;&#22909;&#65292;&#21487;&#33021;&#26356;&#25509;&#36817;&#20110;&#29992;&#25143;&#30340;&#29305;&#23450;&#24037;&#20855;&#38142;&#65292;&#32780;&#19981;&#26159;&#29305;&#23450;&#24037;&#20316;&#21103;&#26412;&#30340;&#38656;&#35201;&#65292;&#25152;&#20197;&#20313;&#19979;&#30340;&#23567;&#33410;&#23558;&#20851;&#27880;<code class="literal">svn:ignore</code>&#23646;&#24615;&#21644;&#23427;&#30340;&#20351;&#29992;&#12290;
            </p>
            <p>&#20551;&#23450;&#20320;&#30340;<span class="command"><strong>svn status</strong></span>&#26377;&#22914;&#19979;&#36755;&#20986;&#65306;
            </p><pre class="screen">
$ svn status calc
 M     calc/button.c
?      calc/calculator
?      calc/data.c
?      calc/debug_log
?      calc/debug_log.1
?      calc/debug_log.2.gz
?      calc/debug_log.3.gz
</pre><p>In this example, you have made some property modifications
                     to <code class="filename">button.c</code>, but in your working copy, you
                     also have some unversioned files: the latest
                     <code class="filename">calculator</code> program that you've compiled
                     from your source code, a source file named
                     <code class="filename">data.c</code>, and a set of debugging output logfiles.
                     Now, you know that your build system always results in
                     the <code class="filename">calculator</code> program being generated.
                     <sup>[<a name="d0e4564" href="#ftn.d0e4564" class="footnote">12</a>]</sup>
                     And you know that your test suite always leaves those debugging
                     logfiles lying around.  These facts are true for all working
                     copies of this project, not just your own.  And you know that
                     you aren't interested in seeing those things every time you run
                     <span class="command"><strong>svn status</strong></span>, and you are pretty sure that
                     nobody else is interested in them either.  So you use
                     <strong class="userinput"><code>svn propedit svn:ignore calc</code></strong> to add some
                     ignore patterns to the <code class="filename">calc</code> directory.  For
                     example, you might add this as the new value of the
                     <code class="literal">svn:ignore</code> property:
            </p><pre class="programlisting">
calculator
debug_log*
</pre><p>&#24403;&#20320;&#28155;&#21152;&#23436;&#36825;&#20123;&#23646;&#24615;&#65292;&#20320;&#20250;&#22312;<code class="filename">calc</code>&#30446;&#24405;&#26377;&#19968;&#20010;&#26412;&#22320;&#20462;&#25913;&#65292;&#20294;&#26159;&#27880;&#24847;&#20320;&#30340;<span class="command"><strong>svn status</strong></span>&#36755;&#20986;&#26377;&#20160;&#20040;&#20854;&#20182;&#30340;&#19981;&#21516;&#65306;
            </p><pre class="screen">
$ svn status
 M     calc
 M     calc/button.c
?      calc/data.c
</pre><p>&#29616;&#22312;&#65292;&#25152;&#26377;&#22810;&#20313;&#30340;&#36755;&#20986;&#19981;&#35265;&#20102;&#65281;&#24403;&#28982;&#65292;&#20320;&#30340;<code class="filename">&#35745;&#31639;&#22120;</code>&#31243;&#24207;&#21644;&#25152;&#26377;&#30340;&#26085;&#24535;&#25991;&#20214;&#36824;&#22312;&#24037;&#20316;&#21103;&#26412;&#20013;&#65292;Subversion&#20165;&#20165;&#26159;&#19981;&#20877;&#25552;&#37266;&#20320;&#23427;&#20204;&#30340;&#23384;&#22312;&#21644;&#26410;&#29256;&#26412;&#21270;&#12290;&#29616;&#22312;&#25152;&#26377;&#35752;&#21388;&#30340;&#22122;&#38899;&#37117;&#24050;&#32463;&#19981;&#20877;&#26174;&#31034;&#65292;&#21482;&#30041;&#19979;&#20102;&#20320;&#24863;&#20852;&#36259;&#30340;&#26465;&#30446;&#8212;&#22914;&#20320;&#24536;&#35760;&#28155;&#21152;&#21040;&#29256;&#26412;&#25511;&#21046;&#30340;&#28304;&#20195;&#30721;&#25991;&#20214;<code class="filename">data.c</code>&#12290;
            </p>
            <p>&#24403;&#28982;&#65292;&#19981;&#20165;&#20165;&#21482;&#26377;&#36825;&#31181;&#31616;&#30053;&#30340;&#24037;&#20316;&#21103;&#26412;&#29366;&#24577;&#36755;&#20986;&#65292;&#22914;&#26524;&#24819;&#26597;&#30475;&#34987;&#24573;&#30053;&#30340;&#25991;&#20214;&#65292;&#21487;&#20197;&#20351;&#29992;Subversion&#30340;<code class="option">--no-ignore</code>&#36873;&#39033;&#65306;
            </p><pre class="screen">
$ svn status --no-ignore
 M     calc
 M     calc/button.c
I      calc/calculator
?      calc/data.c
I      calc/debug_log
I      calc/debug_log.1
I      calc/debug_log.2.gz
I      calc/debug_log.3.gz
</pre><p>&#25105;&#20204;&#22312;&#21069;&#38754;&#25552;&#21040;&#36807;&#65292;<span class="command"><strong>svn add</strong></span>&#21644;<span class="command"><strong>svn import</strong></span>&#20063;&#20250;&#20351;&#29992;&#36825;&#20010;&#24573;&#30053;&#27169;&#24335;&#21015;&#34920;&#65292;&#36825;&#20004;&#20010;&#25805;&#20316;&#37117;&#21253;&#25324;&#20102;&#35810;&#38382;Subversion&#26469;&#24320;&#22987;&#31649;&#29702;&#19968;&#32452;&#25991;&#20214;&#21644;&#30446;&#24405;&#12290;&#27604;&#24378;&#21046;&#29992;&#25143;&#25361;&#25315;&#30446;&#24405;&#26641;&#20013;&#37027;&#20010;&#25991;&#20214;&#35201;&#32435;&#20837;&#29256;&#26412;&#25511;&#21046;&#30340;&#26041;&#24335;&#26356;&#22909;&#65292;Subversion&#20351;&#29992;&#24573;&#30053;&#27169;&#24335;&#26469;&#26816;&#27979;&#37027;&#20010;&#25991;&#20214;&#19981;&#24212;&#35813;&#22312;&#22823;&#30340;&#36845;&#20195;&#28155;&#21152;&#21644;&#23548;&#20837;&#25805;&#20316;&#20013;&#36827;&#20837;&#29256;&#26412;&#25511;&#21046;&#31995;&#32479;&#12290;&#20877;&#27425;&#35828;&#26126;&#65292;&#25805;&#20316;Subversion&#25991;&#20214;&#21644;&#30446;&#24405;&#26102;&#20320;&#21487;&#20197;&#20351;&#29992;<code class="option">--no-ignore</code>&#36873;&#39033;&#24573;&#30053;&#36825;&#20010;&#24573;&#30053;&#21015;&#34920;&#12290;
            </p>
            <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Tip">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                     <th align="left">&#25552;&#31034;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>Even if <code class="literal">svn:ignore</code> is set, you may run
                                   into problems if you use shell wildcards in a command.  Shell
                                   wildcards are expanded into an explicit list of targets before
                                   Subversion operates on them, so running <strong class="userinput"><code>svn
                                         <em class="replaceable"><code>SUBCOMMAND</code></em> *</code></strong> is just like
                                   running <strong class="userinput"><code>svn <em class="replaceable"><code>SUBCOMMAND</code></em>
                                         file1 file2 file3 &#8230;</code></strong>.  In the case of the
                                   <span class="command"><strong>svn add</strong></span> command, this has an effect similar
                                   to passing the <code class="option">--no-ignore</code> option.  So
                                   instead of using a wildcard, use <strong class="userinput"><code>svn add --force
                                         .</code></strong> to do a bulk scheduling of unversioned things for
                                   addition.  The explicit target will ensure that the current
                                   directory isn't overlooked because of being already under
                                   version control, and the <code class="option">--force</code> option will
                                   cause Subversion to crawl through that directory, adding
                                   unversioned files while still honoring the
                                   <code class="literal">svn:ignore</code> property and
                                   <code class="literal">global-ignores</code> runtime configuration
                                   variable.  Be sure to also provide the <code class="option">--depth
                                      files</code> option to the <span class="command"><strong>svn add</strong></span>
                                   command if you don't want a fully recursive crawl for things
                                   to add.
                        </p>
                     </td>
                  </tr>
               </table>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.props.special.keywords"></a>3.5.&nbsp;&#20851;&#38190;&#23383;&#26367;&#25442;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Subversion has the ability to substitute
                     <em class="firstterm">keywords</em>&#8212;pieces of useful,
                     dynamic information about a versioned file&#8212;into the
                     contents of the file itself.  Keywords generally provide
                     information about the last modification made to the file.
                     Because this information changes each time the
                     file changes, and more importantly, just
                     <span class="emphasis"><em>after</em></span> the file changes, it is a hassle
                     for any process except the version control system to keep
                     the data completely up to date.  Left to human authors, the
                     information would inevitably grow stale.
            </p>
            <p>&#20030;&#20010;&#20363;&#23376;&#65292;&#20320;&#26377;&#19968;&#20010;&#25991;&#26723;&#24076;&#26395;&#26174;&#31034;&#26368;&#21518;&#20462;&#25913;&#30340;&#26085;&#26399;&#65292;&#20320;&#38656;&#35201;&#40635;&#28902;&#27599;&#20010;&#20316;&#32773;&#25552;&#20132;&#20043;&#21069;&#20570;&#36825;&#20214;&#20107;&#24773;&#65292;&#20063;&#35201;&#20462;&#25913;&#25991;&#26723;&#30340;&#19968;&#37096;&#20998;&#26469;&#25551;&#36848;&#20309;&#26102;&#20316;&#30340;&#20462;&#25913;&#65292;&#20294;&#26159;&#36831;&#26089;&#20250;&#26377;&#20154;&#24536;&#35760;&#20570;&#36825;&#20214;&#20107;&#65292;&#19981;&#36873;&#25321;&#31616;&#21333;&#30340;&#21578;&#35785;Subversion&#26469;&#25191;&#34892;&#26367;&#25442;<code class="literal">LastChangedDate</code>&#20851;&#38190;&#23383;&#30340;&#25805;&#20316;&#65292;&#20320;&#36890;&#36807;&#22312;&#30446;&#26631;&#20301;&#32622;&#25918;&#32622;&#19968;&#20010;<em class="firstterm">keyword anchor</em>&#26469;&#25511;&#21046;&#20851;&#38190;&#23383;&#25554;&#20837;&#30340;&#20301;&#32622;&#65292;&#36825;&#20010;anchor&#21482;&#26159;&#19968;&#20010;&#26684;&#24335;&#20026;<code class="literal">$</code><em class="replaceable"><code>KeywordName</code></em><code class="literal">$</code>&#23383;&#31526;&#20018;&#12290;
            </p>
            <p>All keywords are case-sensitive where they appear as
                     anchors in files: you must use the correct capitalization
                     for the keyword to be expanded.  You should consider the
                     value of the <code class="literal">svn:keywords</code> property to be
                     case-sensitive, too&#8212;certain keyword names will be recognized
                     regardless of case, but this behavior is deprecated.
            </p>
            <p>Subversion&#23450;&#20041;&#20102;&#29992;&#26469;&#26367;&#25442;&#30340;&#20851;&#38190;&#23383;&#21015;&#34920;&#65292;&#36825;&#20010;&#21015;&#34920;&#20445;&#23384;&#20102;&#22914;&#19979;&#20116;&#20010;&#20851;&#38190;&#23383;&#65292;&#26377;&#19968;&#20123;&#20063;&#21253;&#25324;&#20102;&#21487;&#29992;&#30340;&#21035;&#21517;&#65306;</p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><code class="literal">Date</code></span></dt>
                  <dd>
                     <p>&#36825;&#20010;&#20851;&#38190;&#23383;&#20445;&#23384;&#20102;&#25991;&#20214;&#26368;&#21518;&#19968;&#27425;&#22312;&#29256;&#26412;&#24211;&#20462;&#25913;&#30340;&#26085;&#26399;&#65292;&#30475;&#36215;&#26469;&#31867;&#20284;&#20110;<code class="literal">$Date$</code>&#65292;&#23427;&#20063;&#21487;&#20197;&#29992;<code class="literal">LastChangedDate</code>&#26469;&#25351;&#23450;&#12290;
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">Revision</code></span></dt>
                  <dd>
                     <p>&#36825;&#20010;&#20851;&#38190;&#23383;&#25551;&#36848;&#20102;&#36825;&#20010;&#25991;&#20214;&#26368;&#21518;&#19968;&#27425;&#20462;&#25913;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#30475;&#36215;&#26469;&#20687;<code class="literal">$Revision$</code>&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;<code class="literal">LastChangedRevision</code>&#25110;&#32773;<code class="literal">Rev</code>&#24341;&#29992;&#12290;
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">Author</code></span></dt>
                  <dd>
                     <p>&#36825;&#20010;&#20851;&#38190;&#23383;&#25551;&#36848;&#20102;&#26368;&#21518;&#19968;&#20010;&#20462;&#25913;&#36825;&#20010;&#25991;&#20214;&#30340;&#29992;&#25143;&#65292;&#30475;&#36215;&#26469;&#31867;&#20284;<code class="literal">$Author$</code>&#65292;&#20063;&#21487;&#20197;&#29992;<code class="literal">LastChangedBy</code>&#26469;&#25351;&#23450;&#12290;
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">HeadURL</code></span></dt>
                  <dd>
                     <p>&#36825;&#20010;&#20851;&#38190;&#23383;&#25551;&#36848;&#20102;&#36825;&#20010;&#25991;&#20214;&#22312;&#29256;&#26412;&#24211;&#26368;&#26032;&#29256;&#26412;&#30340;&#23436;&#20840;URL&#65292;&#30475;&#36215;&#26469;&#31867;&#20284;<code class="literal">$HeadURL$</code>&#65292;&#21487;&#20197;&#32553;&#20889;&#20026;<code class="literal">URL</code>&#12290;
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">Id</code></span></dt>
                  <dd>
                     <p>&#36825;&#20010;&#20851;&#38190;&#23383;&#26159;&#20854;&#20182;&#20851;&#38190;&#23383;&#19968;&#20010;&#21387;&#32553;&#32452;&#21512;&#65292;&#23427;&#30475;&#36215;&#26469;&#23601;&#20687;<code class="literal">$Id$</code>&#65292;&#21487;&#20197;&#35299;&#37322;&#20026;&#25991;&#20214;<code class="filename">calc.c</code>&#19978;&#19968;&#27425;&#20462;&#25913;&#30340;&#20462;&#35746;&#29256;&#26412;&#21495;&#26159;148&#65292;&#26102;&#38388;&#26159;2006&#24180;7&#26376;28&#26085;&#65292;&#20316;&#32773;&#26159;<code class="literal">sally</code>&#12290;&#36825;&#20010;&#20851;&#38190;&#23383;&#20013;&#26174;&#31034;&#30340;&#26085;&#26399;&#26159;UTC&#30340;&#65292;&#19982;<code class="literal">Date</code>&#20851;&#38190;&#23383;&#19981;&#19968;&#26679;(&#20351;&#29992;&#26412;&#22320;&#26102;&#21306;)&#12290;
                     </p>
                  </dd>
               </dl>
            </div>
            <p>Several of the preceding descriptions use the phrase
                     &#8220;<span class="quote">last known</span>&#8221; or similar wording.  Keep in mind that
                     keyword expansion is a client-side operation, and your client
                     &#8220;<span class="quote">knows</span>&#8221; only about changes that have occurred in
                     the repository when you update your working copy to include
                     those changes.  If you never update your working copy, your
                     keywords will never expand to different values even if those
                     versioned files are being changed regularly in the
                     repository.
            </p>
            <p>&#21482;&#22312;&#20320;&#30340;&#25991;&#20214;&#22686;&#21152;&#20851;&#38190;&#23383;anchor&#19981;&#20250;&#20570;&#20160;&#20040;&#29305;&#21035;&#30340;&#20107;&#24773;&#65292;Subversion&#19981;&#20250;&#23581;&#35797;&#23545;&#20320;&#30340;&#25991;&#20214;&#20869;&#23481;&#25191;&#34892;&#25991;&#26412;&#26367;&#25442;&#65292;&#38500;&#38750;&#26126;&#30830;&#30340;&#34987;&#21578;&#30693;&#36825;&#26679;&#20570;&#65292;&#27605;&#31455;&#65292;&#20320;&#21487;&#20197;&#25776;&#20889;&#19968;&#20010;&#20851;&#20110;&#22914;&#20309;&#20351;&#29992;&#20851;&#38190;&#23383;&#30340;&#25991;&#26723;<sup>[<a name="d0e4781" href="#ftn.d0e4781" class="footnote">13</a>]</sup>&#65292;&#20320;&#19981;&#24076;&#26395;Subversion&#20250;&#26367;&#25442;&#20320;&#28418;&#20142;&#30340;&#20851;&#20110;&#19981;&#38656;&#35201;&#26367;&#25442;&#30340;&#20851;&#38190;&#23383;anchor&#23454;&#20363;&#65281;
            </p>
            <p>To tell Subversion whether to substitute keywords
                     on a particular file, we again turn to the property-related
                     subcommands.  The <code class="literal">svn:keywords</code> property,
                     when set on a versioned file, controls which keywords will
                     be substituted on that file.  The value is a space-delimited
                     list of keyword names or aliases.
            </p>
            <p>&#20030;&#20010;&#20363;&#23376;&#65292;&#20551;&#23450;&#20320;&#26377;&#19968;&#20010;&#29256;&#26412;&#21270;&#30340;&#25991;&#20214;<code class="filename">weather.txt</code>&#65292;&#20869;&#23481;&#22914;&#19979;&#65306;
            </p><pre class="programlisting">
Here is the latest report from the front lines.
$LastChangedDate$
$Rev$
Cumulus clouds are appearing more frequently as summer approaches.
</pre><p>&#24403;&#27809;&#26377;<code class="literal">svn:keywords</code>&#23646;&#24615;&#35774;&#32622;&#21040;&#36825;&#20010;&#25991;&#20214;&#65292;Subversion&#19981;&#20250;&#26377;&#20219;&#20309;&#29305;&#21035;&#25805;&#20316;&#65292;&#29616;&#22312;&#35753;&#25105;&#20204;&#20801;&#35768;<code class="literal">LastChangedDate</code>&#20851;&#38190;&#23383;&#30340;&#26367;&#25442;&#12290;
            </p><pre class="screen">
$ svn propset svn:keywords "Date Author" weather.txt
property 'svn:keywords' set on 'weather.txt'
$
</pre><p>&#29616;&#22312;&#20320;&#24050;&#32463;&#23545;<code class="filename">weather.txt</code>&#30340;&#23646;&#24615;&#20316;&#20102;&#20462;&#25913;&#65292;&#20320;&#20250;&#30475;&#21040;&#25991;&#20214;&#30340;&#20869;&#23481;&#27809;&#26377;&#25913;&#21464;(&#38500;&#38750;&#20320;&#20043;&#21069;&#20570;&#20102;&#19968;&#20123;&#23646;&#24615;&#35774;&#32622;)&#65292;&#27880;&#24847;&#36825;&#20010;&#25991;&#20214;&#21253;&#21547;&#20102;<code class="literal">Rev</code>&#30340;&#20851;&#38190;&#23383;anchor&#65292;&#20294;&#25105;&#20204;&#27809;&#26377;&#22312;&#23646;&#24615;&#20540;&#20013;&#21253;&#25324;&#36825;&#20010;&#20851;&#38190;&#23383;&#65292;Subversion&#20250;&#39640;&#20852;&#30340;&#24573;&#30053;&#26367;&#25442;&#36825;&#20010;&#25991;&#20214;&#20013;&#30340;&#20851;&#38190;&#23383;&#65292;&#20063;&#19981;&#20250;&#26367;&#25442;<code class="literal">svn:keywords</code>&#23646;&#24615;&#20013;&#27809;&#26377;&#20986;&#29616;&#30340;&#20851;&#38190;&#23383;&#12290;
            </p>
            <p>Immediately after you commit this property change,
                     Subversion will update your working file with the new
                     substitute text.  Instead of seeing your keyword anchor
                     <code class="literal">$LastChangedDate$</code>, you'll see its
                     substituted result.  That result also contains the name of
                     the keyword and continues to be delimited by the dollar sign
                     (<code class="literal">$</code>) characters.  And as we predicted, the
                     <code class="literal">Rev</code> keyword was not substituted because
                     we didn't ask for it to be.
            </p>
            <p>&#27880;&#24847;&#25105;&#20204;&#35774;&#32622;<code class="literal">svn:keywords</code>&#23646;&#24615;&#20026;&#8220;<span class="quote">Date Author</span>&#8221;&#65292;&#20851;&#38190;&#23383;anchor&#20351;&#29992;&#21035;&#21517;<code class="literal">$LastChangedDate$</code>&#24182;&#19988;&#27491;&#30830;&#30340;&#25193;&#23637;&#12290;
            </p><pre class="screen">
Here is the latest report from the front lines.
$LastChangedDate$
$Rev$
Cumulus clouds are appearing more frequently as summer approaches.
</pre><p>&#22914;&#26524;&#26377;&#20854;&#20182;&#20154;&#25552;&#20132;&#20102;<code class="filename">weather.txt</code>&#30340;&#20462;&#25913;&#65292;&#20320;&#30340;&#27492;&#25991;&#20214;&#30340;&#25335;&#36125;&#36824;&#20250;&#26174;&#31034;&#21516;&#26679;&#30340;&#26367;&#25442;&#20851;&#38190;&#23383;&#20540;&#8212;&#30452;&#21040;&#20320;&#26356;&#26032;&#20320;&#30340;&#24037;&#20316;&#21103;&#26412;&#65292;&#27492;&#26102;&#20320;&#30340;<code class="filename">weather.txt</code>&#37325;&#30340;&#20851;&#38190;&#23383;&#23558;&#20250;&#34987;&#26367;&#25442;&#26469;&#21453;&#26144;&#26368;&#26032;&#30340;&#25552;&#20132;&#20449;&#24687;&#12290;
            </p>
            <div class="sidebar">
               <p class="title"><b>$GlobalRev$ &#26159;&#20160;&#20040;&#65311;</b></p>
               <p>&#26032;&#29992;&#25143;&#32463;&#24120;&#20026;&#22914;&#20309;&#20351;&#29992;<code class="literal">$Rev$</code>&#20851;&#38190;&#23383;&#36855;&#24785;&#65292;&#33258;&#20174;&#29256;&#26412;&#24211;&#26377;&#20102;&#21333;&#29420;&#30340;&#20840;&#23616;&#22686;&#38271;&#30340;&#20462;&#35746;&#29256;&#26412;&#21495;&#30721;&#65292;&#35768;&#22810;&#20154;&#20197;&#20026;<code class="literal">$Rev$</code>&#20851;&#38190;&#23383;&#26159;&#21453;&#26144;&#20462;&#35746;&#29256;&#26412;&#21495;&#30721;&#30340;&#65292;&#20294;&#23454;&#38469;&#19978;<code class="literal">$Rev$</code>&#26159;&#25991;&#20214;&#26368;&#21518;&#20462;&#25913;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#32780;&#19981;&#26159;&#26368;&#21518;&#26356;&#26032;&#30340;&#12290;&#29702;&#35299;&#36825;&#19968;&#28857;&#65292;&#20250;&#20943;&#23569;&#19968;&#20123;&#28151;&#28102;&#65292;&#20294;&#26159;&#36824;&#26377;&#19968;&#20123;&#25387;&#25240;&#8212;&#22914;&#26524;&#27809;&#26377;Subversion&#20851;&#38190;&#23383;&#30340;&#25903;&#25345;&#65292;&#20320;&#24590;&#20040;&#25165;&#33021;&#22312;&#20320;&#30340;&#25991;&#20214;&#33258;&#21160;&#24471;&#21040;&#20840;&#23616;&#20462;&#35746;&#29256;&#26412;&#21495;&#65311;
               </p>
               <p>&#20026;&#27492;&#20320;&#38656;&#35201;&#22806;&#32622;&#22788;&#29702;&#65292;Subversion&#20013;&#26377;&#19968;&#20010;&#24037;&#20855;<span class="command"><strong>svnversion</strong></span>&#23601;&#26159;&#20026;&#27492;&#35774;&#35745;&#12290;<span class="command"><strong>svnversion</strong></span>&#36941;&#21382;&#20320;&#30340;&#24037;&#20316;&#21103;&#26412;&#65292;&#28982;&#21518;&#36755;&#20986;&#23427;&#21457;&#29616;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;&#31243;&#24207;&#65292;&#22806;&#21152;&#19968;&#20123;&#24037;&#20855;&#65292;&#23558;&#20462;&#35746;&#29256;&#26412;&#20449;&#24687;&#23884;&#20837;&#21040;&#20320;&#30340;&#25991;&#20214;&#12290;&#20851;&#20110;<span class="command"><strong>svnversion</strong></span>&#30340;&#26356;&#22810;&#20449;&#24687;&#65292;&#35265;<a class="xref" href="svn.ref.html#svn.ref.svnversion" title="9.7.&nbsp;svnversion">&#31532;&nbsp;9.7&nbsp;&#33410; &#8220;svnversion&#8221;</a>&#12290;
               </p>
            </div>
            <p>Subversion 1.2&#24341;&#20837;&#20102;&#21478;&#19968;&#31181;&#20851;&#38190;&#23383;&#30340;&#35821;&#27861;&#65292;&#25552;&#20379;&#20102;&#39069;&#22806;&#21644;&#26377;&#29992;&#30340;&#65292;&#23613;&#31649;&#26159;&#38750;&#20856;&#22411;&#30340;&#21151;&#33021;&#12290;&#20320;&#29616;&#22312;&#21487;&#20197;&#21578;&#35785;Subversion&#20026;&#26367;&#20195;&#30340;&#20851;&#38190;&#23383;&#32500;&#25252;&#19968;&#20010;&#22266;&#23450;&#38271;&#24230;(&#20174;&#28040;&#32791;&#23383;&#33410;&#30340;&#35266;&#28857;)&#65292;&#36890;&#36807;&#22312;&#20851;&#38190;&#23383;&#21517;&#21518;&#20351;&#29992;&#21452;&#20882;&#21495;(<code class="literal">::</code>)&#65292;&#28982;&#21518;&#32039;&#36319;&#19968;&#32452;&#31354;&#26684;&#65292;&#20320;&#23601;&#23450;&#20041;&#20102;&#22266;&#23450;&#23485;&#24230;&#12290;&#24403;Subversion&#20351;&#29992;&#26367;&#20195;&#20540;&#20195;&#26367;&#20320;&#30340;&#20851;&#38190;&#23383;&#65292;&#21482;&#20250;&#26367;&#25442;&#36825;&#20123;&#31354;&#30333;&#23383;&#31526;&#65292;&#20445;&#25345;&#20851;&#38190;&#23383;&#23383;&#27573;&#38271;&#24230;&#20445;&#25345;&#19981;&#21464;&#65292;&#22914;&#26524;&#26367;&#20195;&#20540;&#27604;&#23450;&#20041;&#30340;&#23383;&#27573;&#30701;&#65292;&#20250;&#26377;&#26367;&#20195;&#23383;&#27573;&#21518;&#20445;&#30041;&#31354;&#26684;&#65307;&#22914;&#26524;&#26367;&#20195;&#20540;&#22826;&#38271;&#65292;&#23601;&#20250;&#22312;&#26368;&#21518;&#30340;&#32654;&#20803;&#31526;&#21495;&#32456;&#27490;&#31526;&#21069;&#29992;&#20117;&#21495;(<code class="literal">#</code>)&#25130;&#26029;&#12290;
            </p>
            <p>&#20363;&#22914;&#65292;&#20320;&#26377;&#19968;&#31687;&#25991;&#26723;&#65292;&#20854;&#20013;&#19968;&#27573;&#26159;&#19968;&#20123;&#21453;&#26144;Subversion&#20851;&#38190;&#23383;&#30340;&#34920;&#26684;&#25968;&#25454;&#65292;&#20351;&#29992;&#21407;&#22987;&#30340;Subversion&#20851;&#38190;&#23383;&#26367;&#25442;&#35821;&#27861;&#65292;&#20320;&#30340;&#25991;&#20214;&#25110;&#35768;&#20687;&#36825;&#26679;&#65306;</p><pre class="screen">
$Rev$:     Revision of last commit
$Author$:  Author of last commit
$Date$:    Date of last commit
</pre><p>&#29616;&#22312;&#65292;&#34920;&#26684;&#30475;&#36215;&#26469;&#20343;&#28418;&#20142;&#65292;&#20294;&#26159;&#24403;&#20320;&#25552;&#20132;&#25991;&#20214;(&#24403;&#28982;&#65292;&#20851;&#38190;&#23383;&#26367;&#25442;&#21151;&#33021;&#24050;&#25171;&#24320;)&#65292;&#20320;&#20250;&#30475;&#21040;&#65306;</p><pre class="screen">
$Rev$:     Revision of last commit
$Author$:  Author of last commit
$Date$:    Date of last commit
</pre><p>The result is not so beautiful.  And you might be
                     tempted to then adjust the file after the substitution so
                     that it again looks tabular.  But that holds only as long as
                     the keyword values are the same width.  If the last
                     committed revision rolls into a new place value (say, from
                     99 to 100), or if another person with a longer username
                     commits the file, stuff gets all crooked again.  However, if
                     you are using Subversion 1.2 or later, you can use the new
                     fixed-length keyword syntax and define some field widths that
                     seem sane, so your file might look like this:
            </p><pre class="screen">
$Rev::               $:  Revision of last commit
$Author::            $:  Author of last commit
$Date::              $:  Date of last commit
</pre><p>&#20320;&#25552;&#20132;&#36825;&#20010;&#25991;&#20214;&#30340;&#20462;&#25913;&#65292;&#36825;&#19968;&#27425;Subversion&#27880;&#24847;&#21040;&#20102;&#26032;&#30340;&#22266;&#23450;&#38271;&#24230;&#30340;&#20851;&#38190;&#23383;&#35821;&#27861;&#65292;&#26681;&#25454;&#20320;&#22312;&#21452;&#20882;&#21495;&#20043;&#38388;&#25351;&#23450;&#30340;&#31354;&#26684;&#38271;&#24230;&#35843;&#25972;&#26684;&#24335;&#65292;&#24182;&#19988;&#32039;&#36319;&#19968;&#20010;&#32654;&#20803;&#31526;&#21495;&#12290;&#32463;&#36807;&#26367;&#25442;&#65292;&#23383;&#27573;&#30340;&#38271;&#24230;&#27809;&#26377;&#21457;&#29983;&#21464;&#21270;&#8212;<code class="literal">Rev</code>&#21644;<code class="literal">Author</code>&#22810;&#20102;&#19968;&#20123;&#31354;&#26684;&#65292;&#32780;&#36739;&#38271;&#30340;<code class="literal">Date</code>&#23383;&#27573;&#34987;&#19968;&#20010;&#20998;&#21495;&#25130;&#26029;&#65306;
            </p><pre class="screen">
$Rev::               $:  Revision of last commit
$Author::            $:  Author of last commit
$Date::              $:  Date of last commit
</pre><p>&#22266;&#23450;&#38271;&#24230;&#20851;&#38190;&#23383;&#22312;&#25191;&#34892;&#22797;&#26434;&#25991;&#20214;&#26684;&#24335;&#30340;&#26367;&#25442;&#20013;&#38750;&#24120;&#26131;&#29992;&#65292;&#20063;&#21487;&#20197;&#22788;&#29702;&#37027;&#20123;&#24456;&#38590;&#36890;&#36807;&#20854;&#20182;&#31243;&#24207;(&#20363;&#22914;Microsoft Office&#25991;&#26723;)&#36827;&#34892;&#20462;&#25913;&#30340;&#25991;&#20214;&#12290;</p>
            <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Warning">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#35686;&#21578;]" src="images/warning.png"></td>
                     <th align="left">&#35686;&#21578;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>&#38656;&#35201;&#24847;&#35782;&#21040;&#65292;&#22240;&#20026;&#20851;&#38190;&#23383;&#23383;&#27573;&#30340;&#38271;&#24230;&#26159;&#20197;&#23383;&#33410;&#20026;&#21333;&#20301;&#65292;&#21487;&#33021;&#20250;&#30772;&#22351;&#22810;&#23383;&#33410;&#20540;&#65292;&#20363;&#22914;&#19968;&#20010;&#29992;&#25143;&#21517;&#21253;&#21547;&#22810;&#23383;&#33410;&#30340;UTF-8&#23383;&#31526;&#65292;&#21487;&#33021;&#20250;&#36973;&#36935;&#20174;&#26576;&#20010;&#23383;&#31526;&#20013;&#38388;&#25130;&#26029;&#30340;&#24773;&#20917;&#65292;&#20174;&#23383;&#33410;&#35282;&#24230;&#30475;&#20165;&#20165;&#26159;&#19968;&#31181;&#25130;&#26029;&#65292;&#20294;&#26159;&#20174;UTF-8&#23383;&#31526;&#20018;&#35282;&#24230;&#30475;&#21487;&#33021;&#26159;&#38169;&#35823;&#21644;&#26354;&#35299;&#30340;&#65292;&#24403;&#36733;&#20837;&#25991;&#20214;&#26102;&#65292;&#30772;&#22351;&#30340;UTF-8&#25991;&#26412;&#21487;&#33021;&#23548;&#33268;&#25972;&#20010;&#25991;&#20214;&#30340;&#30772;&#22351;&#65292;&#25972;&#20010;&#25991;&#20214;&#26080;&#27861;&#25805;&#20316;&#12290;&#25152;&#20197;&#65292;&#24403;&#38480;&#21046;&#20851;&#38190;&#23383;&#20026;&#22266;&#23450;&#22823;&#23567;&#26102;&#65292;&#38656;&#35201;&#36873;&#25321;&#19968;&#20010;&#21487;&#20197;&#25193;&#23637;&#30340;&#22823;&#23567;&#12290;</p>
                     </td>
                  </tr>
               </table>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.sparsedirs"></a>3.6.&nbsp;&#31232;&#30095;&#30446;&#24405;
                     </h2>
                  </div>
               </div>
            </div>
            <p>By default, most Subversion operations on directories act in
                     a recursive manner.  For example, <span class="command"><strong>svn
                           checkout</strong></span> creates a working copy with every file and
                     directory in the specified area of the repository, descending
                     recursively through the repository tree until the entire
                     structure is copied to your local disk.  Subversion 1.5
                     introduces a feature called <em class="firstterm">sparse
                        directories</em> (or <em class="firstterm">shallow
                        checkouts</em>) that allows you to easily check out a
                     working copy&#8212;or a portion of a working copy&#8212;more
                     shallowly than full recursion, with the freedom to bring in
                     previously ignored files and subdirectories at a later
                     time.
            </p>
            <p>For example, say we have a repository with a tree of files
                     and directories with names of the members of a human family with
                     pets.  (It's an odd example, to be sure, but bear with us.)  A
                     regular <span class="command"><strong>svn checkout</strong></span> operation will give us a
                     working copy of the whole tree:
            </p><pre class="screen">
$ svn checkout file:///var/svn/repos mom
A    mom/son
A    mom/son/grandson
A    mom/daughter
A    mom/daughter/granddaughter1
A    mom/daughter/granddaughter1/bunny1.txt
A    mom/daughter/granddaughter1/bunny2.txt
A    mom/daughter/granddaughter2
A    mom/daughter/fishie.txt
A    mom/kitty1.txt
A    mom/doggie1.txt
Checked out revision 1.
$
</pre><p>Now, let's check out the same tree again, but this time
                     we'll ask Subversion to give us only the topmost directory
                     with none of its children at all:
            </p><pre class="screen">
$ svn checkout file:///var/svn/repos mom-empty --depth empty
Checked out revision 1
$
</pre><p>Notice that we added to our original <span class="command"><strong>svn
                           checkout</strong></span> command line a new <code class="option">--depth</code>
                     option.  This option is present on many of Subversion's
                     subcommands and is similar to the
                     <code class="option">--non-recursive</code> (<code class="option">-N</code>) and
                     <code class="option">--recursive</code> (<code class="option">-R</code>) options.  In
                     fact, it combines, improves upon, supercedes, and ultimately
                     obsoletes these two older options.  For starters, it expands the
                     supported degrees of depth specification available to users,
                     adding some previously unsupported (or inconsistently supported)
                     depths.  Here are the depth values that you can request for a
                     given Subversion operation:
            </p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><code class="literal">--depth empty</code></span></dt>
                  <dd>
                     <p>Include only the immediate target of the operation,
                                    not any of its file or directory children.
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">--depth files</code></span></dt>
                  <dd>
                     <p>Include the immediate target of the operation and any
                                    of its immediate file children.
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">--depth immediates</code></span></dt>
                  <dd>
                     <p>Include the immediate target of the operation and any
                                    of its immediate file or directory children.  The directory
                                    children will themselves be empty.
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">--depth infinity</code></span></dt>
                  <dd>
                     <p>Include the immediate target, its file and directory
                                    children, its children's children, and so on to full
                                    recursion.
                     </p>
                  </dd>
               </dl>
            </div>
            <p>Of course, merely combining two existing options into one
                     hardly constitutes a new feature worthy of a whole section in
                     our book.  Fortunately, there is more to this story.  This idea
                     of depth extends not just to the operations you perform with
                     your Subversion client, but also as a description of a working
                     copy citizen's <em class="firstterm">ambient depth</em>, which is
                     the depth persistently recorded by the working copy for that
                     item.  Its key strength is this very persistence&#8212;the fact
                     that it is <em class="firstterm">sticky</em>.  The working copy
                     remembers the depth you've selected for each item in it until
                     you later change that depth selection; by default, Subversion
                     commands operate on the working copy citizens present,
                     regardless of their selected depth settings.
            </p>
            <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Tip">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                     <th align="left">&#25552;&#31034;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>You can check the recorded ambient depth of a working copy
                                   using the <span class="command"><strong>svn info</strong></span> command.  If the ambient
                                   depth is anything other than infinite recursion, <span class="command"><strong>svn
                                         info</strong></span> will display a line describing that depth
                                   value:
                        </p><pre class="screen">
$ svn info mom-immediates | grep '^Depth:'
Depth: immediates
$
</pre></td>
                  </tr>
               </table>
            </div>
            <p>Our previous examples demonstrated checkouts of infinite
                     depth (the default for <span class="command"><strong>svn checkout</strong></span>) and
                     empty depth.  Let's look now at examples of the other depth
                     values:
            </p><pre class="screen">
$ svn checkout file:///var/svn/repos mom-files --depth files
A    mom-files/kitty1.txt
A    mom-files/doggie1.txt
Checked out revision 1.
$ svn checkout file:///var/svn/repos mom-immediates --depth immediates
A    mom-immediates/son
A    mom-immediates/daughter
A    mom-immediates/kitty1.txt
A    mom-immediates/doggie1.txt
Checked out revision 1.
$
</pre><p>As described, each of these depths is something more than
                     only the target, but something less than full recursion.
            </p>
            <p>We've used <span class="command"><strong>svn checkout</strong></span> as an example
                     here, but you'll find the <code class="option">--depth</code> option
                     present on many other Subversion commands, too.  In those other
                     commands, depth specification is a way to limit the scope of an
                     operation to some depth, much like the way the older
                     <code class="option">--non-recursive</code> (<code class="option">-N</code>) and
                     <code class="option">--recursive</code> (<code class="option">-R</code>) options
                     behave.  This means that when operating on a working copy of
                     some depth, while requesting an operation of a shallower depth,
                     the operation is limited to that shallower depth.  In fact, we
                     can make an even more general statement: given a working copy of
                     any arbitrary&#8212;even mixed&#8212;ambient depth, and a
                     Subversion command with some requested operational depth, the
                     command will maintain the ambient depth of the working copy
                     members while still limiting the scope of the operation to the
                     requested (or default) operational depth.
            </p>
            <p>In addition to the <code class="option">--depth</code> option, the
                     <span class="command"><strong>svn update</strong></span> and <span class="command"><strong>svn switch</strong></span>
                     subcommands also accept a second depth-related option:
                     <code class="option">--set-depth</code>.  It is with this option that you
                     can change the sticky depth of a working copy item.  Watch what
                     happens as we take our empty-depth checkout and gradually
                     telescope it deeper using <strong class="userinput"><code>svn update
                           --set-depth <em class="replaceable"><code>NEW-DEPTH</code></em> <em class="replaceable"><code>TARGET</code></em></code></strong>:
            </p><pre class="screen">
$ svn update --set-depth files mom-empty
A    mom-empty/kittie1.txt
A    mom-empty/doggie1.txt
Updated to revision 1.
$ svn update --set-depth immediates mom-empty
A    mom-empty/son
A    mom-empty/daughter
Updated to revision 1.
$ svn update --set-depth infinity mom-empty
A    mom-empty/son/grandson
A    mom-empty/daughter/granddaughter1
A    mom-empty/daughter/granddaughter1/bunny1.txt
A    mom-empty/daughter/granddaughter1/bunny2.txt
A    mom-empty/daughter/granddaughter2
A    mom-empty/daughter/fishie1.txt
Updated to revision 1.
$
</pre><p>&#38543;&#30528;&#25105;&#20204;&#36880;&#28176;&#30340;&#22686;&#21152;&#25105;&#20204;&#30340;depth&#36873;&#25321;&#65292;&#29256;&#26412;&#24211;&#32473;&#25105;&#20204;&#30446;&#24405;&#26641;&#30340;&#29255;&#27573;&#12290;</p>
            <p>&#22312;&#25105;&#20204;&#30340;&#20363;&#23376;&#37324;&#65292;&#25105;&#20204;&#21482;&#25805;&#20316;&#25105;&#20204;&#24037;&#20316;&#21103;&#26412;&#30340;&#26681;&#65292;&#20462;&#25913;&#20854;&#21608;&#22260;&#30340;depth&#20540;&#65292;&#20294;&#26159;&#25105;&#20204;&#21487;&#20197;&#29420;&#31435;&#30340;&#20462;&#25913;&#24037;&#20316;&#21103;&#26412;&#20219;&#20309;&#23376;&#30446;&#24405;&#30340;depth&#20540;&#12290;&#23567;&#24515;&#30340;&#20351;&#29992;&#36825;&#20010;&#33021;&#21147;&#20801;&#35768;&#25105;&#20204;&#20805;&#23454;&#24037;&#20316;&#21103;&#26412;&#26641;&#30340;&#19968;&#37096;&#20998;&#65292;&#32780;&#35753;&#20854;&#20182;&#37096;&#20998;&#19981;&#38656;&#21442;&#19982;(&#22240;&#27492;&#26159;&#29305;&#24615;&#21517;&#31216;&#30340;&#8220;<span class="quote">&#31232;&#30095;</span>&#8221;&#37096;&#20998;)&#12290;&#19979;&#38754;&#26159;&#25105;&#20204;&#21487;&#33021;&#22914;&#20309;&#26500;&#24314;&#20998;&#25903;&#30340;&#19968;&#37096;&#20998;&#30340;&#20363;&#23376;&#65292;&#20026;&#21478;&#19968;&#20010;&#20998;&#25903;&#24320;&#21551;&#23436;&#20840;&#30340;&#36882;&#24402;&#65292;&#20445;&#25345;&#20854;&#20182;&#37096;&#20998;&#26159;&#34987;&#20462;&#21098;&#30340;(&#19981;&#22312;&#30913;&#30424;&#37324;)&#12290;
            </p><pre class="screen">
$ rm -rf mom-empty
$ svn checkout file:///var/svn/repos mom-empty --depth empty
Checked out revision 1.
$ svn update --set-depth empty mom-empty/son
A    mom-empty/son
Updated to revision 1.
$ svn update --set-depth empty mom-empty/daughter
A    mom-empty/daughter
Updated to revision 1.
$ svn update --set-depth infinity mom-empty/daughter/granddaughter1
A    mom-empty/daughter/granddaughter1
A    mom-empty/daughter/granddaughter1/bunny1.txt
A    mom-empty/daughter/granddaughter1/bunny2.txt
Updated to revision 1.
$
</pre><p>Fortunately, having a complex collection of ambient depths
                     in a single working copy doesn't complicate the way you interact
                     with that working copy.  You can still make, revert, display,
                     and commit local modifications in your working copy without
                     providing any new options (including <code class="option">--depth</code> and
                     <code class="option">--set-depth</code>) to the relevant subcommands.  Even
                     <span class="command"><strong>svn update</strong></span> works as it does elsewhere when no
                     specific depth is provided&#8212;it updates the working copy
                     targets that are present while honoring their sticky
                     depths.
            </p>
            <p>You might at this point be wondering, &#8220;<span class="quote">So what?  When
                        would I use this?</span>&#8221;  One scenario where this feature
                     finds utility is tied to a particular repository layout,
                     specifically where you have many related or codependent
                     projects or software modules living as siblings in a single
                     repository location (<code class="filename">trunk/project1</code>,
                     <code class="filename">trunk/project2</code>,
                     <code class="filename">trunk/project3</code>, etc.).  In such
                     scenarios, it might be the case that you personally care 
                     about only a handful of those projects&#8212;maybe some primary
                     project and a few other modules on which it depends.  You can
                     check out individual working copies of all of these things, but
                     those working copies are disjoint and, as a result, it can be
                     cumbersome to perform operations across several or all of them
                     at the same time.  The alternative is to use the sparse
                     directories feature, building out a single working copy that
                     contains only the modules you care about.  You'd start with an
                     empty-depth checkout of the common parent directory of the
                     projects, and then update with infinite depth only the items you
                     wish to have, like we demonstrated in the previous example.
                     Think of it like an opt-in system for working copy
                     citizens.
            </p>
            <p>Subversion 1.5's implementation of shallow checkouts is
                     good but does not support a couple of interesting behaviors.
                     First, you cannot de-telescope a working copy item.  Running
                     <strong class="userinput"><code>svn update --set-depth empty</code></strong> in an
                     infinite-depth working copy will not have the effect of
                     discarding everything but the topmost directory&#8212;it will
                     simply error out.  Second, there is no depth value to indicate
                     that you wish an item to be explicitly excluded.  You have to do
                     implicit exclusion of an item by including everything
                     else.
            </p>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.locking"></a>3.7.&nbsp;&#38145;&#23450;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Subversion's copy-modify-merge version control model lives
                     and dies on its data merging algorithms&#8212;specifically on
                     how well those algorithms perform when trying to resolve
                     conflicts caused by multiple users modifying the same file
                     concurrently.  Subversion itself provides only one such
                     algorithm:  a three-way differencing algorithm that is smart
                     enough to handle data at a granularity of a single line of text.
                     Subversion also allows you to supplement its content merge
                     processing with external differencing utilities (as described in
                     <a class="xref" href="svn.customization.html#svn.advanced.externaldifftools.diff3" title="7.4.2.&nbsp;&#22806;&#32622; diff3">&#31532;&nbsp;7.4.2&nbsp;&#33410; &#8220;&#22806;&#32622; diff3&#8221;</a>), some
                     of which may do an even better job, perhaps providing
                     granularity of a word or a single character of text.  But common
                     among those algorithms is that they generally work only on text
                     files.  The landscape starts to look pretty grim when you start
                     talking about content merges of nontextual file formats.  And
                     when you can't find a tool that can handle that type of merging,
                     you begin to run into problems with the copy-modify-merge
                     model.
            </p>
            <p>Let's look at a real-life example of where this model runs
                     aground.  Harry and Sally are both graphic designers working on
                     the same project, a bit of marketing collateral for an
                     automobile mechanic.  Central to the design of a particular
                     poster is an image of a car in need of some bodywork, stored in
                     a file using the PNG image format.  The poster's layout is
                     almost finished, and both Harry and Sally are pleased with the
                     particular photo they chose for their damaged car&#8212;a baby
                     blue 1967 Ford Mustang with an unfortunate bit of crumpling on
                     the left front fender.
            </p>
            <p>Now, as is common in graphic design work, there's a change
                     in plans, which causes the car's color to be a concern.  So Sally
                     updates her working copy to <code class="literal">HEAD</code>, fires up
                     her photo-editing software, and sets about tweaking the image so
                     that the car is now cherry red.  Meanwhile, Harry, feeling
                     particularly inspired that day, decides that the image would
                     have greater impact if the car also appears to have suffered
                     greater impact.  He, too, updates to <code class="literal">HEAD</code>,
                     and then draws some cracks on the vehicle's windshield.  He
                     manages to finish his work before Sally finishes hers, and after
                     admiring the fruits of his undeniable talent, he commits the
                     modified image.  Shortly thereafter, Sally is finished with the
                     car's new finish and tries to commit her changes.  But, as
                     expected, Subversion fails the commit, informing Sally that
                     her version of the image is now out of date.
            </p>
            <p>&#36825;&#37324;&#23601;&#26159;&#40635;&#28902;&#30340;&#22320;&#26041;&#65292;&#22914;&#26524;Harry&#21644;Sally&#20462;&#25913;&#30340;&#26159;&#25991;&#26412;&#25991;&#20214;&#65292;&#22905;&#21482;&#38656;&#35201;&#31616;&#21333;&#24471;&#26356;&#26032;&#24037;&#20316;&#25335;&#36125;&#65292;&#25509;&#25910;Harry&#30340;&#20462;&#25913;&#12290;&#22312;&#26368;&#22351;&#30340;&#24773;&#20917;&#19979;&#65292;&#20182;&#20204;&#20250;&#20462;&#25913;&#25991;&#20214;&#30340;&#21516;&#19968;&#37096;&#20998;&#65292;Sally&#38656;&#35201;&#20154;&#24037;&#35299;&#20915;&#20914;&#31361;&#12290;&#20294;&#26159;&#29616;&#22312;&#19981;&#26159;&#25991;&#26412;&#25991;&#20214;&#8212;&#32780;&#26159;&#20108;&#36827;&#21046;&#22270;&#20687;&#65292;&#27809;&#27861;&#20272;&#35745;&#21512;&#24182;&#30340;&#32467;&#26524;&#20250;&#26159;&#20160;&#20040;&#26679;&#23376;&#30340;&#65292;&#24050;&#23384;&#30340;&#36719;&#20214;&#19981;&#21487;&#33021;&#20174;&#22522;&#32447;&#22270;&#20687;&#20998;&#31163;&#20986;Harry&#21644;Sally&#30340;&#24037;&#20316;&#65292;&#24182;&#32452;&#21512;&#20986;&#19968;&#20010;&#25377;&#39118;&#29627;&#29827;&#22351;&#25481;&#30340;&#32418;&#33394;Mustang&#12290;</p>
            <p>&#24456;&#26174;&#28982;&#65292;&#22914;&#26524;&#33021;&#22815;&#23558;Harry&#21644;Sally&#30340;&#24037;&#20316;&#20018;&#34892;&#35805;&#20107;&#24773;&#20250;&#21464;&#24471;&#24179;&#28369;&#65292;&#20063;&#23601;&#26159;&#35828;Harry&#21487;&#20197;&#31561;&#21040;Sally&#30340;&#32418;&#36710;&#28982;&#21518;&#20877;&#30011;&#19978;&#30772;&#22351;&#30340;&#25377;&#39118;&#29627;&#29827;&#65292;&#25110;&#32773;Sally&#22312;&#30772;&#22351;&#20043;&#21518;&#25913;&#21464;&#39068;&#33394;&#12290;&#23601;&#20687;&#22312;<a class="xref" href="svn.basic.html#svn.basic.vsn-models.copy-merge" title="1.2.3.&nbsp;&#8220;&#25335;&#36125;-&#20462;&#25913;-&#21512;&#24182;&#8221;&#26041;&#26696;">&#31532;&nbsp;1.2.3&nbsp;&#33410; &#8220;&#8220;&#25335;&#36125;-&#20462;&#25913;-&#21512;&#24182;&#8221;&#26041;&#26696;&#8221;</a>&#35752;&#35770;&#30340;&#65292;&#22914;&#26524;Harry&#21644;Sally&#20043;&#38388;&#26377;&#23436;&#32654;&#30340;&#20132;&#27969;&#65292;&#23601;&#19981;&#20250;&#26377;&#36825;&#31181;&#38382;&#39064;&#21457;&#29983;&#12290;<sup>[<a name="d0e5129" href="#ftn.d0e5129" class="footnote">14</a>]</sup>&#20294;&#26159;&#20316;&#20026;&#19968;&#31181;&#29256;&#26412;&#25511;&#21046;&#31995;&#32479;&#65292;&#23454;&#38469;&#19978;&#26159;&#19968;&#31181;&#20132;&#27969;&#30340;&#24418;&#24335;&#65292;&#20351;&#24471;&#36719;&#20214;&#36981;&#24490;&#38750;&#24182;&#34892;&#32534;&#36753;&#30340;&#20018;&#34892;&#21270;&#20063;&#19981;&#26159;&#19968;&#20214;&#22351;&#20107;&#65292;&#36825;&#37324;Subversion&#23454;&#29616;&#20102;&#38145;&#23450;-&#20462;&#25913;-&#35299;&#38145;&#27169;&#22411;&#65292;&#36825;&#37324;&#25105;&#20204;&#35201;&#35752;&#35770;Subversion&#30340;<em class="firstterm">&#38145;&#23450;</em>&#29305;&#24615;&#65292;&#19982;&#20854;&#20182;&#29256;&#26412;&#25511;&#21046;&#31995;&#32479;&#30340;&#8220;<span class="quote">&#20445;&#30041;&#26816;&#20986;</span>&#8221;&#26426;&#21046;&#31867;&#20284;&#12290;
            </p>
            <p>Subversion's locking feature exists ultimately to minimize
                     wasted time and effort.  By allowing a user to programmatically
                     claim the exclusive right to change a file in the repository,
                     that user can be reasonably confident that any energy he invests
                     on unmergeable changes won't be wasted&#8212;his commit of those
                     changes will succeed.  Also, because Subversion communicates to
                     other users that serialization is in effect for a particular
                     versioned object, those users can reasonably expect that the
                     object is about to be changed by someone else.  They, too, can
                     then avoid wasting their time and energy on unmergeable changes
                     that won't be committable due to eventual
                     out-of-dateness.
            </p>
            <p>&#24403;&#25105;&#20204;&#24341;&#29992;Subversion&#38145;&#23450;&#29305;&#24615;&#26102;&#65292;&#36825;&#26159;&#22312;&#35752;&#35770;&#19968;&#20010;&#22788;&#29702;&#29256;&#26412;&#21270;&#25991;&#20214;&#30340;&#34892;&#20026;&#29305;&#24615;<sup>[<a name="d0e5143" href="#ftn.d0e5143" class="footnote">15</a>]</sup>(&#22768;&#26126;&#23545;&#19968;&#20010;&#25991;&#20214;&#25490;&#20182;&#24615;&#20462;&#25913;&#29305;&#26435;)&#65292;&#21253;&#25324;&#23545;&#25991;&#20214;&#30340;&#38145;&#23450;&#21644;&#35299;&#38145;(&#37322;&#25918;&#25490;&#20182;&#24615;&#20462;&#25913;&#26435;&#38480;)&#65292;&#23519;&#30475;&#21253;&#25324;&#25991;&#20214;&#34987;&#35841;&#38145;&#23450;&#30340;&#25253;&#21578;&#65292;&#20197;&#21450;&#25552;&#37266;&#20225;&#22270;&#20462;&#25913;&#38145;&#23450;&#25991;&#20214;&#30340;&#29992;&#25143;&#12290;&#22312;&#26412;&#23567;&#33410;&#65292;&#25105;&#20204;&#20250;&#35206;&#30422;&#38145;&#23450;&#29305;&#24615;&#30340;&#22823;&#37096;&#20998;&#20869;&#23481;&#12290;
            </p>
            <div class="sidebar"><a name="svn.advanced.locking.meanings"></a><p class="title"><b>&#8220;<span class="quote">&#38145;&#23450;</span>&#8221;&#30340;&#19977;&#31181;&#21547;&#20041;</b></p>
               <p>&#22312;&#26412;&#23567;&#33410;&#65292;&#21644;&#20960;&#20046;&#26412;&#20070;&#30340;&#27599;&#19968;&#20010;&#22320;&#26041;&#8220;<span class="quote">lock</span>&#8221;&#21644;&#8220;<span class="quote">locking</span>&#8221;&#25551;&#36848;&#20102;&#19968;&#31181;&#36991;&#20813;&#29992;&#25143;&#20043;&#38388;&#20914;&#31361;&#25552;&#20132;&#30340;&#25490;&#20182;&#26426;&#21046;&#65292;&#20294;&#26159;&#20343;&#19981;&#24184;&#65292;Subversion&#20013;&#36824;&#26377;&#21478;&#22806;&#20004;&#31181;&#38145;&#65292;&#22240;&#27492;&#38656;&#35201;&#22312;&#26412;&#20070;&#26684;&#22806;&#20851;&#24515;&#12290;
               </p>
               <p>The second is <em class="firstterm">working copy locks</em>,
                          used internally by Subversion to prevent clashes between
                          multiple Subversion clients operating on the same working
                          copy.  This is the sort of lock indicated by an
                          <code class="computeroutput">L</code> in the third column of
                          <span class="command"><strong>svn status</strong></span> output, and removed by the
                          <span class="command"><strong>svn cleanup</strong></span> command, as described in <a class="xref" href="svn.tour.html#svn.tour.cleanup" title="2.6.&nbsp;&#26377;&#26102;&#20320;&#21482;&#38656;&#35201;&#28165;&#29702;">&#31532;&nbsp;2.6&nbsp;&#33410; &#8220;&#26377;&#26102;&#20320;&#21482;&#38656;&#35201;&#28165;&#29702;&#8221;</a>.
               </p>
               <p>Third, there are <em class="firstterm">database locks</em>,
                          used internally by the Berkeley DB backend to prevent clashes
                          between multiple programs trying to access the database.  This
                          is the sort of lock whose unwanted persistence after an error
                          can cause a repository to be &#8220;<span class="quote">wedged,</span>&#8221; as
                          described in <a class="xref" href="svn.reposadmin.html#svn.reposadmin.maint.recovery" title="5.4.4.&nbsp;Berkeley DB &#24674;&#22797;">&#31532;&nbsp;5.4.4&nbsp;&#33410; &#8220;Berkeley DB &#24674;&#22797;&#8221;</a>.
               </p>
               <p>&#22312;&#21457;&#29983;&#38382;&#39064;&#20043;&#21069;&#20320;&#23436;&#20840;&#21487;&#20197;&#24536;&#35760;&#19978;&#38754;&#20004;&#31181;&#38145;&#65292;&#22312;&#26412;&#20070;&#65292;&#8220;<span class="quote">&#38145;&#23450;</span>&#8221;&#24847;&#21619;&#30528;&#31532;&#19968;&#31181;&#38145;&#65292;&#38500;&#38750;&#26159;&#22312;&#20174;&#19978;&#19979;&#25991;&#20013;&#21313;&#20998;&#26126;&#30830;&#25110;&#26126;&#30830;&#25351;&#20986;&#30340;&#12290;
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.locking.creation"></a>3.7.1.&nbsp;&#21019;&#24314;&#38145;&#23450;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>In the Subversion repository, a
                          <em class="firstterm">lock</em> is a piece of metadata that
                          grants exclusive access to one user to change a file.  This
                          user is said to be the <em class="firstterm">lock owner</em>.
                          Each lock also has a unique identifier, typically a long
                          string of characters, known as the <em class="firstterm">lock
                             token</em>.  The repository manages locks, ultimately
                          handling their creation, enforcement, and removal.  If any
                          commit transaction attempts to modify or delete a locked file
                          (or delete one of the parent directories of the file), the
                          repository will demand two pieces of information&#8212;that
                          the client performing the commit be authenticated as the lock
                          owner, and that the lock token has been provided as part of
                          the commit process as a form of proof that the client knows which
                          lock it is using.
               </p>
               <p>&#20026;&#20102;&#25551;&#36848;&#38145;&#30340;&#20135;&#29983;&#65292;&#25105;&#20204;&#22238;&#21040;&#21069;&#38754;&#37027;&#20010;&#20851;&#20110;&#22810;&#20010;&#22270;&#24418;&#35774;&#35745;&#24072;&#20849;&#21516;&#24037;&#20316;&#30340;&#20363;&#23376;&#65292;Harry&#20915;&#23450;&#20462;&#25913;&#19968;&#20010;JPEG&#22270;&#20687;&#65292;&#20026;&#20102;&#38450;&#27490;&#20854;&#20182;&#29992;&#25143;&#27492;&#26102;&#25552;&#20132;&#36825;&#20010;&#25991;&#20214;&#30340;&#20462;&#25913;(&#20063;&#26159;&#35686;&#21578;&#21035;&#20154;&#20182;&#27491;&#22312;&#20462;&#25913;&#23427;)&#65292;&#20182;&#20351;&#29992;<span class="command"><strong>svn lock</strong></span>&#21629;&#20196;&#38145;&#23450;&#20102;&#29256;&#26412;&#24211;&#20013;&#30340;&#36825;&#20010;&#25991;&#20214;&#65306;
               </p><pre class="screen">
$ svn lock banana.jpg -m "Editing file for tomorrow's release."
'banana.jpg' locked by user 'harry'.
$
</pre><p>The preceding example demonstrates a number of new things.
                          First, notice that Harry passed the
                          <code class="option">--message</code> (<code class="option">-m</code>) option to
                          <span class="command"><strong>svn lock</strong></span>.  Similar to <span class="command"><strong>svn
                                commit</strong></span>, the <span class="command"><strong>svn lock</strong></span> command can
                          take comments&#8212;via either <code class="option">--message</code>
                          (<code class="option">-m</code>) or <code class="option">--file</code>
                          (<code class="option">-F</code>)&#8212;to describe the reason for locking the
                          file.  Unlike <span class="command"><strong>svn commit</strong></span>, however,
                          <span class="command"><strong>svn lock</strong></span> will not demand a message by
                          launching your preferred text editor.  Lock comments are
                          optional, but still recommended to aid communication.
               </p>
               <p>Second, the lock attempt succeeded.  This means that the
                          file wasn't already locked, and that Harry had the latest
                          version of the file.  If Harry's working copy of the file had
                          been out of date, the repository would have rejected the
                          request, forcing Harry to <span class="command"><strong>svn update</strong></span> and
                          reattempt the locking command.  The locking command would also
                          have failed if the file had already been locked by someone
                          else.
               </p>
               <p>&#23601;&#20687;&#20320;&#30475;&#21040;&#30340;&#65292;<span class="command"><strong>svn lock</strong></span>&#25171;&#21360;&#20102;&#38145;&#23450;&#25104;&#21151;&#30340;&#30830;&#35748;&#20449;&#24687;&#12290;&#27492;&#26102;&#65292;&#36890;&#36807;<span class="command"><strong>svn status</strong></span>&#21644;<span class="command"><strong>svn info</strong></span>&#30340;&#36755;&#20986;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#25991;&#20214;&#24050;&#32463;&#38145;&#23450;&#12290;
               </p><pre class="screen">
$ svn status
     K banana.jpg

$ svn info banana.jpg
Path: banana.jpg
Name: banana.jpg
URL: http://svn.example.com/repos/project/banana.jpg
Repository UUID: edb2f264-5ef2-0310-a47a-87b0ce17a8ec
Revision: 2198
Node Kind: file
Schedule: normal
Last Changed Author: frank
Last Changed Rev: 1950
Last Changed Date: 2006-03-15 12:43:04 -0600 (Wed, 15 Mar 2006)
Text Last Updated: 2006-06-08 19:23:07 -0500 (Thu, 08 Jun 2006)
Properties Last Updated: 2006-06-08 19:23:07 -0500 (Thu, 08 Jun 2006)
Checksum: 3b110d3b10638f5d1f4fe0f436a5a2a5
Lock Token: opaquelocktoken:0c0f600b-88f9-0310-9e48-355b44d4a58e
Lock Owner: harry
Lock Created: 2006-06-14 17:20:31 -0500 (Wed, 14 Jun 2006)
Lock Comment (1 line):
Editing file for tomorrow's release.

$
</pre><p><span class="command"><strong>svn info</strong></span>&#21629;&#20196;&#19981;&#20250;&#32852;&#31995;&#29256;&#26412;&#24211;&#65292;&#24403;&#23545;&#24037;&#20316;&#21103;&#26412;&#36335;&#24452;&#24212;&#29992;<span class="command"><strong>svn info</strong></span>&#21629;&#20196;&#26102;&#65292;&#21487;&#20197;&#25581;&#31034;&#20196;&#29260;&#30340;&#19968;&#20010;&#37325;&#35201;&#20107;&#23454;&#8212;&#23427;&#20204;&#32531;&#23384;&#22312;&#24037;&#20316;&#25335;&#36125;&#12290;&#26377;&#38145;&#23450;&#20196;&#29260;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#65292;&#36825;&#32473;&#20102;&#24037;&#20316;&#21103;&#26412;&#26435;&#21033;&#21033;&#29992;&#36825;&#20010;&#38145;&#30340;&#33021;&#21147;&#12290;<span class="command"><strong>svn status</strong></span>&#20250;&#22312;&#25991;&#20214;&#21518;&#38754;&#26174;&#31034;&#19968;&#20010;<code class="literal">K</code>(locKed&#30340;&#32553;&#20889;)&#65292;&#34920;&#26126;&#20102;&#25317;&#26377;&#38145;&#23450;&#20196;&#29260;&#12290;
               </p>
               <div class="sidebar">
                  <p class="title"><b>&#20851;&#20110;&#38145;&#23450;&#20196;&#29260;</b></p>
                  <p>A lock token isn't an authentication token, so much as
                               an <span class="emphasis"><em>authorization</em></span> token.  The token
                               isn't a protected secret.  In fact, a lock's unique token is
                               discoverable by anyone who runs <strong class="userinput"><code>svn info
                                     <em class="replaceable"><code>URL</code></em></code></strong>.  A lock token is special only when it lives
                               inside a working copy.  It's proof that the lock was created
                               in that particular working copy, and not somewhere else by
                               some other client.  Merely authenticating as the lock owner
                               isn't enough to prevent accidents.
                  </p>
                  <p>For example, suppose you lock a file using a computer at
                               your office, but leave work for the day before you finish
                               your changes to that file.  It should not be possible to
                               accidentally commit changes to that same file from your home
                               computer later that evening simply because you've
                               authenticated as the lock's owner.  In other words, the lock
                               token prevents one piece of Subversion-related software from
                               undermining the work of another.  (In our example, if you
                               really need to change the file from an alternative working
                               copy, you would need to <em class="firstterm">break</em> the lock and relock the
                               file.)
                  </p>
               </div>
               <p>&#29616;&#22312;Harry&#24050;&#32463;&#38145;&#23450;&#20102;<code class="filename">banana.jpg</code>&#65292;Sally&#19981;&#33021;&#20462;&#25913;&#25110;&#21024;&#38500;&#36825;&#20010;&#25991;&#20214;&#65306;
               </p><pre class="screen">
$ svn delete banana.jpg
D         banana.jpg
$ svn commit -m "Delete useless file."
Deleting       banana.jpg
svn: Commit failed (details follow):
svn: Server sent unexpected return value (423 Locked) in response to DELETE\
 request for '/repos/project/!svn/wrk/64bad3a9-96f9-0310-818a-df4224ddc35d/\
banana.jpg'
$
</pre><p>&#20294;&#26159;&#65292;&#24403;&#23436;&#25104;&#20102;&#39321;&#34121;&#30340;&#40644;&#33394;&#28176;&#21464;&#65292;&#23601;&#21487;&#20197;&#25552;&#20132;&#25991;&#20214;&#30340;&#20462;&#25913;&#65292;&#22240;&#20026;&#35748;&#35777;&#20026;&#38145;&#23450;&#30340;&#25317;&#26377;&#32773;&#65292;&#20063;&#22240;&#20026;&#20182;&#30340;&#24037;&#20316;&#21103;&#26412;&#26377;&#27491;&#30830;&#30340;&#38145;&#23450;&#20196;&#29260;&#65306;</p><pre class="screen">
$ svn status
M    K banana.jpg
$ svn commit -m "Make banana more yellow"
Sending        banana.jpg
Transmitting file data .
Committed revision 2201.
$ svn status
$
</pre><p>Notice that after the commit is finished, <span class="command"><strong>svn
                                status</strong></span> shows that the lock token is no longer
                          present in the working copy.  This is the standard behavior of
                          <span class="command"><strong>svn commit</strong></span>&#8212;it searches the working
                          copy (or list of targets, if you provide such a list) for
                          local modifications and sends all the lock tokens it
                          encounters during this walk to the server as part of the
                          commit transaction.  After the commit completes successfully,
                          all of the repository locks that were mentioned are
                          released&#8212;<span class="emphasis"><em>even on files that weren't
                                committed</em></span>.  This is meant to discourage users from
                          being sloppy about locking or from holding locks for too long.
                          If Harry haphazardly locks 30 files in a directory named
                          <code class="filename">images</code> because he's unsure of which files
                          he needs to change, yet changes only four of those files, when he
                          runs <strong class="userinput"><code>svn commit images</code></strong>, the process will
                          still release all 30 locks.
               </p>
               <p>&#33258;&#21160;&#37322;&#25918;&#38145;&#23450;&#30340;&#29305;&#24615;&#21487;&#20197;&#36890;&#36807;<span class="command"><strong>svn commit</strong></span>&#30340;<code class="option">--no-unlock</code>&#36873;&#39033;&#20851;&#38381;&#65292;&#24403;&#20320;&#35201;&#25552;&#20132;&#25991;&#20214;&#65292;&#21516;&#26102;&#26399;&#26395;&#32487;&#32493;&#20462;&#25913;&#32780;&#24517;&#39035;&#20445;&#30041;&#38145;&#23450;&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;&#36825;&#20010;&#29305;&#24615;&#20063;&#21487;&#20197;&#21322;&#27704;&#20037;&#24615;&#30340;&#35774;&#23450;&#65292;&#26041;&#27861;&#26159;&#35774;&#32622;&#36816;&#34892;&#20013;<code class="filename">config</code>&#25991;&#20214;(&#35265;<a class="xref" href="svn.customization.html#svn.advanced.confarea" title="7.1.&nbsp;&#36816;&#34892;&#37197;&#32622;&#21306;">&#31532;&nbsp;7.1&nbsp;&#33410; &#8220;&#36816;&#34892;&#37197;&#32622;&#21306;&#8221;</a>)&#30340;<code class="literal">no-unlock = yes</code>&#12290;
               </p>
               <p>&#24403;&#28982;&#65292;&#38145;&#23450;&#19968;&#20010;&#25991;&#20214;&#19981;&#20250;&#24378;&#21046;&#19968;&#20010;&#20154;&#35201;&#25552;&#20132;&#20462;&#25913;&#65292;&#20219;&#20309;&#26102;&#20505;&#37117;&#21487;&#20197;&#36890;&#36807;&#36816;&#34892;<span class="command"><strong>svn unlock</strong></span>&#21629;&#20196;&#37322;&#25918;&#38145;&#23450;&#65306;
               </p><pre class="screen">
$ svn unlock banana.c
'banana.c' unlocked.
</pre></div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.locking.discovery"></a>3.7.2.&nbsp;&#21457;&#29616;&#38145;&#23450;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>When a commit fails due to someone else's locks, it's
                          fairly easy to learn about them.  The easiest way is to run
                          <strong class="userinput"><code>svn status --show-updates</code></strong>:
               </p><pre class="screen">
$ svn status -u
M              23   bar.c
M    O         32   raisin.jpg
       *       72   foo.h
Status against revision:     105
$
</pre><p>In this example, Sally can see not only that her copy of
                          <code class="filename">foo.h</code> is out of date, but also that one of the
                          two modified files she plans to commit is locked in the
                          repository.  The <code class="literal">O</code> symbol stands for
                          &#8220;<span class="quote">Other,</span>&#8221; meaning that a lock exists on the file
                          and was created by somebody else.  If she were to attempt a
                          commit, the lock on <code class="filename">raisin.jpg</code> would
                          prevent it.  Sally is left wondering who made the lock, when,
                          and why.  Once again, <span class="command"><strong>svn info</strong></span> has the
                          answers:
               </p><pre class="screen">
$ svn info http://svn.example.com/repos/project/raisin.jpg
Path: raisin.jpg
Name: raisin.jpg
URL: http://svn.example.com/repos/project/raisin.jpg
Repository UUID: edb2f264-5ef2-0310-a47a-87b0ce17a8ec
Revision: 105
Node Kind: file
Last Changed Author: sally
Last Changed Rev: 32
Last Changed Date: 2006-01-25 12:43:04 -0600 (Sun, 25 Jan 2006)
Lock Token: opaquelocktoken:fc2b4dee-98f9-0310-abf3-653ff3226e6b
Lock Owner: harry
Lock Created: 2006-02-16 13:29:18 -0500 (Thu, 16 Feb 2006)
Lock Comment (1 line):
Need to make a quick tweak to this image.
$
</pre><p>Just as you can use <span class="command"><strong>svn info</strong></span> to examine
                          objects in the working copy, you can also use it to examine
                          objects in the repository.  If the main argument to
                          <span class="command"><strong>svn info</strong></span> is a working copy path, then all
                          of the working copy's cached information is displayed; any
                          mention of a lock means that the working copy is holding a
                          lock token (if a file is locked by another user or in another
                          working copy, <span class="command"><strong>svn info</strong></span> on a working copy
                          path will show no lock information at all).  If the main
                          argument to <span class="command"><strong>svn info</strong></span> is a URL, the
                          information reflects the latest version of an object in the
                          repository, and any mention of a lock describes the current
                          lock on the object.
               </p>
               <p>So in this particular example, Sally can see that Harry
                          locked the file on February 16 to &#8220;<span class="quote">make a quick
                             tweak.</span>&#8221;  It being June, she suspects that he probably
                          forgot all about the lock.  She might phone Harry to complain
                          and ask him to release the lock.  If he's unavailable, she
                          might try to forcibly break the lock herself or ask an
                          administrator to do so.
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.locking.break-steal"></a>3.7.3.&nbsp;&#35299;&#38500;&#21644;&#20599;&#31363;&#38145;&#23450;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>&#29256;&#26412;&#24211;&#38145;&#23450;&#24182;&#19981;&#26159;&#31070;&#22307;&#19981;&#21487;&#20405;&#29359;&#30340;&#8212;&#22312;Subversion&#30340;&#32570;&#30465;&#37197;&#32622;&#29366;&#24577;&#65292;&#19981;&#21482;&#26159;&#21019;&#24314;&#32773;&#21487;&#20197;&#37322;&#25918;&#38145;&#23450;&#65292;&#20219;&#20309;&#20154;&#37117;&#21487;&#20197;&#12290;&#24403;&#26377;&#20854;&#20182;&#20154;&#26399;&#26395;&#28040;&#28781;&#38145;&#23450;&#26102;&#65292;&#25105;&#20204;&#31216;&#20043;&#20026;<em class="firstterm">&#25171;&#30772;</em>&#38145;&#23450;&#12290;
               </p>
               <p>&#20174;&#31649;&#29702;&#21592;&#30340;&#20301;&#23376;&#19978;&#24456;&#23481;&#26131;&#25171;&#30772;&#38145;&#23450;&#65292;<span class="command"><strong>svnlook</strong></span>&#21644;<span class="command"><strong>svnadmin</strong></span>&#31243;&#24207;&#37117;&#26377;&#33021;&#21147;&#20174;&#29256;&#26412;&#24211;&#30452;&#25509;&#26174;&#31034;&#21644;&#21024;&#38500;&#38145;&#23450;&#12290;(&#20851;&#20110;&#36825;&#20123;&#24037;&#20855;&#30340;&#20449;&#24687;&#21487;&#20197;&#30475;<a class="xref" href="svn.reposadmin.html#svn.reposadmin.maint.tk" title="5.4.1.&nbsp;&#31649;&#29702;&#21592;&#30340;&#24037;&#20855;&#31665;">&#31532;&nbsp;5.4.1&nbsp;&#33410; &#8220;&#31649;&#29702;&#21592;&#30340;&#24037;&#20855;&#31665;&#8221;</a>&#12290;)
               </p><pre class="screen">
$ svnadmin lslocks /var/svn/repos
Path: /project2/images/banana.jpg
UUID Token: opaquelocktoken:c32b4d88-e8fb-2310-abb3-153ff1236923
Owner: frank
Created: 2006-06-15 13:29:18 -0500 (Thu, 15 Jun 2006)
Expires: 
Comment (1 line):
Still improving the yellow color.

Path: /project/raisin.jpg
UUID Token: opaquelocktoken:fc2b4dee-98f9-0310-abf3-653ff3226e6b
Owner: harry
Created: 2006-02-16 13:29:18 -0500 (Thu, 16 Feb 2006)
Expires: 
Comment (1 line):
Need to make a quick tweak to this image.

$ svnadmin rmlocks /var/svn/repos /project/raisin.jpg
Removed lock on '/project/raisin.jpg'.
$
</pre><p>The more interesting option is to allow users to break
                          each other's locks over the network.  To do this, Sally simply
                          needs to pass the <code class="option">--force</code> to the <span class="command"><strong>svn
                                unlock</strong></span> command:
               </p><pre class="screen">
$ svn status -u
M              23   bar.c
M    O         32   raisin.jpg
       *       72   foo.h
Status against revision:     105
$ svn unlock raisin.jpg
svn: 'raisin.jpg' is not locked in this working copy
$ svn info raisin.jpg | grep URL
URL: http://svn.example.com/repos/project/raisin.jpg
$ svn unlock http://svn.example.com/repos/project/raisin.jpg
svn: Unlock request failed: 403 Forbidden (http://svn.example.com)
$ svn unlock --force http://svn.example.com/repos/project/raisin.jpg
'raisin.jpg' unlocked.
$
</pre><p>Sally&#21021;&#22987;&#30340;unlock&#21629;&#20196;&#22833;&#36133;&#20102;&#65292;&#22240;&#20026;&#22905;&#30452;&#25509;&#22312;&#33258;&#24049;&#30340;&#24037;&#20316;&#21103;&#26412;&#19978;&#36816;&#34892;&#20102;<span class="command"><strong>svn unlock</strong></span>&#65292;&#32780;&#36825;&#37324;&#27809;&#26377;&#38145;&#23450;&#20196;&#29260;&#12290;&#20026;&#20102;&#30452;&#25509;&#20174;&#29256;&#26412;&#24211;&#21024;&#38500;&#38145;&#23450;&#65292;&#22905;&#38656;&#35201;&#32473;<span class="command"><strong>svn unlock</strong></span>&#20256;&#36882;URL&#21442;&#25968;&#65292;&#22905;&#30340;&#36825;&#19968;&#27425;&#23581;&#35797;&#21448;&#22833;&#36133;&#20102;&#65292;&#22240;&#20026;&#22905;&#19981;&#26159;&#38145;&#23450;&#30340;&#25317;&#26377;&#32773;(&#20063;&#27809;&#26377;&#38145;&#23450;&#20196;&#29260;)&#12290;&#24403;&#22905;&#20351;&#29992;&#20102;<code class="option">--force</code>&#36873;&#39033;&#21518;&#65292;&#35748;&#35777;&#21644;&#25480;&#26435;&#30340;&#35201;&#27714;&#34987;&#24573;&#30053;&#20102;&#65292;&#36828;&#31243;&#30340;&#38145;&#23450;&#34987;&#25171;&#30772;&#20102;&#12290;
               </p>
               <p>Simply breaking a lock may not be enough.  In
                          the running example, Sally may not only want to break Harry's
                          long-forgotten lock, but relock the file for her own use.
                          She can accomplish this by using <span class="command"><strong>svn unlock</strong></span>
                          with <code class="option">--force</code> and then <span class="command"><strong>svn lock</strong></span>
                          back-to-back, but there's a small chance that somebody else
                          might lock the file between the two commands.  The simpler thing
                          to do is to <em class="firstterm">steal</em> the lock, which involves
                          breaking and relocking the file all in one atomic step.  To
                          do this, Sally passes the <code class="option">--force</code> option
                          to <span class="command"><strong>svn lock</strong></span>:
               </p><pre class="screen">
$ svn lock raisin.jpg
svn: Lock request failed: 423 Locked (http://svn.example.com)
$ svn lock --force raisin.jpg
'raisin.jpg' locked by user 'sally'.
$
</pre><p>In any case, whether the lock is broken or stolen, Harry
                          may be in for a surprise.  Harry's working copy still contains
                          the original lock token, but that lock no longer exists.  The
                          lock token is said to be <em class="firstterm">defunct</em>.  The
                          lock represented by the lock token has either been broken (no
                          longer in the repository) or stolen (replaced with a
                          different lock).  Either way, Harry can see this by asking
                          <span class="command"><strong>svn status</strong></span> to contact the
                          repository:
               </p><pre class="screen">
$ svn status
     K raisin.jpg
$ svn status -u
     B         32   raisin.jpg
$ svn update
  B  raisin.jpg
$ svn status
$
</pre><p>If the repository lock was broken, then <strong class="userinput"><code>svn
                                status --show-updates</code></strong> displays a
                          <code class="literal">B</code> (Broken) symbol next to the file.  If a
                          new lock exists in place of the old one, then a
                          <code class="literal">T</code> (sTolen) symbol is shown.  Finally,
                          <span class="command"><strong>svn update</strong></span> notices any defunct lock tokens
                          and removes them from the working copy.
               </p>
               <div class="sidebar">
                  <p class="title"><b>&#38145;&#23450;&#31574;&#30053;</b></p>
                  <p>Different systems have different notions of how strict a
                               lock should be.  Some folks argue that locks must be
                               strictly enforced at all costs, releasable only by the
                               original creator or administrator.  They argue that if
                               anyone can break a lock, chaos runs rampant and the
                               whole point of locking is defeated.  The other side argues
                               that locks are first and foremost a communication tool.  If
                               users are constantly breaking each other's locks, it
                               represents a cultural failure within the team and the
                               problem falls outside the scope of software enforcement.
                  </p>
                  <p>Subversion&#32570;&#30465;&#26159;&#27604;&#36739;&#8220;<span class="quote">&#23485;&#26494;&#30340;</span>&#8221;&#26041;&#24335;&#65292;&#20294;&#20063;&#20801;&#35768;&#31649;&#29702;&#21592;&#21019;&#24314;&#38057;&#23376;&#33050;&#26412;&#26469;&#24314;&#31435;&#20005;&#26684;&#30340;&#25511;&#21046;&#31574;&#30053;&#12290;&#20855;&#20307;&#26469;&#35828;&#65292;<code class="filename">pre-lock</code>&#21644;<code class="filename">pre-unlock</code>&#38057;&#23376;&#20801;&#35768;&#31649;&#29702;&#21592;&#20915;&#23450;&#20160;&#20040;&#26102;&#20505;&#21019;&#24314;&#21644;&#37322;&#25918;&#38145;&#23450;&#12290;&#26681;&#25454;&#38145;&#23450;&#26159;&#21542;&#24050;&#32463;&#23384;&#22312;&#65292;&#36825;&#20004;&#20010;&#38057;&#23376;&#33050;&#26412;&#21487;&#20197;&#20915;&#23450;&#26159;&#21542;&#20801;&#35768;&#29305;&#23450;&#29992;&#25143;&#25171;&#30772;&#25110;&#31363;&#21462;&#38145;&#23450;&#12290;&#20063;&#26377;<code class="filename">post-lock</code>&#21644;<code class="filename">post-unlock</code>&#38057;&#23376;&#65292;&#21487;&#20197;&#29992;&#26469;&#21457;&#36865;&#38145;&#23450;&#21160;&#20316;&#30340;&#36890;&#30693;&#37038;&#20214;&#12290;&#20851;&#20110;&#29256;&#26412;&#24211;&#38057;&#23376;&#30340;&#26356;&#22810;&#20449;&#24687;&#21487;&#20197;&#30475;<a class="xref" href="svn.reposadmin.html#svn.reposadmin.create.hooks" title="5.3.2.&nbsp;&#23454;&#29616;&#29256;&#26412;&#24211;&#38057;&#23376;">&#31532;&nbsp;5.3.2&nbsp;&#33410; &#8220;&#23454;&#29616;&#29256;&#26412;&#24211;&#38057;&#23376;&#8221;</a>&#12290;
                  </p>
               </div>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.locking.lock-communication"></a>3.7.4.&nbsp;&#38145;&#23450;&#20132;&#27969;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>&#25105;&#20204;&#24050;&#32463;&#35265;&#21040;&#20102;&#22914;&#20309;&#21033;&#29992;<span class="command"><strong>svn lock</strong></span>&#21644;<span class="command"><strong>svn unlock</strong></span>&#26469;&#21019;&#24314;&#12289;&#37322;&#25918;&#12289;&#25171;&#30772;&#21644;&#31363;&#21462;&#38145;&#23450;&#65292;&#36825;&#23601;&#28385;&#36275;&#20102;&#39034;&#24207;&#35775;&#38382;&#25991;&#20214;&#30340;&#35201;&#27714;&#65292;&#20294;&#26159;&#28010;&#36153;&#26102;&#38388;&#36825;&#20010;&#22823;&#38382;&#39064;&#35813;&#22914;&#20309;&#21602;&#65311;
               </p>
               <p>For example, suppose Harry locks an image file and then
                          begins editing it.  Meanwhile, miles away, Sally wants to do
                          the same thing.  She doesn't think to run <strong class="userinput"><code>svn status
                                --show-updates</code></strong>, so she has no idea that Harry has
                          already locked the file.  She spends hours editing the file,
                          and when she tries to commit her change, she discovers that
                          either the file is locked or that she's out of date.
                          Regardless, her changes aren't mergeable with Harry's.  One of
                          these two people has to throw away his or her work, and a lot of
                          time has been wasted.
               </p>
               <p>Subversion's solution to this problem is to provide a
                          mechanism to remind users that a file ought to be locked
                          <span class="emphasis"><em>before</em></span> the editing begins.  The mechanism
                          is a special property:  <code class="literal">svn:needs-lock</code>.  If
                          that property is attached to a file (regardless of its value,
                          which is irrelevant), Subversion will try to use
                          filesystem-level permissions to make the file read-only&#8212;unless,
                          of course, the user has explicitly locked the file.
                          When a lock token is present (as a result of using
                          <span class="command"><strong>svn lock</strong></span>), the file becomes read/write.
                          When the lock is released, the file becomes read-only
                          again.
               </p>
               <p>The theory, then, is that if the image file has this
                          property attached, Sally would immediately notice
                          something is strange when she opens the file for editing:
                          many applications alert users immediately when a read-only
                          file is opened for editing, and nearly all would
                          prevent her from saving changes to the file.  This
                          reminds her to lock the file before editing, whereby she
                          discovers the preexisting lock:
               </p><pre class="screen">
$ /usr/local/bin/gimp raisin.jpg
gimp: error: file is read-only!
$ ls -l raisin.jpg
-r--r--r--   1 sally   sally   215589 Jun  8 19:23 raisin.jpg
$ svn lock raisin.jpg
svn: Lock request failed: 423 Locked (http://svn.example.com)
$ svn info http://svn.example.com/repos/project/raisin.jpg | grep Lock
Lock Token: opaquelocktoken:fc2b4dee-98f9-0310-abf3-653ff3226e6b
Lock Owner: harry
Lock Created: 2006-06-08 07:29:18 -0500 (Thu, 08 June 2006)
Lock Comment (1 line):
Making some tweaks.  Locking for the next two hours.
$
</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Tip">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                        <th align="left">&#25552;&#31034;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>&#25105;&#20204;&#40723;&#21169;&#29992;&#25143;&#21644;&#31649;&#29702;&#21592;&#37117;&#24212;&#35813;&#32473;&#19981;&#33021;&#26681;&#25454;&#19978;&#19979;&#25991;&#30340;&#25991;&#20214;&#28155;&#21152;<code class="literal">svn:needs-lock</code>&#23646;&#24615;&#65292;&#36825;&#26159;&#40723;&#21169;&#22909;&#30340;&#38145;&#23450;&#20064;&#24815;&#21644;&#38450;&#27490;&#28010;&#36153;&#30340;&#20027;&#35201;&#25216;&#26415;&#25163;&#27573;&#12290;
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <p>&#38656;&#35201;&#27880;&#24847;&#21040;&#36825;&#20010;&#23646;&#24615;&#26159;&#20381;&#36182;&#20110;&#38145;&#23450;&#31995;&#32479;&#30340;&#20132;&#27969;&#24037;&#20855;&#65292;&#19981;&#31649;&#26159;&#21542;&#26377;&#36825;&#20010;&#23646;&#24615;&#65292;&#25991;&#20214;&#37117;&#21487;&#20197;&#38145;&#23450;&#12290;&#30456;&#21453;&#30340;&#65292;&#26080;&#35770;&#26377;&#27809;&#26377;&#36825;&#20010;&#23646;&#24615;&#65292;&#24182;&#19981;&#20250;&#35201;&#27714;&#25552;&#20132;&#38656;&#35201;&#39318;&#20808;&#38145;&#23450;&#25991;&#20214;&#12290;</p>
               <p>&#36825;&#20010;&#31995;&#32479;&#24182;&#19981;&#26159;&#27627;&#26080;&#29781;&#30133;&#65292;&#21363;&#20351;&#26377;&#36825;&#20010;&#23646;&#24615;&#65292;&#21482;&#35835;&#25552;&#37266;&#20063;&#26377;&#21487;&#33021;&#22833;&#25928;&#12290;&#26377;&#20123;&#31243;&#24207;&#8220;<span class="quote">&#20599;&#20599;&#30340;&#31713;&#25913;&#20102;</span>&#8221;&#25991;&#20214;&#30340;&#21482;&#35835;&#23646;&#24615;&#65292;&#24708;&#26080;&#22768;&#24687;&#30340;&#20801;&#35768;&#29992;&#25143;&#32534;&#36753;&#21644;&#20445;&#23384;&#25991;&#20214;&#65292;&#19981;&#24184;&#30340;&#26159;&#65292;Subversion&#23545;&#27492;&#26080;&#33021;&#20026;&#21147;&#8212;&#21363;&#20351;&#21040;&#20102;&#29616;&#20170;&#65292;&#36824;&#26159;&#27809;&#26377;&#20219;&#20309;&#24037;&#20855;&#33021;&#22815;&#20195;&#26367;&#20154;&#19982;&#20154;&#30340;&#33391;&#22909;&#20132;&#27969;&#12290;<sup>[<a name="d0e5554" href="#ftn.d0e5554" class="footnote">16</a>]</sup></p>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.externals"></a>3.8.&nbsp;&#22806;&#37096;&#23450;&#20041;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#26377;&#26102;&#20505;&#21019;&#24314;&#19968;&#20010;&#30001;&#22810;&#20010;&#19981;&#21516;&#26816;&#20986;&#24471;&#21040;&#30340;&#24037;&#20316;&#21103;&#26412;&#26159;&#38750;&#24120;&#26377;&#29992;&#30340;&#65292;&#20030;&#20010;&#20363;&#23376;&#65292;&#20320;&#25110;&#35768;&#24076;&#26395;&#19981;&#21516;&#30340;&#23376;&#30446;&#24405;&#26469;&#33258;&#19981;&#21516;&#30340;&#29256;&#26412;&#24211;&#20301;&#32622;&#65292;&#25110;&#32773;&#26159;&#19981;&#21516;&#30340;&#29256;&#26412;&#24211;&#12290;&#20320;&#21487;&#20197;&#25163;&#24037;&#35774;&#32622;&#36825;&#26679;&#19968;&#20010;&#24037;&#20316;&#25335;&#36125;&#8212;&#20351;&#29992;<span class="command"><strong>svn checkout</strong></span>&#26469;&#21019;&#24314;&#36825;&#31181;&#20320;&#38656;&#35201;&#30340;&#23884;&#22871;&#30340;&#24037;&#20316;&#21103;&#26412;&#32467;&#26500;&#12290;&#20294;&#26159;&#22914;&#26524;&#36825;&#20010;&#32467;&#26500;&#23545;&#25152;&#26377;&#30340;&#29992;&#25143;&#26159;&#24456;&#37325;&#35201;&#30340;&#65292;&#27599;&#20010;&#29992;&#25143;&#38656;&#35201;&#25191;&#34892;&#21516;&#26679;&#30340;&#26816;&#20986;&#25805;&#20316;&#12290;
            </p>
            <p>&#24456;&#24184;&#36816;&#65292;Subversion&#25552;&#20379;&#20102;<em class="firstterm">&#22806;&#37096;&#23450;&#20041;</em>&#30340;&#25903;&#25345;&#65292;&#19968;&#20010;&#22806;&#37096;&#23450;&#20041;&#26159;&#19968;&#20010;&#26412;&#22320;&#36335;&#32463;&#21040;URL&#30340;&#24433;&#23556;&#8212;&#20063;&#26377;&#21487;&#33021;&#19968;&#20010;&#29305;&#23450;&#30340;&#20462;&#35746;&#29256;&#26412;&#8212;&#19968;&#20123;&#29256;&#26412;&#21270;&#30340;&#36164;&#28304;&#12290;&#22312;Subversion&#20320;&#21487;&#20197;&#20351;&#29992;<code class="literal">svn:externals</code>&#23646;&#24615;&#26469;&#23450;&#20041;&#22806;&#37096;&#23450;&#20041;&#65292;&#20320;&#21487;&#20197;&#29992;<span class="command"><strong>svn propset</strong></span>&#25110;<span class="command"><strong>svn propedit</strong></span>(&#35265;<a class="xref" href="svn.advanced.html#svn.advanced.props.manip" title="3.2.2.&nbsp;&#25805;&#20316;&#23646;&#24615;">&#31532;&nbsp;3.2.2&nbsp;&#33410; &#8220;&#25805;&#20316;&#23646;&#24615;&#8221;</a>)&#21019;&#24314;&#21644;&#20462;&#25913;&#36825;&#20010;&#23646;&#24615;&#12290;&#23427;&#21487;&#20197;&#35774;&#32622;&#21040;&#20219;&#20309;&#29256;&#26412;&#21270;&#30340;&#36335;&#32463;&#65292;&#23427;&#30340;&#20540;&#26159;&#19968;&#20010;&#22810;&#34892;&#30340;&#23376;&#30446;&#24405;&#65292;&#21487;&#36873;&#30340;&#20462;&#35746;&#29256;&#26412;&#26631;&#35760;&#21644;&#23436;&#20840;&#26377;&#25928;&#30340;Subversion&#29256;&#26412;&#24211;URL&#30340;&#21015;&#34920;(&#30456;&#23545;&#20110;&#35774;&#32622;&#23646;&#24615;&#30340;&#29256;&#26412;&#21270;&#30446;&#24405;)&#12290;
            </p>
            <p><code class="literal">svn:externals</code>&#30340;&#26041;&#20415;&#20043;&#22788;&#26159;&#36825;&#20010;&#23646;&#24615;&#35774;&#32622;&#21040;&#29256;&#26412;&#21270;&#30340;&#36335;&#24452;&#21518;&#65292;&#20219;&#20309;&#20154;&#21487;&#20197;&#20174;&#37027;&#20010;&#30446;&#24405;&#21462;&#20986;&#19968;&#20010;&#24037;&#20316;&#21103;&#26412;&#65292;&#21516;&#26679;&#24471;&#21040;&#22806;&#37096;&#23450;&#20041;&#30340;&#22909;&#22788;&#12290;&#25442;&#21477;&#35805;&#35828;&#65292;&#19968;&#26086;&#19968;&#20010;&#20154;&#21162;&#21147;&#26469;&#23450;&#20041;&#36825;&#20123;&#23884;&#22871;&#30340;&#24037;&#20316;&#21103;&#26412;&#26816;&#20986;&#65292;&#20854;&#20182;&#20219;&#20309;&#20154;&#19981;&#38656;&#35201;&#20877;&#40635;&#28902;&#20102;&#8212;Subversion&#20250;&#22312;&#21407;&#20808;&#30340;&#24037;&#20316;&#21103;&#26412;&#26816;&#20986;&#20043;&#21518;&#65292;&#20063;&#20250;&#26816;&#20986;&#22806;&#37096;&#24037;&#20316;&#21103;&#26412;&#12290;
            </p>
            <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Warning">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#35686;&#21578;]" src="images/warning.png"></td>
                     <th align="left">&#35686;&#21578;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>&#22806;&#37096;&#23450;&#20041;&#30340;&#30456;&#23545;&#30446;&#26631;&#23376;&#30446;&#24405;&#19981;&#38656;&#35201;&#23384;&#22312;&#20110;&#20320;&#30340;&#25110;&#20854;&#23427;&#29992;&#25143;&#30340;&#31995;&#32479;&#20013;&#8212;Subversion&#20250;&#22312;&#26816;&#20986;&#24037;&#20316;&#21103;&#26412;&#26102;&#21019;&#24314;&#36825;&#20123;&#25991;&#20214;&#12290;&#23454;&#38469;&#19978;&#65292;&#20320;&#19968;&#23450;&#19981;&#35201;&#20351;&#29992;&#22806;&#37096;&#23450;&#20041;&#26469;&#20135;&#29983;&#24050;&#32463;&#22312;&#29256;&#26412;&#25511;&#21046;&#30340;&#36335;&#24452;&#12290;</p>
                     </td>
                  </tr>
               </table>
            </div>
            <p>You also get in the externals definition design all the
                     regular benefits of Subversion properties.  The definitions are
                     versioned.  If you need to change an externals definition, you
                     can do so using the regular property modification subcommands.
                     When you commit a change to the <code class="literal">svn:externals</code>
                     property, Subversion will synchronize the checked-out items
                     against the changed externals definition when you next run
                     <strong class="userinput"><code>svn update</code></strong>.  The same thing will happen when
                     others update their working copies and receive your changes to
                     the externals definition.
            </p>
            <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Tip">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                     <th align="left">&#25552;&#31034;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>&#22240;&#20026;<code class="literal">svn:externals</code>&#30340;&#20540;&#26159;&#22810;&#34892;&#30340;&#65292;&#25152;&#20197;&#25105;&#20204;&#24378;&#28872;&#24314;&#35758;&#20351;&#29992;<span class="command"><strong>svn propedit</strong></span>&#65292;&#32780;&#19981;&#26159;&#20351;&#29992;<span class="command"><strong>svn propset</strong></span>&#12290;
                        </p>
                     </td>
                  </tr>
               </table>
            </div>
            <p>Subversion releases prior to 1.5 honor an externals
                     definition format that is a multiline table of subdirectories
                     (relative to the versioned directory on which the property is
                     set), optional revision flags, and fully qualified, absolute
                     Subversion repository URLs.  An example of this might look as
                     follows:
            </p><pre class="screen">
$ svn propget svn:externals calc
third-party/sounds             http://svn.example.com/repos/sounds
third-party/skins -r148        http://svn.example.com/skinproj
third-party/skins/toolkit -r21 http://svn.example.com/skin-maker
</pre><p>&#27880;&#24847;&#21069;&#19968;&#20010;&#22806;&#37096;&#23450;&#20041;&#23454;&#20363;&#65292;&#24403;&#26377;&#20154;&#21462;&#20986;&#20102;&#19968;&#20010;<code class="filename">calc</code>&#30446;&#24405;&#30340;&#24037;&#20316;&#25335;&#36125;&#65292;Subversion&#20250;&#32487;&#32493;&#26469;&#21462;&#20986;&#22806;&#37096;&#23450;&#20041;&#30340;&#39033;&#30446;&#12290;
            </p><pre class="screen">
$ svn checkout http://svn.example.com/repos/calc
A  calc
A  calc/Makefile
A  calc/integer.c
A  calc/button.c
Checked out revision 148.

Fetching external item into calc/third-party/sounds
A  calc/third-party/sounds/ding.ogg
A  calc/third-party/sounds/dong.ogg
A  calc/third-party/sounds/clang.ogg
&#8230;
A  calc/third-party/sounds/bang.ogg
A  calc/third-party/sounds/twang.ogg
Checked out revision 14.

Fetching external item into calc/third-party/skins
&#8230;
</pre><p>As of Subversion 1.5, though, a new format of the
                     <code class="literal">svn:externals</code> property is supported.
                     Externals definitions are still multiline, but the order and
                     format of the various pieces of information have changed.  The
                     new syntax more closely mimics the order of arguments you might
                     pass to <span class="command"><strong>svn checkout</strong></span>: the optional revision
                     flags come first, then the external Subversion repository URL,
                     and finally the relative local subdirectory.  Notice, though,
                     that this time we didn't say &#8220;<span class="quote">fully qualified, absolute
                        Subversion repository URLs.</span>&#8221; That's because the new
                     format supports relative URLs and URLs that carry peg revisions.
                     The previous example of an externals definition might, in
                     Subversion 1.5, look like the following:
            </p><pre class="screen">
$ svn propget svn:externals calc
      http://svn.example.com/repos/sounds third-party/sounds
-r148 http://svn.example.com/skinproj third-party/skins
-r21  http://svn.example.com/skin-maker third-party/skins/toolkit
</pre><p>Or, making use of the peg revision syntax (which we describe
                     in detail in <a class="xref" href="svn.advanced.html#svn.advanced.pegrevs" title="3.9.&nbsp;Peg &#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;">&#31532;&nbsp;3.9&nbsp;&#33410; &#8220;Peg &#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;&#8221;</a>), it might
                     appear as:
            </p><pre class="screen">
$ svn propget svn:externals calc
http://svn.example.com/repos/sounds third-party/sounds
http://svn.example.com/skinproj@148 third-party/skins
http://svn.example.com/skin-maker@21 third-party/skins/toolkit
</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Tip">
                  <tr>
                     <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                     <th align="left">&#25552;&#31034;</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top">
                        <p>&#20320;&#19968;&#23450;&#35201;&#35201;&#24910;&#37325;&#32771;&#34385;&#22312;&#25152;&#26377;&#30340;&#22806;&#37096;&#23450;&#20041;&#20013;&#20351;&#29992;&#26126;&#30830;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#36825;&#26679;&#20570;&#24847;&#21619;&#30528;&#20320;&#24050;&#32463;&#20915;&#23450;&#20102;&#20309;&#26102;&#25302;&#20986;&#22806;&#37096;&#20449;&#24687;&#19981;&#21516;&#30340;&#24555;&#29031;&#65292;&#21644;&#31934;&#30830;&#30340;&#25302;&#20986;&#21738;&#20010;&#24555;&#29031;&#12290;&#38500;&#20102;&#19981;&#20250;&#21463;&#21040;&#31532;&#19977;&#26041;&#29256;&#26412;&#24211;&#30340;&#24847;&#22806;&#20462;&#25913;&#30340;&#24433;&#21709;&#20197;&#22806;&#65292;&#24403;&#20320;&#30340;&#24037;&#20316;&#21103;&#26412;&#22238;&#28335;&#21040;&#20197;&#21069;&#30340;&#29256;&#26412;&#24211;&#26102;&#65292;&#20351;&#29992;&#26126;&#30830;&#30340;&#20462;&#35746;&#29256;&#26412;&#21495;&#20250;&#35753;&#22806;&#37096;&#23450;&#20041;&#22238;&#21040;&#20197;&#21069;&#30340;&#37027;&#20010;&#20462;&#35746;&#29256;&#26412;&#65292;&#20063;&#24847;&#21619;&#30528;&#22806;&#37096;&#23450;&#20041;&#30340;&#24037;&#20316;&#21103;&#26412;&#26356;&#26032;&#20250;&#21305;&#37197;&#20197;&#21069;&#20462;&#35746;&#29256;&#26412;&#30340;&#26679;&#23376;&#12290;&#23545;&#20110;&#36719;&#20214;&#39033;&#30446;&#65292;&#36825;&#21487;&#33021;&#26159;&#32534;&#35793;&#22797;&#26434;&#20195;&#30721;&#22522;&#30340;&#32769;&#24555;&#29031;&#25104;&#21151;&#21644;&#22833;&#36133;&#30340;&#21306;&#21035;&#12290;</p>
                     </td>
                  </tr>
               </table>
            </div>
            <p>For most repositories, these three ways of formatting the
                     externals definitions have the same ultimate effect.  They all
                     bring the same benefits.  Unfortunately, they all bring the same
                     annoyances, too.  Since the definitions shown use absolute URLs,
                     moving or copying a directory to which they are attached will
                     not affect what gets checked out as an external (though the
                     relative local target subdirectory will, of course, move with the
                     renamed directory).  This can be confusing&#8212;even
                     frustrating&#8212;in certain situations.  For example, say you
                     have a top-level directory named
                     <code class="filename">my-project</code>, and you've created an externals
                     definition on one of its subdirectories
                     (<code class="filename">my-project/some-dir</code>) that tracks the
                     latest revision of another of its subdirectories
                     (<code class="filename">my-project/external-dir</code>).
            </p><pre class="screen">
$ svn checkout http://svn.example.com/projects .
A    my-project
A    my-project/some-dir
A    my-project/external-dir
&#8230;
Fetching external item into 'my-project/some-dir/subdir'
Checked out external at revision 11.

Checked out revision 11.
$ svn propget svn:externals my-project/some-dir
subdir http://svn.example.com/projects/my-project/external-dir

$
</pre><p>&#29616;&#22312;&#20320;&#20351;&#29992;<span class="command"><strong>svn move</strong></span>&#23558;&#30446;&#24405;<code class="filename">my-project</code>&#25913;&#21517;&#65292;&#27492;&#21051;&#65292;&#20320;&#30340;&#22806;&#37096;&#23450;&#20041;&#36824;&#26159;&#25351;&#21521;<code class="filename">my-project</code>&#30446;&#24405;&#65292;&#21363;&#20351;&#36825;&#20010;&#30446;&#24405;&#24050;&#32463;&#19981;&#23384;&#22312;&#20102;&#12290;
            </p><pre class="screen">
$ svn move -q my-project renamed-project
$ svn commit -m "Rename my-project to renamed-project."
Deleting       my-project
Adding         renamed-project

Committed revision 12.
$ svn update

Fetching external item into 'renamed-project/some-dir/subdir'
svn: Target path does not exist
$
</pre><p>Also, absolute URLs can cause problems with repositories
                     that are available via multiple URL schemes.  For example, if
                     your Subversion server is configured to allow everyone to check
                     out the repository over <code class="literal">http://</code> or
                     <code class="literal">https://</code>, but only allow commits to come in
                     via <code class="literal">https://</code>, you have an interesting problem
                     on your hands.  If your externals definitions use the
                     <code class="literal">http://</code> form of the repository URLs, you
                     won't be able to commit anything from the working copies created
                     by those externals.  On the other hand, if they use the
                     <code class="literal">https://</code> form of the URLs, anyone who might
                     be checking out via <code class="literal">http://</code> because his
                     client doesn't support <code class="literal">https://</code> will be
                     unable to fetch the external items.  Be aware, too, that if you
                     need to reparent your working copy (using <span class="command"><strong>svn switch</strong></span>
                     with the <code class="option">--relocate</code> option), externals definitions will
                     <span class="emphasis"><em>not</em></span> also be reparented.
            </p>
            <p>Subversion 1.5 takes a huge step in relieving these
                    frustrations.  As mentioned earlier, the URLs used in the new
                    externals definition format can be relative, and Subversion
                    provides syntax magic for specifying multiple flavors of URL
                    relativity.
            </p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><code class="literal">../</code></span></dt>
                  <dd>
                     <p>Relative to the URL of the directory on which
                                  the <code class="literal">svn:externals</code> property is
                                  set
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">^/</code></span></dt>
                  <dd>
                     <p>Relative to the root of the repository in
                                  which the <code class="literal">svn:externals</code> property is
                                  versioned
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">//</code></span></dt>
                  <dd>
                     <p>Relative to the scheme of the URL of the
                                  directory on which the <code class="literal">svn:externals</code>
                                  property is set
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">/</code></span></dt>
                  <dd>
                     <p>Relative to the root URL of the server on
                                  which the <code class="literal">svn:externals</code> property is
                                  versioned
                     </p>
                  </dd>
               </dl>
            </div>
            <p>So, looking a fourth time at our previous externals
                     definition example, and making use of the new absolute URL
                     syntax in various ways, we might now see:
            </p><pre class="screen">
$ svn propget svn:externals calc
^/sounds third-party/sounds
/skinproj@148 third-party/skins
//svn.example.com/skin-maker@21 third-party/skins/toolkit
</pre><p>The support that exists for externals definitions in
                     Subversion remains less than ideal, though.  An externals
                     definition can point only to directories, not to files.  Also, the
                     local subdirectory part of the definition cannot contain
                     <code class="literal">..</code> parent directory indicators (such as
                     <code class="filename">../../skins/myskin</code>).  Perhaps most
                     disappointingly, the working copies created via the externals
                     definition support are still disconnected from the primary
                     working copy (on whose versioned directories the
                     <code class="literal">svn:externals</code> property was actually set).
                     And Subversion still truly operates only on nondisjoint working
                     copies.  So, for example, if you want to commit changes that
                     you've made in one or more of those external working copies, you
                     must run <span class="command"><strong>svn commit</strong></span> explicitly on those
                     working copies&#8212;committing on the primary working copy will
                     not recurse into any external ones.
            </p>
            <p>We've already mentioned some of the additional shortcomings
                     of the old <code class="literal">svn:externals</code> format and how the
                     new Subversion 1.5 format improves upon it.  But be careful when
                     making use of the new format that you don't inadvertently cause
                     problems for other folks accessing your repository who are using
                     older Subversion clients.  While Subversion 1.5 clients will
                     continue to recognize and support the original externals
                     definition format, older clients will <span class="emphasis"><em>not</em></span>
                     be able to correctly parse the new format.
            </p>
            <p>Besides the <span class="command"><strong>svn checkout</strong></span>, <span class="command"><strong>svn
                           update</strong></span>, <span class="command"><strong>svn switch</strong></span>, and
                     <span class="command"><strong>svn export</strong></span> commands which actually manage the
                     <em class="firstterm">disjoint</em> (or disconnected) subdirectories
                     into which externals are checked out, the <span class="command"><strong>svn
                           status</strong></span> command also recognizes externals definitions.
                     It displays a status code of <code class="literal">X</code> for the
                     disjoint external subdirectories, and then recurses into those
                     subdirectories to display the status of the external items
                     themselves.  You can pass the
                     <code class="option">--ignore-externals</code> option to any of these
                     subcommands to disable externals definition processing.
            </p>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.pegrevs"></a>3.9.&nbsp;Peg &#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#25991;&#20214;&#21644;&#30446;&#24405;&#30340;&#25335;&#36125;&#12289;&#25913;&#21517;&#21644;&#31227;&#21160;&#33021;&#21147;&#20351;&#20320;&#21487;&#20197;&#21019;&#24314;&#19968;&#20010;&#39033;&#30446;&#65292;&#28982;&#21518;&#21024;&#38500;&#23427;&#65292;&#28982;&#21518;&#22312;&#21516;&#19968;&#20010;&#20301;&#32622;&#28155;&#21152;&#19968;&#20010;&#26032;&#30340;&#8212;&#36825;&#26159;&#22312;&#25105;&#20204;&#30340;&#35745;&#31639;&#26426;&#20013;&#32463;&#24120;&#21457;&#29983;&#30340;&#25805;&#20316;&#65292;&#32780;&#20320;&#30340;&#29256;&#26412;&#25511;&#21046;&#31995;&#32479;&#19981;&#24212;&#35813;&#25104;&#20026;&#20320;&#36825;&#26679;&#25805;&#20316;&#30340;&#38556;&#30861;&#12290;Subversion&#30340;&#25991;&#20214;&#31649;&#29702;&#25805;&#20316;&#26159;&#36825;&#26679;&#30340;&#24320;&#25918;&#65292;&#25552;&#20379;&#20102;&#20960;&#20046;&#21644;&#26222;&#36890;&#25991;&#20214;&#19968;&#26679;&#30340;&#25805;&#20316;&#29256;&#26412;&#21270;&#25991;&#20214;&#30340;&#28789;&#27963;&#24615;&#65292;&#20294;&#26159;&#28789;&#27963;&#24847;&#21619;&#30528;&#22312;&#25972;&#20010;&#29256;&#26412;&#24211;&#30340;&#29983;&#21629;&#21608;&#26399;&#20013;&#65292;&#19968;&#20010;&#32473;&#23450;&#30340;&#29256;&#26412;&#21270;&#30340;&#36164;&#28304;&#21487;&#33021;&#20250;&#20986;&#29616;&#22312;&#35768;&#22810;&#19981;&#21516;&#30340;&#36335;&#24452;&#65292;&#19968;&#20010;&#32473;&#23450;&#30340;&#36335;&#24452;&#20250;&#23637;&#31034;&#32473;&#25105;&#20204;&#35768;&#22810;&#23436;&#20840;&#19981;&#21516;&#30340;&#29256;&#26412;&#21270;&#36164;&#28304;&#12290;&#24403;&#28982;&#36825;&#20123;&#21151;&#33021;&#20063;&#22686;&#21152;&#20102;&#20320;&#19982;&#36825;&#20123;&#36335;&#24452;&#21644;&#36164;&#28304;&#20132;&#20114;&#30340;&#38590;&#24230;&#12290;</p>
            <p>Subversion&#21487;&#20197;&#38750;&#24120;&#32874;&#26126;&#30340;&#27880;&#24847;&#21040;&#19968;&#20010;&#23545;&#35937;&#30340;&#21253;&#25324;&#19968;&#20010;&#8220;<span class="quote">&#22320;&#22336;&#25913;&#21464;</span>&#8221;&#21382;&#21490;&#21464;&#21270;&#65292;&#20030;&#20010;&#20363;&#23376;&#65292;&#22914;&#26524;&#20320;&#35810;&#38382;&#19968;&#20010;&#26366;&#32463;&#19978;&#21608;&#25913;&#36807;&#21517;&#30340;&#25991;&#20214;&#30340;&#25152;&#26377;&#30340;&#26085;&#24535;&#20449;&#24687;&#65292;Subversion&#20250;&#24456;&#39640;&#20852;&#25552;&#20379;&#25152;&#26377;&#30340;&#26085;&#24535;&#8212;&#37325;&#21629;&#21517;&#21457;&#29983;&#30340;&#20462;&#35746;&#29256;&#26412;&#65292;&#22806;&#21152;&#30456;&#20851;&#29256;&#26412;&#20043;&#21069;&#21644;&#20043;&#21518;&#30340;&#20462;&#35746;&#29256;&#26412;&#26085;&#24535;&#65292;&#25152;&#20197;&#22823;&#22810;&#25968;&#26102;&#38388;&#37324;&#65292;&#20320;&#19981;&#38656;&#35201;&#32771;&#34385;&#36825;&#20123;&#20107;&#24773;&#65292;&#20294;&#26159;&#20598;&#23572;&#65292;Subversion&#20250;&#38656;&#35201;&#20320;&#30340;&#24110;&#21161;&#26469;&#28165;&#38500;&#28151;&#28102;&#12290;
            </p>
            <p>&#36825;&#20010;&#26368;&#31616;&#21333;&#30340;&#20363;&#23376;&#21457;&#29983;&#22312;&#24403;&#19968;&#20010;&#30446;&#24405;&#25110;&#32773;&#25991;&#20214;&#20174;&#29256;&#26412;&#25511;&#21046;&#20013;&#21024;&#38500;&#26102;&#65292;&#28982;&#21518;&#19968;&#20010;&#26032;&#30340;&#21516;&#26679;&#21517;&#23383;&#30446;&#24405;&#25110;&#32773;&#25991;&#20214;&#28155;&#21152;&#21040;&#29256;&#26412;&#25511;&#21046;&#65292;&#26174;&#28982;&#20320;&#21024;&#38500;&#30340;&#21644;&#20320;&#21518;&#26469;&#28155;&#21152;&#30340;&#19981;&#26159;&#21516;&#26679;&#30340;&#19996;&#35199;&#65292;&#23427;&#20204;&#20165;&#20165;&#26159;&#26377;&#21516;&#26679;&#30340;&#36335;&#24452;&#65292;&#20363;&#22914;<code class="filename">/trunk/object</code>&#12290;&#20160;&#20040;&#65292;&#36825;&#24847;&#21619;&#30528;&#35810;&#38382;Subversion&#26469;&#26597;&#30475;<code class="filename">/trunk/object</code>&#30340;&#21382;&#21490;&#65311;&#20320;&#26159;&#35810;&#38382;&#24403;&#21069;&#36825;&#20010;&#20301;&#32622;&#30340;&#19996;&#35199;&#36824;&#26159;&#20320;&#22312;&#36825;&#20010;&#20301;&#32622;&#21024;&#38500;&#30340;&#37027;&#20010;&#23545;&#35937;&#65311;&#20320;&#26159;&#24076;&#26395;&#35810;&#38382;&#23545;&#36825;&#20010;&#23545;&#35937;&#30340;&#25152;&#26377;&#25805;&#20316;&#36824;&#26159;&#36825;&#20010;&#36335;&#24452;&#30340;&#25152;&#26377;&#23545;&#35937;&#65311;&#24456;&#26126;&#26174;&#65292;Subversion&#38656;&#35201;&#32447;&#32034;&#30693;&#36947;&#20320;&#30495;&#23454;&#30340;&#24819;&#27861;&#12290;
            </p>
            <p>And thanks to moves, versioned object history can get far
                     more twisted than even that.  For example, you might have a
                     directory named <code class="filename">concept</code>, containing some
                     nascent software project you've been toying with.  Eventually,
                     though, that project matures to the point that the idea seems to
                     actually have some wings, so you do the unthinkable and decide
                     to give the project a name.
                     <sup>[<a name="d0e5823" href="#ftn.d0e5823" class="footnote">17</a>]</sup>
                     Let's say you called your software Frabnaggilywort.  At this
                     point, it makes sense to rename the directory to reflect the
                     project's new name, so <code class="filename">concept</code> is renamed
                     to <code class="filename">frabnaggilywort</code>.  Life goes on,
                     Frabnaggilywort releases a 1.0 version and is downloaded and
                     used daily by hordes of people aiming to improve their
                     lives.
            </p>
            <p>&#36825;&#26159;&#19968;&#20010;&#32654;&#22909;&#30340;&#25925;&#20107;&#65292;&#20294;&#26159;&#27809;&#26377;&#22312;&#36825;&#37324;&#32467;&#26463;&#65292;&#20316;&#20026;&#20027;&#21150;&#20154;&#65292;&#20320;&#19968;&#23450;&#24819;&#21040;&#20102;&#21478;&#19968;&#20214;&#20107;&#65292;&#25152;&#20197;&#20320;&#21019;&#24314;&#20102;&#19968;&#20010;&#30446;&#24405;&#21483;&#20570;<code class="filename">concept</code>&#65292;&#21608;&#26399;&#37325;&#26032;&#24320;&#22987;&#12290;&#23454;&#38469;&#19978;&#65292;&#36825;&#20010;&#24490;&#29615;&#22312;&#20960;&#24180;&#37324;&#24320;&#22987;&#20102;&#22810;&#27425;&#65292;&#27599;&#19968;&#20010;&#24819;&#27861;&#20174;&#20351;&#29992;&#26087;&#30340;<code class="filename">concept</code>&#30446;&#24405;&#24320;&#22987;&#65292;&#28982;&#21518;&#26377;&#26102;&#22312;&#24819;&#27861;&#25104;&#29087;&#20043;&#21518;&#37325;&#26032;&#21629;&#21517;&#65292;&#26377;&#26102;&#20320;&#25918;&#24323;&#20102;&#36825;&#20010;&#27880;&#24847;&#32780;&#21024;&#38500;&#20102;&#36825;&#20010;&#30446;&#24405;&#12290;&#25110;&#32773;&#26356;&#21152;&#21464;&#24577;&#19968;&#28857;&#65292;&#25110;&#35768;&#20320;&#25226;<code class="filename">concept</code>&#25913;&#25104;&#20854;&#20182;&#21517;&#23383;&#20043;&#21518;&#21448;&#22240;&#20026;&#19968;&#20123;&#21407;&#22240;&#37325;&#26032;&#25913;&#22238;<code class="filename">concept</code>&#12290;
            </p>
            <p>In scenarios like these, attempting to instruct
                     Subversion to work with these reused paths can be a little like
                     instructing a motorist in Chicago's West Suburbs to drive east
                     down Roosevelt Road and turn left onto Main Street.  In a mere
                     20 minutes, you can cross &#8220;<span class="quote">Main Street</span>&#8221; in
                     Wheaton, Glen Ellyn, and Lombard.  And no, they aren't the same
                     street.  Our motorist&#8212;and our Subversion&#8212;need a
                     little more detail to do the right thing.
            </p>
            <p>&#22312;1.1&#29256;&#26412;&#65292;Subversion&#25552;&#20379;&#20102;&#19968;&#31181;&#26041;&#27861;&#26469;&#35828;&#26126;&#20320;&#25152;&#25351;&#26159;&#21738;&#19968;&#20010;&#34903;&#36947;&#65292;&#21483;&#20570;<em class="firstterm">peg&#20462;&#35746;&#29256;&#26412;</em>&#65292;&#36890;&#36807;&#36825;&#20010;&#20462;&#35746;&#29256;&#26412;&#25105;&#20204;&#21487;&#20197;&#21807;&#19968;&#30830;&#23450;&#19968;&#26465;&#21382;&#21490;&#32447;&#36335;&#65292;&#22240;&#20026;&#19968;&#20010;&#29256;&#26412;&#21270;&#30340;&#25991;&#20214;&#20250;&#22312;&#20219;&#20309;&#26102;&#38388;&#21344;&#29992;&#26576;&#20010;&#36335;&#24452;&#8212;&#36335;&#24452;&#21644;peg&#20462;&#35746;&#29256;&#26412;&#30340;&#21512;&#24182;&#26159;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#21382;&#21490;&#30340;&#29305;&#23450;&#32447;&#36335;&#12290;Peg&#20462;&#35746;&#29256;&#26412;&#21487;&#20197;&#22312;Subversion&#21629;&#20196;&#34892;&#23458;&#25143;&#31471;&#20013;&#29992;<em class="firstterm">at&#35821;&#27861;</em>&#25351;&#23450;&#65292;&#20043;&#25152;&#20197;&#20351;&#29992;&#36825;&#20010;&#21517;&#31216;&#26159;&#22240;&#20026;&#20250;&#22312;&#20851;&#32852;&#30340;&#20462;&#35746;&#29256;&#26412;&#30340;&#36335;&#24452;&#21518;&#38754;&#36861;&#21152;&#19968;&#20010;&#8220;<span class="quote">at&#31526;&#21495;</span>&#8221;(<code class="literal">@</code>)&#12290;
            </p>
            <p>But what of the <code class="option">--revision</code>
                     (<code class="option">-r</code>) of which we've spoken so much in this
                     book?  That revision (or set of revisions) is called the
                     <em class="firstterm">operative revision</em> (or
                     <em class="firstterm">operative revision range</em>).  Once a
                     particular line of history has been identified using a path and
                     peg revision, Subversion performs the requested operation using
                     the operative revision(s).  To map this to our Chicagoland
                     streets analogy, if we are told to go to 606 N. Main Street in
                     Wheaton,
                     <sup>[<a name="d0e5882" href="#ftn.d0e5882" class="footnote">18</a>]</sup>
                     we can think of &#8220;<span class="quote">Main Street</span>&#8221; as our path and
                     &#8220;<span class="quote">Wheaton</span>&#8221; as our peg revision.  These two pieces of
                     information identify a unique path that can be traveled (north or
                     south on Main Street), and they keep us from traveling up and
                     down the wrong Main Street in search of our destination.  Now we
                     throw in &#8220;<span class="quote">606 N.</span>&#8221; as our operative revision of
                     sorts, and we know <span class="emphasis"><em>exactly</em></span> where to
                     go.
            </p>
            <div class="sidebar">
               <p class="title"><b>Peg &#20462;&#35746;&#29256;&#26412;&#31639;&#27861;</b></p>
               <p>The Subversion command-line client performs the peg revision
                          algorithm any time it needs to resolve possible ambiguities in
                          the paths and revisions provided to it.  Here's an example of
                          such an invocation:
               </p><pre class="screen">
$ svn <em class="replaceable"><code>command</code></em> -r <em class="replaceable"><code>OPERATIVE-REV</code></em> item@<em class="replaceable"><code>PEG-REV</code></em>
</pre><p>If <em class="replaceable"><code>OPERATIVE-REV</code></em> is older than
                          <em class="replaceable"><code>PEG-REV</code></em>, the algorithm is as
                          follows:
               </p>
               <div class="orderedlist">
                  <ol type="1">
                     <li>
                        <p>&#26469;&#21040;&#20462;&#35746;&#29256;&#26412;<em class="replaceable"><code>PEG-REV</code></em>&#65292;&#25214;&#21040;<em class="replaceable"><code>item</code></em>&#65292;&#22312;&#29256;&#26412;&#24211;&#23450;&#20301;&#21040;&#19968;&#20010;&#21807;&#19968;&#30340;&#23545;&#35937;&#12290;
                        </p>
                     </li>
                     <li>
                        <p>&#36861;&#36394;&#23545;&#35937;&#30340;&#21382;&#21490;&#32972;&#26223;(&#36890;&#36807;&#20219;&#20309;&#21487;&#33021;&#30340;&#25913;&#21517;)&#26469;&#21040;&#20462;&#35746;&#29256;&#26412;<em class="replaceable"><code>OPERATIVE-REV</code></em>&#30340;&#31062;&#20808;&#12290;
                        </p>
                     </li>
                     <li>
                        <p>Perform the requested action on that ancestor,
                                       wherever it is located, or whatever its name might
                                       be or might have been at that time.
                        </p>
                     </li>
                  </ol>
               </div>
               <p>&#20294;&#26159;&#22914;&#26524;<em class="replaceable"><code>OPERATIVE-REV</code></em>&#27604;<em class="replaceable"><code>PEG-REV</code></em>&#26356;&#24180;&#36731;&#26102;&#20250;&#24590;&#20040;&#26679;&#65311;&#36825;&#20026;&#23450;&#20301;<em class="replaceable"><code>OPERATIVE-REV</code></em>&#20013;&#30340;&#36335;&#24452;&#30340;&#29702;&#35770;&#38382;&#39064;&#22686;&#21152;&#20102;&#19968;&#20123;&#22797;&#26434;&#24615;&#65292;&#22240;&#20026;&#22312;<em class="replaceable"><code>PEG-REV</code></em>&#21644;<em class="replaceable"><code>OPERATIVE-REV</code></em>&#20043;&#38388;&#65292;&#36335;&#24452;&#22312;&#21382;&#21490;&#20013;&#21487;&#20197;&#20986;&#29616;&#22810;&#27425;(&#30001;&#20110;&#25335;&#36125;&#25805;&#20316;)&#65292;&#32780;&#19988;&#37027;&#36824;&#19981;&#26159;&#20840;&#37096;&#8212;Subversion&#19981;&#20250;&#20445;&#23384;&#21521;&#21069;&#36319;&#36394;&#21382;&#21490;&#30340;&#36275;&#22815;&#20449;&#24687;&#65292;&#25152;&#20197;&#31639;&#27861;&#20250;&#26377;&#19968;&#28857;&#19981;&#21516;&#65306;
               </p>
               <div class="orderedlist">
                  <ol type="1">
                     <li>
                        <p>&#26469;&#21040;&#20462;&#35746;&#29256;&#26412;<em class="replaceable"><code>PEG-REV</code></em>&#65292;&#25214;&#21040;<em class="replaceable"><code>item</code></em>&#65292;&#22312;&#29256;&#26412;&#24211;&#23450;&#20301;&#21040;&#19968;&#20010;&#21807;&#19968;&#30340;&#23545;&#35937;&#12290;
                        </p>
                     </li>
                     <li>
                        <p>Trace the object's history backward (through any
                                       possible renames) to its ancestor in the revision
                                       <em class="replaceable"><code>PEG-REV</code></em>.
                        </p>
                     </li>
                     <li>
                        <p>Verify that the object's location (path-wise) in
                                       <em class="replaceable"><code>PEG-REV</code></em> is the same as it is in
                                       <em class="replaceable"><code>OPERATIVE-REV</code></em>.  If that's the
                                       case, at least the two locations are known to be
                                       directly related, so perform the requested action on the
                                       location in <em class="replaceable"><code>OPERATIVE-REV</code></em>.
                                       Otherwise, relatedness was not established, so error out
                                       with a loud complaint that no viable location was found.
                                       (Someday, we expect that Subversion will be able to handle
                                       this usage scenario with more flexibility and
                                       grace.)
                        </p>
                     </li>
                  </ol>
               </div>
               <p>&#27880;&#24847;&#65292;&#21363;&#20351;&#20320;&#27809;&#26377;&#26126;&#30830;&#25552;&#20379;peg&#20462;&#35746;&#29256;&#26412;&#25110;&#25805;&#20316;&#20462;&#35746;&#29256;&#26412;&#65292;&#20182;&#20204;&#20381;&#28982;&#26159;&#23384;&#22312;&#30340;&#12290;&#20026;&#20102;&#20351;&#29992;&#30340;&#31616;&#20415;&#65292;&#23545;&#20110;&#24037;&#20316;&#21103;&#26412;&#39033;&#30446;&#30340;&#32570;&#30465;peg&#20462;&#35746;&#29256;&#26412;&#26159;<code class="literal">BASE</code>&#65292;&#32780;&#29256;&#26412;&#24211;URL&#30340;&#32570;&#30465;&#20540;&#26159;<code class="literal">HEAD</code>&#12290;&#24403;&#27809;&#26377;&#25552;&#20379;&#25805;&#20316;&#20462;&#35746;&#29256;&#26412;&#26102;&#65292;&#32570;&#30465;&#26159;&#19982;peg&#20462;&#35746;&#29256;&#26412;&#19968;&#26679;&#12290;
               </p>
            </div>
            <p>Say that long ago we created our repository, and in revision 1
                     we added our first <code class="filename">concept</code> directory, plus an
                     <code class="filename">IDEA</code> file in that directory talking about
                     the concept.  After several revisions in which real code was
                     added and tweaked, we, in revision 20, renamed this directory to
                     <code class="filename">frabnaggilywort</code>.  By revision 27, we had a
                     new concept, a new <code class="filename">concept</code> directory to
                     hold it, and a new <code class="filename">IDEA</code> file to describe
                     it.  And then five years and thousands of revisions flew by,
                     just like they would in any good romance story.
            </p>
            <p>Now, years later, we wonder what the
                     <code class="filename">IDEA</code> file looked like back in revision 1.
                     But Subversion needs to know whether we are asking about how the
                     <span class="emphasis"><em>current</em></span> file looked back in revision 1, or
                     whether we are asking for the contents of whatever file lived at
                     <code class="filename">concepts/IDEA</code> in revision 1.  Certainly
                     those questions have different answers, and because of peg
                     revisions, you can ask those questions.  To find out how the
                     current <code class="filename">IDEA</code> file looked in that old
                     revision, you run:
            </p><pre class="screen">
$ svn cat -r 1 concept/IDEA 
svn: Unable to find repository location for 'concept/IDEA' in revision 1
</pre><p>&#24403;&#28982;&#65292;&#22312;&#36825;&#20010;&#20363;&#23376;&#37324;&#65292;&#24403;&#21069;&#30340;<code class="filename">IDEA</code>&#25991;&#20214;&#22312;&#20462;&#35746;&#29256;&#26412;1&#20013;&#24182;&#19981;&#23384;&#22312;&#65292;&#25152;&#20197;Subversion&#32473;&#20986;&#19968;&#20010;&#38169;&#35823;&#65292;&#36825;&#20010;&#19978;&#38754;&#30340;&#21629;&#20196;&#26159;&#38271;&#30340;peg&#20462;&#35746;&#29256;&#26412;&#21629;&#20196;&#19968;&#20010;&#32553;&#20889;&#65292;&#25193;&#23637;&#30340;&#20889;&#27861;&#26159;&#65306;
            </p><pre class="screen">
$ svn cat -r 1 concept/IDEA@BASE
svn: Unable to find repository location for 'concept/IDEA' in revision 1
</pre><p>&#24403;&#25191;&#34892;&#26102;&#65292;&#23427;&#21253;&#21547;&#26399;&#26395;&#30340;&#32467;&#26524;&#12290;</p>
            <p>The perceptive reader is probably wondering at this point whether
                     the peg revision syntax causes problems for working copy paths
                     or URLs that actually have at signs in them.  After
                     all, how does <span class="command"><strong>svn</strong></span> know whether
                     <code class="literal">news@11</code> is the name of a directory in my
                     tree or just a syntax for &#8220;<span class="quote">revision 11 of
                        <code class="filename">news</code></span>&#8221;?  Thankfully, while
                     <span class="command"><strong>svn</strong></span> will always assume the latter, there is a
                     trivial workaround.  You need only append an at sign to the
                     end of the path, such as <code class="literal">news@11@</code>.
                     <span class="command"><strong>svn</strong></span> cares only about the last at sign in
                     the argument, and it is not considered illegal to omit a literal
                     peg revision specifier after that at sign.  This workaround
                     even applies to paths that end in an at sign&#8212;you would
                     use <code class="literal">filename@@</code> to talk about a file named
                     <code class="filename">filename@</code>.
            </p>
            <p>&#28982;&#21518;&#35753;&#25105;&#20204;&#35810;&#38382;&#21478;&#19968;&#20010;&#38382;&#39064;&#8212;&#22312;&#20462;&#35746;&#29256;&#26412;1 &#65292;&#21344;&#25454;<code class="filename">concepts/IDEA</code>&#36335;&#24452;&#30340;&#25991;&#20214;&#30340;&#20869;&#23481;&#21040;&#24213;&#26159;&#20160;&#20040;&#65311;&#25105;&#20204;&#20250;&#20351;&#29992;&#19968;&#20010;&#26126;&#30830;&#30340;peg&#20462;&#35746;&#29256;&#26412;&#26469;&#24110;&#21161;&#25105;&#20204;&#23436;&#25104;&#12290;
            </p><pre class="screen">
$ svn cat concept/IDEA@1
The idea behind this project is to come up with a piece of software
that can frab a naggily wort.  Frabbing naggily worts is tricky
business, and doing it incorrectly can have serious ramifications, so
we need to employ over-the-top input validation and data verification
mechanisms.
</pre><p>&#27880;&#24847;&#25105;&#20204;&#36825;&#19968;&#27425;&#27809;&#26377;&#25552;&#20379;&#25805;&#20316;&#20462;&#35746;&#29256;&#26412;&#65292;&#37027;&#26159;&#22240;&#20026;&#22914;&#26524;&#27809;&#26377;&#25351;&#23450;&#25805;&#20316;&#20462;&#35746;&#29256;&#26412;&#65292;Subversion&#20551;&#23450;&#32570;&#30465;&#30340;&#25805;&#20316;&#20462;&#35746;&#29256;&#26412;&#26159;peg&#20462;&#35746;&#29256;&#26412;&#12290;</p>
            <p>&#27491;&#20687;&#20320;&#30475;&#21040;&#30340;&#65292;&#36825;&#30475;&#36215;&#26469;&#26159;&#27491;&#30830;&#30340;&#36755;&#20986;&#65292;&#36825;&#20123;&#25991;&#26412;&#29978;&#33267;&#25552;&#21040;&#8220;frabbing naggily worts&#8221;&#65292;&#25152;&#20197;&#36825;&#23601;&#26159;&#29616;&#22312;&#21483;&#20570;Frabnaggilywort&#39033;&#30446;&#30340;&#37027;&#20010;&#25991;&#20214;&#65292;&#23454;&#38469;&#19978;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#26174;&#31034;&#30340;peg&#20462;&#35746;&#29256;&#26412;&#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;&#30340;&#32452;&#21512;&#26680;&#23454;&#36825;&#19968;&#28857;&#12290;&#25105;&#20204;&#30693;&#36947;&#22312;<code class="literal">HEAD</code>&#65292;Frabnaggilywort&#39033;&#30446;&#22352;&#33853;&#22312;<code class="filename">frabnaggilywort</code>&#30446;&#24405;&#65292;&#25152;&#20197;&#25105;&#20204;&#25351;&#23450;&#25105;&#20204;&#24076;&#26395;&#30475;&#21040;<code class="literal">HEAD</code>&#30340;<code class="filename">frabnaggilywort/IDEA</code>&#36335;&#32463;&#22312;&#21382;&#21490;&#19978;&#30340;&#20462;&#35746;&#29256;&#26412;1&#30340;&#20869;&#23481;&#12290;
            </p><pre class="screen">
$ svn cat -r 1 frabnaggilywort/IDEA@HEAD
The idea behind this project is to come up with a piece of software
that can frab a naggily wort.  Frabbing naggily worts is tricky
business, and doing it incorrectly can have serious ramifications, so
we need to employ over-the-top input validation and data verification
mechanisms.
</pre><p>&#32780;&#19988;peg&#20462;&#35746;&#29256;&#26412;&#21644;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;&#20063;&#19981;&#38656;&#35201;&#36825;&#26679;&#29712;&#30862;&#65292;&#20030;&#20010;&#20363;&#23376;&#65292;&#25105;&#20204;&#30340;<code class="filename">frabnaggilywort</code>&#24050;&#32463;&#22312;<code class="literal">HEAD</code>&#21024;&#38500;&#65292;&#20294;&#25105;&#20204;&#30693;&#36947;&#22312;&#20462;&#35746;&#29256;&#26412;20&#23427;&#26159;&#23384;&#22312;&#30340;&#65292;&#25105;&#20204;&#24076;&#26395;&#30693;&#36947;<code class="filename">IDEA</code>&#20174;&#20462;&#35746;&#29256;&#26412;4&#21040;10&#30340;&#21306;&#21035;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;peg&#20462;&#35746;&#29256;&#26412;20&#21644;<code class="filename">IDEA</code>&#25991;&#20214;&#30340;&#20462;&#35746;&#29256;&#26412;20&#30340;URL&#30340;&#32452;&#21512;&#65292;&#28982;&#21518;&#20351;&#29992;4&#21040;10&#20316;&#20026;&#25105;&#20204;&#30340;&#23454;&#26045;&#20462;&#35746;&#29256;&#26412;&#33539;&#22260;&#12290;
            </p><pre class="screen">
$ svn diff -r 4:10 http://svn.red-bean.com/projects/frabnaggilywort/IDEA@20
Index: frabnaggilywort/IDEA
===================================================================
--- frabnaggilywort/IDEA	(revision 4)
+++ frabnaggilywort/IDEA	(revision 10)
@@ -1,5 +1,5 @@
-The idea behind this project is to come up with a piece of software
-that can frab a naggily wort.  Frabbing naggily worts is tricky
-business, and doing it incorrectly can have serious ramifications, so
-we need to employ over-the-top input validation and data verification
-mechanisms.
+The idea behind this project is to come up with a piece of
+client-server software that can remotely frab a naggily wort.
+Frabbing naggily worts is tricky business, and doing it incorrectly
+can have serious ramifications, so we need to employ over-the-top
+input validation and data verification mechanisms.
</pre><p>&#24184;&#36816;&#30340;&#26159;&#65292;&#20960;&#20046;&#25152;&#26377;&#30340;&#20154;&#19981;&#20250;&#38754;&#20020;&#22914;&#27492;&#22797;&#26434;&#30340;&#24773;&#24418;&#65292;&#20294;&#26159;&#22914;&#26524;&#26159;&#65292;&#35760;&#20303;peg&#20462;&#35746;&#29256;&#26412;&#26159;&#24110;&#21161;Subversion&#28165;&#38500;&#28151;&#28102;&#30340;&#39069;&#22806;&#25552;&#31034;&#12290;</p>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.changelists"></a>3.10.&nbsp;&#20462;&#25913;&#21015;&#34920;
                     </h2>
                  </div>
               </div>
            </div>
            <p>It is commonplace for a developer to find himself working at
                     any given time on multiple different, distinct changes to a
                     particular bit of source code.  This isn't necessarily due to
                     poor planning or some form of digital masochism.  A software
                     engineer often spots bugs in his peripheral vision while working
                     on some nearby chunk of source code.  Or perhaps he's halfway
                     through some large change when he realizes the solution he's
                     working on is best committed as several smaller logical units.
                     Often, these logical units aren't nicely contained in some
                     module, safely separated from other changes.  The units might
                     overlap, modifying different files in the same module, or even
                     modifying different lines in the same file.
            </p>
            <p>Developers can employ various work methodologies
                     to keep these logical changes organized.  Some use
                     separate working copies of the same repository to hold each
                     individual change in progress.  Others might choose to create
                     short-lived feature branches in the repository and use a single
                     working copy that is constantly switched to point to one such
                     branch or another.  Still others use <span class="command"><strong>diff</strong></span> and
                     <span class="command"><strong>patch</strong></span> tools to back up and restore uncommitted
                     changes to and from patch files associated with each change.
                     Each of these methods has its pros and cons, and to a large
                     degree, the details of the changes being made heavily influence
                     the methodology used to distinguish them.
            </p>
            <p>Subversion 1.5 brings a new
                     <em class="firstterm">changelists</em> feature that adds yet
                     another method to the mix.  Changelists are basically arbitrary
                     labels (currently at most one per file) applied to working copy files for the express purpose of
                     associating multiple files together.  Users of many of Google's
                     software offerings are familiar with this concept already.  For
                     example, <a class="ulink" href="http://mail.google.com/" target="_top">Gmail</a>
                     doesn't provide the traditional folders-based email organization
                     mechanism.  In Gmail, you apply arbitrary labels to emails, and
                     multiple emails can be said to be part of the same group if they
                     happen to share a particular label.  Viewing only a group of
                     similarly labeled emails then becomes a simple user interface
                     trick.  Many other Web 2.0 sites have similar
                     mechanisms&#8212;consider the &#8220;<span class="quote">tags</span>&#8221; used by sites
                     such as <a class="ulink" href="http://www.youtube.com/" target="_top">YouTube</a> and
                     <a class="ulink" href="http://www.flickr.com/" target="_top">Flickr</a>,
                     &#8220;<span class="quote">categories</span>&#8221; applied to blog posts, and so on.
                     Folks understand today that organization of data is critical,
                     but that how that data is organized needs to be a flexible
                     concept.  The old files-and-folders paradigm is too rigid for
                     some applications.
            </p>
            <p>Subversion's changelist support allows you to create
                     changelists by applying labels to files you want to be
                     associated with that changelist, remove those labels, and limit
                     the scope of the files on which its subcommands operate to only
                     those bearing a particular label.  In this section, we'll look
                     in detail at how to do these things.
            </p>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.changelists.creating"></a>3.10.1.&nbsp;&#21019;&#24314;&#21644;&#26356;&#26032;&#20462;&#25913;&#21015;&#34920;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>You can create, modify, and delete changelists using the
                          <span class="command"><strong>svn changelist</strong></span> command.  More accurately,
                          you use this command to set or unset the changelist
                          association of a particular working copy file.  A changelist
                          is effectively created the first time you label a file with
                          that changelist; it is deleted when you remove that label from
                          the last file that had it.  Let's examine a usage scenario
                          that demonstrates these concepts.
               </p>
               <p>Harry is fixing some bugs in the calculator application's
                          mathematics logic.  His work leads him to change a couple of
                          files:
               </p><pre class="screen">
$ svn status
M      integer.c
M      mathops.c
$
</pre><p>While testing his bug fix, Harry notices that his changes
                          bring to light a tangentially related bug in the user
                          interface logic found in <code class="filename">button.c</code>.  Harry
                          decides that he'll go ahead and fix that bug, too, as a
                          separate commit from his math fixes.  Now, in a small working
                          copy with only a handful of files and few logical changes,
                          Harry can probably keep his two logical change groupings
                          mentally organized without any problem.  But today he's going
                          to use Subversion's changelists feature as a special favor to
                          the authors of this book.
               </p>
               <p>Harry first creates a changelist and associates with it
                          the two files he's already changed.  He does this by using the
                          <span class="command"><strong>svn changelist</strong></span> command to assign the same
                          arbitrary changelist name to those files:
               </p><pre class="screen">
$ svn changelist math-fixes integer.c mathops.c
Path 'integer.c' is now a member of changelist 'math-fixes'.
Path 'mathops.c' is now a member of changelist 'math-fixes'.
$ svn status

--- Changelist 'math-fixes':
M      integer.c
M      mathops.c
$
</pre><p>&#23601;&#20687;&#20320;&#30475;&#21040;&#30340;&#65292;&#20320;&#30340;<span class="command"><strong>svn status</strong></span>&#21453;&#26144;&#20102;&#26032;&#30340;&#20998;&#32452;&#12290;
               </p>
               <p>Harry now sets off to fix the secondary UI problem.  Since
                          he knows which file he'll be changing, he assigns that path to
                          a changelist, too.  Unfortunately, Harry carelessly assigns this
                          third file to the same changelist as the previous two files:
               </p><pre class="screen">
$ svn changelist math-fixes button.c
Path 'button.c' is now a member of changelist 'math-fixes'.
$ svn status

--- Changelist 'math-fixes':
       button.c
M      integer.c
M      mathops.c
$
</pre><p>Fortunately, Harry catches his mistake.  At this point, he
                          has two options.  He can remove the changelist association
                          from <code class="filename">button.c</code>, and then assign a
                          different changelist name:
               </p><pre class="screen">
$ svn changelist --remove button.c
Path 'button.c' is no longer a member of a changelist.
$ svn changelist ui-fix button.c
Path 'button.c' is now a member of changelist 'ui-fix'.
$
</pre><p>Or, he can skip the removal and just assign a new
                          changelist name.  In this case, Subversion will first warn
                          Harry that <code class="filename">button.c</code> is being removed from
                          the first changelist:
               </p><pre class="screen">
$ svn changelist ui-fix button.c
svn: warning: Removing 'button.c' from changelist 'math-fixes'.
Path 'button.c' is now a member of changelist 'ui-fix'.
$ svn status

--- Changelist 'ui-fix':
       button.c

--- Changelist 'math-fixes':
M      integer.c
M      mathops.c
$
</pre><p>Harry now has two distinct changelists present in his
                          working copy, and <span class="command"><strong>svn status</strong></span> will group its
                          output according to these changelist determinations.  Notice
                          that even though Harry hasn't yet modified
                          <code class="filename">button.c</code>, it still shows up in the output
                          of <span class="command"><strong>svn status</strong></span> as interesting because it has
                          a changelist assignment.  Changelists can be added to and
                          removed from files at any time, regardless of whether they
                          contain local modifications.
               </p>
               <p>Harry now fixes the user interface problem in
                          <code class="filename">button.c</code>.
               </p><pre class="screen">
$ svn status

--- Changelist 'ui-fix':
M      button.c

--- Changelist 'math-fixes':
M      integer.c
M      mathops.c
$
</pre></div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.changelists.asfilters"></a>3.10.2.&nbsp;&#29992;&#20462;&#25913;&#21015;&#34920;&#20316;&#20026;&#25805;&#20316;&#36807;&#28388;&#22120;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>The visual grouping that Harry sees in the output of
                          <span class="command"><strong>svn status</strong></span> as shown in our previous section
                          is nice, but not entirely useful.  The
                          <span class="command"><strong>status</strong></span> command is but one of many
                          operations that he might wish to perform on his working copy.
                          Fortunately, many of Subversion's other operations understand
                          how to operate on changelists via the use of the
                          <code class="option">--changelist</code> option.
               </p>
               <p>When provided with a <code class="option">--changelist</code> option,
                          Subversion commands will limit the scope of their operation to
                          only those files to which a particular changelist name is
                          assigned.  If Harry now wants to see the actual changes he's
                          made to the files in his <code class="literal">math-fixes</code>
                          changelist, he <span class="emphasis"><em>could</em></span> explicitly list only
                          the files that make up that changelist on the <span class="command"><strong>svn
                                diff</strong></span> command line.
               </p><pre class="screen">
$ svn diff integer.c mathops.c
Index: integer.c
===================================================================
--- integer.c	(revision 1157)
+++ integer.c	(working copy)
&#8230;
Index: mathops.c
===================================================================
--- mathops.c	(revision 1157)
+++ mathops.c	(working copy)
&#8230;
$
</pre><p>That works okay for a few files, but what if Harry's
                          change touched 20 or 30 files?  That would be an annoyingly
                          long list of explicitly named files.  Now that he's using
                          changelists, though, Harry can avoid explicitly listing the
                          set of files in his changelist from now on, and instead
                          provide just the changelist name:
               </p><pre class="screen">
$ svn diff --changelist math-fixes
Index: integer.c
===================================================================
--- integer.c	(revision 1157)
+++ integer.c	(working copy)
&#8230;
Index: mathops.c
===================================================================
--- mathops.c	(revision 1157)
+++ mathops.c	(working copy)
&#8230;
$
</pre><p>And when it's time to commit, Harry can again use the
                          <code class="option">--changelist</code> option to limit the scope of the
                          commit to files in a certain changelist.  He might commit his
                          user interface fix by doing the following:
               </p><pre class="screen">
$ svn ci -m "Fix a UI bug found while working on math logic." \
      --changelist ui-fix
Sending        button.c
Transmitting file data .
Committed revision 1158.
$
</pre><p>In fact, the <span class="command"><strong>svn commit</strong></span> command
                          provides a second changelists-related option:
                          <code class="option">--keep-changelists</code>.  Normally, changelist
                          assignments are removed from files after they are committed.
                          But if <code class="option">--keep-changelists</code> is provided,
                          Subversion will leave the changelist assignment on the
                          committed (and now unmodified) files.  In any case, committing
                          files assigned to one changelist leaves other changelists
                          undisturbed.
               </p><pre class="screen">
$ svn status

--- Changelist 'math-fixes':
M      integer.c
M      mathops.c
$
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Note">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td>
                        <th align="left">&#27880;&#24847;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>The <code class="option">--changelist</code> option acts only as a
                                        filter for Subversion command targets, and will not add
                                        targets to an operation.  For example, on a commit operation
                                        specified as <strong class="userinput"><code>svn commit /path/to/dir</code></strong>, the
                                        target is the directory <code class="filename">/path/to/dir</code>
                                        and its children (to infinite depth).  If you then add a
                                        changelist specifier to that command, only those files in
                                        and under <code class="filename">/path/to/dir</code> that are
                                        assigned that changelist name will be considered as targets
                                        of the commit&#8212;the commit will not include files
                                        located elsewhere (such is in
                                        <code class="filename">/path/to/another-dir</code>), regardless of
                                        their changelist assignment, even if they are part of the
                                        same working copy as the operation's target(s).
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <p>Even the <span class="command"><strong>svn changelist</strong></span> command accepts
                          the <code class="option">--changelist</code> option.  This allows you to
                          quickly and easily rename or remove a changelist:
               </p><pre class="screen">
$ svn changelist math-bugs --changelist math-fixes --depth infinity .
svn: warning: Removing 'integer.c' from changelist 'math-fixes'.
Path 'integer.c' is now a member of changelist 'math-bugs'.
svn: warning: Removing 'mathops.c' from changelist 'math-fixes'.
Path 'mathops.c' is now a member of changelist 'math-bugs'.
$ svn changelist --remove --changelist math-bugs --depth infinity .
Path 'integer.c' is no longer a member of a changelist.
Path 'mathops.c' is no longer a member of a changelist.
$
</pre><p>Finally, you can specify multiple instances of the
                          <code class="option">--changelist</code> option on a single command
                          line.  Doing so limits the operation you are performing to
                          files found in any of the specified changesets.
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.advanced.changelists.limitations"></a>3.10.3.&nbsp;&#20462;&#25913;&#21015;&#34920;&#30340;&#38480;&#21046;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>Subversion's changelist feature is a handy tool for
                          grouping working copy files, but it does have a few limitations.
                          Changelists are artifacts of a particular working copy, which
                          means that changelist assignments cannot be propagated to the
                          repository or otherwise shared with other users.  Changelists
                          can be assigned only to files&#8212;Subversion doesn't
                          currently support the use of changelists with directories.
                          Finally, you can have at most one changelist assignment on a
                          given working copy file.  Here is where the blog post category
                          and photo service tag analogies break down&#8212;if you find
                          yourself needing to assign a file to multiple changelists,
                          you're out of luck.
               </p>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.serverconfig.netmodel"></a>3.11.&nbsp;&#32593;&#32476;&#27169;&#22411;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#20320;&#38656;&#35201;&#29702;&#35299;Subversion&#23458;&#25143;&#31471;&#22914;&#20309;&#19982;&#26381;&#21153;&#22120;&#36890;&#35759;&#12290;Subversion&#32593;&#32476;&#23618;&#26159;&#25277;&#35937;&#30340;&#65292;&#24847;&#21619;&#30528;Subversion&#23458;&#25143;&#31471;&#19981;&#31649;&#20854;&#25805;&#20316;&#30340;&#23545;&#35937;&#37117;&#20250;&#20351;&#29992;&#30456;&#21516;&#30340;&#34892;&#20026;&#26041;&#24335;&#65292;&#19981;&#31649;&#26159;&#20351;&#29992;HTTP&#21327;&#35758;(<code class="literal">http://</code>)&#19982;Apache HTTP&#26381;&#21153;&#22120;&#36890;&#35759;&#25110;&#26159;&#20351;&#29992;&#33258;&#23450;&#20041;Subversion&#21327;&#35758;(<code class="literal">svn://</code>)&#19982;<span class="command"><strong>svnserve</strong></span>&#36890;&#35759;&#65292;&#22522;&#26412;&#30340;&#32593;&#32476;&#27169;&#22411;&#26159;&#30456;&#21516;&#30340;&#12290;&#22312;&#26412;&#23567;&#33410;&#65292;&#25105;&#20204;&#35201;&#35299;&#37322;&#32593;&#32476;&#27169;&#22411;&#22522;&#30784;&#65292;&#21253;&#25324;Subversion&#22914;&#20309;&#31649;&#29702;&#35748;&#35777;&#21644;&#25480;&#26435;&#20449;&#24687;&#12290;
            </p>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.serverconfig.netmodel.reqresp"></a>3.11.1.&nbsp;&#35831;&#27714;&#21644;&#21709;&#24212;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>The Subversion client spends most of its time managing
                          working copies.  When it needs information from a remote
                          repository, however, it makes a network request, and the
                          server responds with an appropriate answer.  The details of
                          the network protocol are hidden from the user&#8212;the client
                          attempts to access a URL, and depending on the URL scheme, a
                          particular protocol is used to contact the server (see the sidebar <a class="xref" href="svn.basic.html#svn.basic.in-action.wc.sb-1" title="&#29256;&#26412;&#24211;&#30340; URL">&#29256;&#26412;&#24211;&#30340; URL</a>).
               </p>
               <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Tip">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#25552;&#31034;]" src="images/tip.png"></td>
                        <th align="left">&#25552;&#31034;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>Run <strong class="userinput"><code>svn --version</code></strong> to see
                                      which URL schemes and protocols the client knows how to
                                      use.
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <p>When the server process receives a client request, it
                          often demands that the client identify itself.  It issues
                          an authentication challenge to the client, and the client
                          responds by providing <em class="firstterm">credentials</em> back
                          to the server.  Once authentication is complete, the server
                          responds with the original information that the client asked for.
                          Notice that this system is different from systems such as CVS,
                          where the client preemptively offers credentials (&#8220;<span class="quote">logs
                             in</span>&#8221;) to the server before ever making a request.  In
                          Subversion, the server &#8220;<span class="quote">pulls</span>&#8221; credentials by
                          challenging the client at the appropriate moment, rather than
                          the client &#8220;<span class="quote">pushing</span>&#8221; them.  This makes certain
                          operations more elegant.  For example, if a server is
                          configured to allow anyone in the world to read a repository,
                          the server will never issue an authentication challenge
                          when a client attempts to <span class="command"><strong>svn checkout</strong></span>.
               </p>
               <p>If the particular network requests issued by the client
                          result in a new revision being created in the repository
                          (e.g., <span class="command"><strong>svn commit</strong></span>), Subversion uses the
                          authenticated username associated with those requests as the
                          author of the revision.  That is, the authenticated user's
                          name is stored as the value of the
                          <code class="literal">svn:author</code> property on the new revision
                          (see <a class="xref" href="svn.ref.html#svn.ref.properties" title="9.10.&nbsp;Subversion &#23646;&#24615;">&#31532;&nbsp;9.10&nbsp;&#33410; &#8220;Subversion &#23646;&#24615;&#8221;</a>).  If
                          the client was not authenticated (i.e., if the server
                          never issued an authentication challenge), the revision's
                          <code class="literal">svn:author</code> property is empty.
                        
               </p>
            </div>
            <div class="sect2" lang="zh-cn">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="svn.serverconfig.netmodel.credcache"></a>3.11.2.&nbsp;&#23458;&#25143;&#31471;&#20973;&#35777;&#32531;&#23384;
                        </h3>
                     </div>
                  </div>
               </div>
               <p>Many servers are configured to require authentication on
                          every request.  This would be a big annoyance to users if
                          they were forced to type their passwords over and over again.
                          Fortunately, the Subversion client has a remedy for
                          this&#8212;a built-in system for caching authentication
                          credentials on disk.  By default, whenever the command-line
                          client successfully responds to a server's authentication
                          challenge, credentials are cached on disk and keyed on a
                          combination of the server's hostname, port, and authentication
                          realm.
               </p>
               <p>When the client receives an authentication challenge, it
                          first looks for the appropriate credentials in the user's disk
                          cache.  If seemingly suitable credentials are not present, or
                          if the cached credentials ultimately fail to authenticate,
                          the client will, by default, fall back to prompting the
                          user for the necessary information.
               </p>
               <p>&#21313;&#20998;&#20851;&#24515;&#23433;&#20840;&#30340;&#20154;&#20204;&#19968;&#23450;&#20250;&#24819;&#8220;<span class="quote">&#25226;&#23494;&#30721;&#32531;&#23384;&#22312;&#30913;&#30424;&#65311;&#22826;&#21487;&#24597;&#20102;&#65292;&#27704;&#36828;&#19981;&#35201;&#36825;&#26679;&#20570;&#65281;</span>&#8221;
               </p>
               <p>Subversion&#24320;&#21457;&#32773;&#35748;&#35782;&#21040;&#36825;&#31181;&#20851;&#27880;&#30340;&#27491;&#30830;&#24615;&#65292;&#25152;&#20197;Subversion&#20351;&#29992;&#25805;&#20316;&#31995;&#32479;&#21644;&#29615;&#22659;&#25552;&#20379;&#30340;&#26426;&#21046;&#26469;&#20943;&#23569;&#27844;&#38706;&#36825;&#20123;&#20449;&#24687;&#30340;&#39118;&#38505;&#65292;&#19979;&#38754;&#26159;&#22312;&#22823;&#22810;&#25968;&#24179;&#21488;&#19978;&#36825;&#31181;&#21547;&#20041;&#30340;&#21015;&#34920;&#65306;</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>On Windows, the Subversion client stores passwords
                                       in the <code class="filename">%APPDATA%/Subversion/auth/</code>
                                       directory. On Windows 2000 and later, the standard Windows
                                       cryptography services are used to encrypt the password
                                       on disk.  Because the encryption key is managed
                                       by Windows and is tied to the user's own login
                                       credentials, only the user can decrypt the cached
                                       password.  (Note that if the user's Windows account password
                                       is reset by an administrator, all of the cached passwords
                                       become undecipherable.  The Subversion client will behave
                                       as though they don't exist, prompting for passwords when
                                       required.)
                        </p>
                     </li>
                     <li>
                        <p>Similarly, on Mac OS X, the Subversion client stores
                                       all repository passwords in the login keyring (managed by
                                       the Keychain service), which is protected by the user's
                                       account password.  User preference settings can impose
                                       additional policies, such as requiring that the user's account
                                       password be entered each time the Subversion password is
                                       used.
                        </p>
                     </li>
                     <li>
                        <p>For other Unix-like operating systems, no standard
                                       &#8220;<span class="quote">keychain</span>&#8221; services exist.  However, the
                                       Subversion client knows how to store password securely
                                       using the &#8220;<span class="quote">GNOME Keyring</span>&#8221; and
                                       &#8220;<span class="quote">KDE Wallet</span>&#8221; services.
                                       Also, before storing unencrypted passwords in the
                                       <code class="filename">~/.subversion/auth/</code> caching area,
                                       the Subversion client will ask the user for permission
                                       to do so.  Note that the <code class="filename">auth/</code>
                                       caching area is still permission-protected so that only
                                       the user (owner) can read data from it, not the world at
                                       large.  The operating system's own file permissions protect
                                       the passwords from other non-administrative users on the
                                       same system, provided they have no direct physical access
                                       to the storage media of the home directory, or backups
                                       thereof.
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Of course, for the truly paranoid, none of these
                          mechanisms meets the test of perfection.  So for those folks
                          willing to sacrifice convenience for the ultimate in security,
                          Subversion provides various ways of disabling its credentials
                          caching system altogether.
               </p>
               <p>&#20320;&#21487;&#20197;&#20851;&#38381;&#20973;&#35777;&#32531;&#23384;&#65292;&#21482;&#38656;&#35201;&#19968;&#20010;&#31616;&#21333;&#30340;&#21629;&#20196;&#65292;&#20351;&#29992;&#21442;&#25968;<code class="option">--no-auth-cache</code>&#65306;
               </p><pre class="screen">
$ svn commit -F log_msg.txt --no-auth-cache
Authentication realm: &lt;svn://host.example.com:3690&gt; example realm
Username:  joe
Password for 'joe':

Adding         newfile
Transmitting file data .
Committed revision 2324.

# password was not cached, so a second commit still prompts us

$ svn delete newfile
$ svn commit -F new_msg.txt
Authentication realm: &lt;svn://host.example.com:3690&gt; example realm
Username:  joe
&#8230;
</pre><p>&#25110;&#35768;&#65292;&#20320;&#24076;&#26395;&#27704;&#36828;&#20851;&#38381;&#20973;&#35777;&#32531;&#23384;&#65292;&#20320;&#21487;&#20197;&#32534;&#36753;&#20320;&#30340;&#36816;&#34892;&#36816;&#34892;&#37197;&#32622;&#21306;&#30340;<code class="filename">config</code>&#25991;&#20214;&#65292;&#21482;&#38656;&#35201;&#25226;<code class="literal">store-auth-creds</code>&#35774;&#32622;&#20026;<code class="literal">no</code>&#65292;&#36825;&#26679;&#22312;&#24433;&#21709;&#30340;&#20027;&#26426;&#19978;&#30340;Subversion&#25805;&#20316;&#23601;&#19981;&#20250;&#26377;&#20973;&#35777;&#32531;&#23384;&#22312;&#30913;&#30424;&#12290;&#36890;&#36807;&#20462;&#25913;&#31995;&#32479;&#32423;&#30340;&#36816;&#34892;&#37197;&#32622;&#21306;&#65292;&#36825;&#20010;&#21151;&#33021;&#20063;&#20250;&#24433;&#21709;&#21040;&#26412;&#26426;&#30340;&#25152;&#26377;&#29992;&#25143;(&#35814;&#32454;&#20869;&#23481;&#35265;<a class="xref" href="svn.customization.html#svn.advanced.confarea.layout" title="7.1.1.&nbsp;&#37197;&#32622;&#21306;&#24067;&#23616;">&#31532;&nbsp;7.1.1&nbsp;&#33410; &#8220;&#37197;&#32622;&#21306;&#24067;&#23616;&#8221;</a>)&#12290;
               </p><pre class="screen">
[auth]
store-auth-creds = no
</pre><p>&#26377;&#26102;&#20505;&#65292;&#29992;&#25143;&#24076;&#26395;&#20174;&#30913;&#30424;&#32531;&#23384;&#21024;&#38500;&#29305;&#23450;&#30340;&#20973;&#35777;&#65292;&#20026;&#27492;&#20320;&#21487;&#20197;&#27983;&#35272;&#21040;<code class="filename">auth/</code>&#21306;&#22495;&#65292;&#21024;&#38500;&#29305;&#23450;&#30340;&#32531;&#23384;&#25991;&#20214;&#65292;&#20973;&#35777;&#37117;&#26159;&#20316;&#20026;&#19968;&#20010;&#21333;&#29420;&#30340;&#25991;&#20214;&#32531;&#23384;&#65292;&#22914;&#26524;&#20320;&#25171;&#24320;&#27599;&#19968;&#20010;&#25991;&#20214;&#65292;&#20320;&#20250;&#30475;&#21040;&#38190;&#21644;&#20540;&#65292;<code class="literal">svn:realmstring</code>&#25551;&#36848;&#20102;&#36825;&#20010;&#25991;&#20214;&#20851;&#32852;&#30340;&#29305;&#23450;&#26381;&#21153;&#22120;&#30340;&#22495;&#65306;
               </p><pre class="screen">
$ ls ~/.subversion/auth/svn.simple/
5671adf2865e267db74f09ba6f872c28
3893ed123b39500bca8a0b382839198e
5c3c22968347b390f349ff340196ed39

$ cat ~/.subversion/auth/svn.simple/5671adf2865e267db74f09ba6f872c28

K 8
username
V 3
joe
K 8
password
V 4
blah
K 15
svn:realmstring
V 45
&lt;https://svn.domain.com:443&gt; Joe's repository
END
</pre><p>&#19968;&#26086;&#20320;&#23450;&#20301;&#20102;&#27491;&#30830;&#30340;&#32531;&#23384;&#25991;&#20214;&#65292;&#21482;&#38656;&#35201;&#21024;&#38500;&#23427;&#12290;</p>
               <p>One last word about <span class="command"><strong>svn</strong></span>'s
                          authentication behavior, specifically regarding the
                          <code class="option">--username</code> and <code class="option">--password</code>
                          options.  Many client subcommands accept these options, but it
                          is important to understand that using these options does
                          <span class="emphasis"><em>not</em></span> automatically send credentials to the
                          server.  As discussed earlier, the server &#8220;<span class="quote">pulls</span>&#8221;
                          credentials from the client when it deems necessary; the
                          client cannot &#8220;<span class="quote">push</span>&#8221; them at will.  If a username
                          and/or password are passed as options, they will be
                          presented to the server only if the server requests them.  These
                          options are typically used to authenticate as a different user
                          than Subversion would have chosen by default (such as your
                          system login name) or when trying to avoid interactive
                          prompting (such as when calling <span class="command"><strong>svn</strong></span> from a
                          script).
               </p>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <table border="0" summary="Note">
                     <tr>
                        <td rowspan="2" align="center" valign="top" width="25"><img alt="[&#27880;&#24847;]" src="images/note.png"></td>
                        <th align="left">&#27880;&#24847;</th>
                     </tr>
                     <tr>
                        <td align="left" valign="top">
                           <p>A common mistake is to misconfigure a server so
                                        that it never issues an authentication challenge.  When
                                        users pass <code class="option">--username</code> and
                                        <code class="option">--password</code> options to the client, they're
                                        surprised to see that they're never used; that is, new
                                        revisions still appear to have been committed
                                        anonymously!
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <p>&#36825;&#37324;&#26159;Subversion&#23458;&#25143;&#31471;&#22312;&#25910;&#21040;&#35748;&#35777;&#35831;&#27714;&#30340;&#26102;&#20505;&#30340;&#34892;&#20026;&#26041;&#24335;&#26368;&#32456;&#24635;&#32467;&#65306;</p>
               <div class="orderedlist">
                  <ol type="1">
                     <li>
                        <p>&#39318;&#20808;&#65292;&#26816;&#26597;&#29992;&#25143;&#26159;&#21542;&#36890;&#36807;&#21629;&#20196;&#36873;&#39033;(<code class="option">--username</code>&#21644;/&#25110;<code class="option">--password</code>)&#25351;&#23450;&#20102;&#20219;&#20309;&#20973;&#35777;&#20449;&#24687;&#65292;&#22914;&#26524;&#27809;&#26377;&#65292;&#25110;&#32773;&#36825;&#20123;&#36873;&#39033;&#27809;&#26377;&#35748;&#35777;&#25104;&#21151;&#65292;&#28982;&#21518;
                        </p>
                     </li>
                     <li>
                        <p>If no command-line credentials were provided, or the
                                       provided ones were invalid, the client looks up the server's
                                       hostname, port, and realm in the runtime configuration's
                                       <code class="filename">auth/</code> area, to see whether appropriate 
                                       credentials are cached there.  If so, it attempts to use
                                       those credentials to authenticate.
                        </p>
                     </li>
                     <li>
                        <p>&#26368;&#32456;&#65292;&#22914;&#26524;&#21069;&#19968;&#31181;&#26426;&#21046;&#26410;&#33021;&#22815;&#20026;&#26381;&#21153;&#22120;&#25104;&#21151;&#35748;&#35777;&#29992;&#25143;&#65292;&#23458;&#25143;&#31471;&#36820;&#22238;&#24182;&#25552;&#31034;&#29992;&#25143;&#36755;&#20837;&#27491;&#30830;&#30340;&#20973;&#35777;(&#38500;&#38750;&#20351;&#29992;<code class="option">--non-interactive</code>&#36873;&#39033;&#25110;&#23458;&#25143;&#31471;&#23545;&#31561;&#30340;&#26041;&#24335;)&#12290;
                        </p>
                     </li>
                  </ol>
               </div>
               <p>&#22914;&#26524;&#23458;&#25143;&#31471;&#36890;&#36807;&#20197;&#19978;&#30340;&#20219;&#20309;&#19968;&#31181;&#26041;&#24335;&#25104;&#21151;&#35748;&#35777;&#65292;&#23427;&#20250;&#23581;&#35797;&#22312;&#30913;&#30424;&#32531;&#23384;&#20973;&#35777;(&#38500;&#38750;&#29992;&#25143;&#24050;&#32463;&#20851;&#38381;&#20102;&#36825;&#31181;&#34892;&#20026;&#26041;&#24335;&#65292;&#22312;&#21069;&#38754;&#25552;&#21040;&#36807;&#12290;)</p>
            </div>
         </div>
         <div class="sect1" lang="zh-cn">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="svn.advanced.summary"></a>3.12.&nbsp;&#24635;&#32467;
                     </h2>
                  </div>
               </div>
            </div>
            <p>After reading this chapter, you should have a firm grasp on
                     some of Subversion's features that, while perhaps not used
                     <span class="emphasis"><em>every</em></span> time you interact with your version
                     control system, are certainly handy to know about.  But don't
                     stop here!  Read on to the following chapter, where you'll learn
                     about branches, tags, and merging.  Then you'll have nearly full
                     mastery of the Subversion client.  Though our lawyers won't
                     allow us to promise you anything, this additional knowledge
                     could make you measurably more cool.
                     <sup>[<a name="d0e6516" href="#ftn.d0e6516" class="footnote">19</a>]</sup>
                   
            </p>
         </div>
         <div class="footnotes"><br><hr width="100" align="left">
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e3898" href="#d0e3898" class="para">8</a>] </sup>&#22914;&#26524;&#20320;&#29087;&#24713;XML&#65292;&#20854;&#23454;&#36825;&#23601;&#26159;XML&#30340;"Name"&#35821;&#27861;&#30340;ASCII&#23376;&#38598;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e3983" href="#d0e3983" class="para">9</a>] </sup>&#20462;&#27491;&#25552;&#20132;&#26085;&#24535;&#20449;&#24687;&#30340;&#25340;&#20889;&#38169;&#35823;&#65292;&#25991;&#27861;&#38169;&#35823;&#21644;&#8220;<span class="quote">&#31616;&#21333;&#30340;&#38169;&#35823;</span>&#8221;&#26159;<code class="option">--revprop</code>&#36873;&#39033;&#26368;&#24120;&#35265;&#29992;&#20363;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e4224" href="#d0e4224" class="para">10</a>] </sup>&#20320;&#35748;&#20026;&#37027;&#26679;&#36807;&#20110;&#31895;&#29378;&#65311;&#22312;&#21516;&#19968;&#20010;&#26102;&#20195;&#37324;&#65292;WordPerfect&#20063;&#20351;&#29992;<code class="filename">.DOC</code>&#20316;&#20026;&#23427;&#20204;&#31169;&#26377;&#25991;&#20214;&#26684;&#24335;&#30340;&#25193;&#23637;&#21517;&#65281;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e4285" href="#d0e4285" class="para">11</a>] </sup>Windows&#25991;&#20214;&#31995;&#32479;&#20351;&#29992;&#25991;&#20214;&#25193;&#23637;&#21517;(&#22914;<code class="literal">.EXE</code>&#12289;<code class="literal">.BAT</code>&#21644;<code class="literal">.COM</code>)&#26469;&#26631;&#31034;&#21487;&#25191;&#34892;&#25991;&#20214;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e4564" href="#d0e4564" class="para">12</a>] </sup>&#36825;&#19981;&#26159;&#32534;&#35793;&#31995;&#32479;&#30340;&#22522;&#26412;&#21151;&#33021;&#21527;&#65311;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e4781" href="#d0e4781" class="para">13</a>] </sup>&#8230; &#25110;&#32773;&#21487;&#33021;&#26159;&#19968;&#26412;&#20070;&#30340;&#19968;&#20010;&#23567;&#33410; &#8230;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e5129" href="#d0e5129" class="para">14</a>] </sup>&#23545;&#20110;Harry&#21644;Sally&#30340;&#22909;&#33713;&#22366;&#21516;&#21517;&#20154;&#26469;&#35828;&#20132;&#27969;&#20063;&#19981;&#26159;&#37027;&#20040;&#24046;&#30340;&#33647;&#65292;&#20063;&#26159;&#20851;&#20110;&#37027;&#19968;&#28857;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e5143" href="#d0e5143" class="para">15</a>] </sup>Subversion&#30446;&#21069;&#19981;&#20801;&#35768;&#38145;&#23450;&#30446;&#24405;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e5554" href="#d0e5554" class="para">16</a>] </sup>&#38500;&#38750;&#26159;&#65292;&#25110;&#35768;&#19968;&#20010;&#32463;&#20856;&#30340;&#28779;&#31070;&#31934;&#31070;&#34701;&#21512;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e5823" href="#d0e5823" class="para">17</a>] </sup>&#8220;<span class="quote">&#20320;&#19981;&#26159;&#34987;&#26399;&#26395;&#21435;&#21629;&#21517;&#23427;&#65292;&#19968;&#26086;&#20320;&#21462;&#20102;&#21517;&#23383;&#65292;&#20320;&#24320;&#22987;&#19982;&#20043;&#32852;&#31995;&#22312;&#19968;&#36215;&#12290;</span>&#8221; &#8212; Mike Wazowski
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e5882" href="#d0e5882" class="para">18</a>] </sup>&#20234;&#21033;&#35834;&#20234;&#24030;&#24800;&#39039;&#20027;&#22823;&#36947;606&#21495;&#24066;&#24800;&#39039;&#31163;&#24066;&#20013;&#24515;&#65292;&#35753;&#23427;&#20316;&#20026;&#24800;&#39039;&#30340;&#8220;<span class="quote">&#21382;&#21490;</span>&#8221;&#20013;&#24515;&#65292;&#30475;&#36215;&#26469;&#26159;&#24688;&#24403;&#30340;&#8230;&#12290;
               </p>
            </div>
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e6516" href="#d0e6516" class="para">19</a>] </sup>No purchase necessary.  Certains terms and conditions
                            apply.  No guarantee of coolness&#8212;implicit or 
                            otherwise&#8212;exists.  Mileage may vary.
               </p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="svn.tour.html">&#19978;&#19968;&#39029;</a>&nbsp;
               </td>
               <td width="20%" align="center">&nbsp;</td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="svn.branchmerge.html">&#19979;&#19968;&#39029;</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">&#31532;&nbsp;2&nbsp;&#31456;&nbsp;&#22522;&#26412;&#20351;&#29992;&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td>
               <td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;4&nbsp;&#31456;&nbsp;&#20998;&#25903;&#19982;&#21512;&#24182;</td>
            </tr>
         </table>
      </div>
   </body>
</html>