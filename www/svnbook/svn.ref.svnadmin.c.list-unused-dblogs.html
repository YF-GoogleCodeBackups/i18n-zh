<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>svnadmin list-unused-dblogs</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_8167"><link rel="home" href="index.html" title="Subversion &#26435;&#23041;&#25351;&#21335;"><link rel="up" href="svn.ref.svnadmin.html#svn.ref.svnadmin.c" title="svnadmin &#23376;&#21629;&#20196;"><link rel="prev" href="svn.ref.svnadmin.c.list-dblogs.html" title="svnadmin list-dblogs"><link rel="next" href="svn.ref.svnadmin.c.load.html" title="svnadmin load"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">svnadmin list-unused-dblogs</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="svn.ref.svnadmin.c.list-dblogs.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">svnadmin &#23376;&#21629;&#20196;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="svn.ref.svnadmin.c.load.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="refentry" lang="zh-cn"><a name="svn.ref.svnadmin.c.list-unused-dblogs"></a><div class="titlepage"></div>
          <a class="indexterm" name="d4e10764"></a>
          <div class="refnamediv"><h2>&#21517;&#31216;</h2><p>
            svnadmin list-unused-dblogs
             &#8212; Ask Berkeley DB which logfiles can be safely
          deleted (applies only to repositories using the
          <code class="literal">bdb</code> backend).
          </p></div>
          <div class="refsection" lang="zh-cn"><a name="d4e10772"></a><h2>&#27010;&#35201;</h2>
            
            <pre class="programlisting">svnadmin list-unused-dblogs REPOS_PATH</pre>
          </div>
          <div class="refsection" lang="zh-cn"><a name="d4e10777"></a><h2>&#25551;&#36848;</h2>
            
            <p>Berkeley DB creates logs of all changes to the
            repository, which allow it to recover in the face of
            catastrophe.  Unless you enable
            <code class="literal">DB_LOG_AUTOREMOVE</code>, the logfiles
            accumulate, although most are no longer used and can be
            deleted to reclaim disk space.  See <a class="xref" href="svn.reposadmin.maint.html#svn.reposadmin.maint.diskspace" title="&#31649;&#29702;&#30913;&#30424;&#31354;&#38388;">&#8220;&#31649;&#29702;&#30913;&#30424;&#31354;&#38388;&#8221;&#19968;&#33410;</a> for more
            information.</p>
          </div>
          <div class="refsection" lang="zh-cn"><a name="d4e10784"></a><h2>&#20363;&#23376;</h2>
            
            <p>Remove all unused logfiles from the repository:</p>
            <pre class="screen">
$ svnadmin list-unused-dblogs /var/svn/repos
/var/svn/repos/log.0000000031
/var/svn/repos/log.0000000032
/var/svn/repos/log.0000000033

$ svnadmin list-unused-dblogs /var/svn/repos | xargs rm
## disk space reclaimed!
</pre>
          </div>
        </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="svn.ref.svnadmin.c.list-dblogs.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="svn.ref.svnadmin.html#svn.ref.svnadmin.c">&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="svn.ref.svnadmin.c.load.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">svnadmin list-dblogs&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;svnadmin load</td></tr></table></div></body></html>