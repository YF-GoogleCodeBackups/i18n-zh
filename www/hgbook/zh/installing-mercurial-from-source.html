<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>附录 B. 从源代码安装 Mercurial</title>
<link rel="stylesheet" href="hgbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.74.3">
<link rel="home" href="index.html" title="Mercurial 权威指南">
<link rel="up" href="index.html" title="Mercurial 权威指南">
<link rel="prev" href="mercurial-queues-reference.html" title="附录 A. Mercurial 队列参考">
<link rel="next" href="open-publication-license.html" title="附录 C. Open Publication License">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">附录 B. 从源代码安装 Mercurial</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="mercurial-queues-reference.html">上一页</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="open-publication-license.html">下一页</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="appendix" lang="zh">
<div class="titlepage"><div><div><h2 class="title">
<a name="chap:srcinstall"></a>附录 B. 从源代码安装 Mercurial</h2></div></div></div>
<div class="toc">
<p><b>目录</b></p>
<dl>
<dt><span class="sect1"><a href="installing-mercurial-from-source.html#sec:srcinstall:unixlike">B.1. 类 Unix 系统</a></span></dt>
<dt><span class="sect1"><a href="installing-mercurial-from-source.html#id547440">B.2. Windows 系统</a></span></dt>
</dl>
</div>
<div class="sect1" lang="zh">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="sec:srcinstall:unixlike"></a>B.1. 类 Unix 系统</h2></div></div></div>
<p><a name="x_5e0"></a>If you are using a Unix-like system that has a sufficiently recent version
of Python (2.3 or newer) available, it is easy to install Mercurial from
source.</p>
<div class="orderedlist"><ol type="1">
<li><p><a name="x_5e1"></a>Download a recent source tarball from <a class="ulink" href="http://www.selenic.com/mercurial/download" target="_top">http://www.selenic.com/mercurial/download</a>.</p></li>
<li>
<p><a name="x_5e2"></a>Unpack the tarball:</p>
<pre class="programlisting">gzip -dc mercurial-MYVERSION.tar.gz | tar xf -</pre>
</li>
<li>
<p><a name="x_5e3"></a>Go into the source directory and run the installer script.  This will build
Mercurial and install it in your home directory.</p>
<pre class="programlisting">cd mercurial-MYVERSION
python setup.py install --force --home=$HOME</pre>
</li>
</ol></div>
<p><a name="x_5e4"></a>Once the install finishes, Mercurial will be in the <code class="literal">bin</code>
subdirectory of your home directory.  Don't forget to make sure that this
directory is present in your shell's search path.</p>
<p><a name="x_5e5"></a>You will probably need to set the <code class="envar">PYTHONPATH</code> environment
variable so that the Mercurial executable can find the rest of the Mercurial
packages.  For example, on my laptop, I have set it to
<code class="literal">/home/bos/lib/python</code>.  The exact path that you will need
to use depends on how Python was built for your system, but should be easy
to figure out.  If you're uncertain, look through the output of the
installer script above, and see where the contents of the
<code class="literal">mercurial</code> directory were installed to.</p>
</div>
<div class="sect1" lang="zh">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id547440"></a>B.2. Windows 系统</h2></div></div></div>
<p><a name="x_5e6"></a>Building and installing Mercurial on Windows requires a variety of tools, a
fair amount of technical knowledge, and considerable patience.  I very much
<span class="emphasis"><em>do not recommend</em></span> this route if you are a “<span class="quote">casual
user</span>”.  Unless you intend to hack on Mercurial, I strongly suggest
that you use a binary package instead.</p>
<p><a name="x_5e7"></a>If you are intent on building Mercurial from source on Windows, follow the
“<span class="quote">hard way</span>” directions on the Mercurial wiki at <a class="ulink" href="http://www.selenic.com/mercurial/wiki/index.cgi/WindowsInstall" target="_top">http://www.selenic.com/mercurial/wiki/index.cgi/WindowsInstall</a>,
and expect the process to involve a lot of fiddly work.</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="mercurial-queues-reference.html">上一页</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="open-publication-license.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">附录 A. Mercurial 队列参考 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 附录 C. Open Publication License</td>
</tr>
</table>
</div>
</body>
</html>
