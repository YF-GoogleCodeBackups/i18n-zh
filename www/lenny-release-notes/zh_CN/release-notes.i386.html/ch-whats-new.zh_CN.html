<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第 2 章 Debian GNU/Linux 5.0 有什么新东西</title><link rel="stylesheet" href="debian.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="start" href="index.zh_CN.html" title="Debian GNU/Linux 5.0 (&quot;lenny&quot;), Intel x86 的发行注记" /><link rel="up" href="index.zh_CN.html" title="Debian GNU/Linux 5.0 (&quot;lenny&quot;), Intel x86 的发行注记" /><link rel="prev" href="ch-about.zh_CN.html" title="第 1 章 简介" /><link rel="next" href="ch-installing.zh_CN.html" title="第 3 章 安装系统" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 2 章 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 5.0 有什么新东西</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-about.zh_CN.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch-installing.zh_CN.html">下一页</a></td></tr></table><hr /></div><div class="chapter" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="ch-whats-new"></a>第 2 章 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 5.0 有什么新东西</h2></div></div></div><div class="toc"><p><b>目录</b></p><dl><dt><span class="section"><a href="ch-whats-new.zh_CN.html#newdistro">2.1. 这次发布中有什么新东西？</a></span></dt><dd><dl><dt><span class="section"><a href="ch-whats-new.zh_CN.html#pkgmgmt">2.1.1. 包管理</a></span></dt><dt><span class="section"><a href="ch-whats-new.zh_CN.html#backports.org">2.1.2. backports.org/backports.debian.org</a></span></dt></dl></dd><dt><span class="section"><a href="ch-whats-new.zh_CN.html#system-changes">2.2. 系统改进</a></span></dt><dt><span class="section"><a href="ch-whats-new.zh_CN.html#kernel-changes">2.3. 内核相关的主要变化</a></span></dt><dd><dl><dt><span class="section"><a href="ch-whats-new.zh_CN.html#kernel-packaging">2.3.1. 内核打包的变化</a></span></dt><dt><span class="section"><a href="ch-whats-new.zh_CN.html#kernel-initrd">2.3.2. 使用新工具生成 initrds</a></span></dt></dl></dd><dt><span class="section"><a href="ch-whats-new.zh_CN.html#emdebian">2.4. Emdebian 1.0(基于 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux
lenny 5.0)</a></span></dt></dl></div><p>
<a class="ulink" href="http://wiki.debian.org/NewInLenny" target="_top">Wiki</a> 有更多关于这个主题的信息。
</p><p>
这个版本中加入了对 ARM EABI (armel) 的官方支持。
</p><p>
下面是 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux lenny 官方支持的架构：
</p><div class="itemizedlist"><ul type="disc"><li><p>
Intel x86 ('i386')
</p></li><li><p>
Alpha ('alpha')
</p></li><li><p>
SPARC ('sparc')
</p></li><li><p>
PowerPC ('powerpc')
</p></li><li><p>
ARM ('arm')
</p></li><li><p>
MIPS ('mips' (big-endian) and 'mipsel' (little-endian))
</p></li><li><p>
Intel Itanium ('ia64')
</p></li><li><p>
HP PA-RISC ('hppa')
</p></li><li><p>
S/390 ('s390')
</p></li><li><p>
AMD64 ('amd64')
</p></li><li><p>
ARM EABI ('armel')
</p></li></ul></div><p>
您可以在 <a class="ulink" href="http://www.debian.org/ports/" target="_top">Debian 移植页面</a>，读到更多的关于您的架构的移植状态和移植细节的信息。
</p><pre class="programlisting">
TODO:
- 在 lenny 中支持 EEE PC
- openJDK(有希望) 在 lenny 中被支持
- freeBSD 移植在 lenny 中还没有准备好，但处于良好状态
</pre><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="newdistro"></a>2.1. 这次发布中有什么新东西？</h2></div></div></div><pre class="programlisting">
 TODO: Numbers need to be reviewed, these values have been obtained
     using the changes-release.pl script found under ../
     DONE for lenny release
</pre><p>
Debian 的这次发行再次带来了比它前个发行版本 etch 更多的软件；包括 7700 个新软件包，共计
23200 个。 在这个发行版中，多数软件包得到了更新：有 13400 个(占
etch 软件包总数的
72%)。而且，由于各种原因，有相当数量的软件包(3100 个，占
etch 软件包总数的 17%)
从这次发行中被删除了。您将会看不到这些包有任何更新，而且在包管理软件中它们会被标记为“过时的”。
</p><p>
在这次发行中，Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 从 X.Org 7.1 更新到 X.Org 7.3。
</p><p>
  Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 再次与几个桌面程序和环境一起发布。和其它发行版一样，它现在包含
GNOME<a id="id290273" class="indexterm"></a> 2.22 桌面环境。<sup>[<a id="id290280" href="#ftn.id290280" class="footnote">1</a>]</sup>, KDE<a id="id290285" class="indexterm"></a> 3.5.9，以及
Xfce<a id="id290292" class="indexterm"></a>
4.4.2。还有一些能提高生产力的软件，包含办公室套件
OpenOffice.org<a id="id290300" class="indexterm"></a>
2.4.1，KOffice<a id="id290306" class="indexterm"></a>
1.6.3，GNUcash<a id="id290312" class="indexterm"></a>
2.2.6，GNUmeric<a id="id290318" class="indexterm"></a> 1.8.3，以及
Abiword<a id="id290325" class="indexterm"></a> 2.6.4。
</p><p>
  其它的桌面应用程序也被更新了，包含
Evolution<a id="id290336" class="indexterm"></a> 2.22.3 和
Pidgin<a id="id290342" class="indexterm"></a> 2.4.3 (即以前的
Gaim<a id="id290349" class="indexterm"></a>)。Mozilla<a id="id290355" class="indexterm"></a>
家族也被更新了：<code class="systemitem">iceweasel<a id="id290368" class="indexterm"></a></code>(3.0.3
版)是无商标的
<span class="application">Firefox<a id="id290379" class="indexterm"></a></span>
网页浏览器，<code class="systemitem">icedove<a id="id290392" class="indexterm"></a></code>(2.0.0.17
版)则为无商标的
<span class="application">Thunderbird<a id="id290403" class="indexterm"></a></span>
邮件客户端。
</p><p>
和过去一样，这次发行还包含了以下软件的更新：
</p><div class="informaltable"><table width="100%" border="1"><colgroup><col align="justify" /><col align="justify" /><col align="justify" /></colgroup><thead><tr><th align="justify">软件包</th><th align="justify">在版本 4.0(etch) 中的版本</th><th align="justify">在版本 5.0(lenny) 中的版本</th></tr></thead><tbody><tr><td align="justify"><a id="new-apache2"></a>Apache<a id="id290463" class="indexterm"></a></td><td align="justify">2.2.3</td><td align="justify">2.2.9</td></tr><tr><td align="justify"><a id="new-bind9"></a>BIND<a id="id290484" class="indexterm"></a> <acronym title="域名系统">DNS</acronym>
服务器</td><td align="justify">9.3.4</td><td align="justify">9.5.0</td></tr><tr><td align="justify"><a id="new-courier"></a>Courier<a id="id290508" class="indexterm"></a>
<acronym title="邮件传输代理">MTA</acronym></td><td align="justify">0.53.3</td><td align="justify">0.60.0</td></tr><tr><td align="justify"><a id="new-dia"></a>Dia<a id="id290532" class="indexterm"></a></td><td align="justify">0.95.0</td><td align="justify">0.96.1</td></tr><tr><td align="justify"><a id="new-ekiga"></a>Ekiga<a id="id290552" class="indexterm"></a> VoIP 客户端</td><td align="justify">2.0.3</td><td align="justify">2.0.12</td></tr><tr><td align="justify"><a id="new-exim4"></a>Exim<a id="id290573" class="indexterm"></a> 默认邮件服务器</td><td align="justify">4.63</td><td align="justify">4.69</td></tr><tr><td align="justify"><a id="new-gcc"></a><acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>
编译器套件(默认的编译器)<a id="id290597" class="indexterm"></a></td><td align="justify">4.1.1</td><td align="justify">4.3.2</td></tr><tr><td align="justify"><a id="new-gimp"></a><acronym title="GNU 图像处理程序">GIMP</acronym><a id="id290618" class="indexterm"></a></td><td align="justify">2.2.13</td><td align="justify">2.4.7</td></tr><tr><td align="justify"><a id="new-libc6"></a><acronym title="GNU's Not Unix 的递归缩写">GNU</acronym> C 函数库</td><td align="justify">2.3.6</td><td align="justify">2.7</td></tr><tr><td align="justify"><a id="new-lighttpd"></a>lighttpd</td><td align="justify">1.4.13</td><td align="justify">1.4.19</td></tr><tr><td align="justify"><a id="new-maradns"></a>maradns</td><td align="justify">1.2.12.04</td><td align="justify">1.3.07.09</td></tr><tr><td align="justify"><a id="new-mysql"></a>MySQL<a id="id290684" class="indexterm"></a></td><td align="justify">5.0.32</td><td align="justify">5.0.51a</td></tr><tr><td align="justify"><a id="new-openldap"></a>OpenLDAP</td><td align="justify">2.3.30</td><td align="justify">2.4.11</td></tr><tr><td align="justify"><a id="new-openssh"></a>OpenSSH<a id="id290719" class="indexterm"></a></td><td align="justify">4.3</td><td align="justify">5.1p1</td></tr><tr><td align="justify"><a id="new-php"></a>PHP<a id="id290739" class="indexterm"></a></td><td align="justify">5.2.0</td><td align="justify">5.2.6</td></tr><tr><td align="justify"><a id="new-postfix"></a>Postfix<a id="id290759" class="indexterm"></a>
<acronym title="邮件传输代理">MTA</acronym></td><td align="justify">2.3.8</td><td align="justify">2.5.5</td></tr><tr><td align="justify"><a id="new-postgresql"></a>PostgreSQL<a id="id290782" class="indexterm"></a></td><td align="justify">7.5.22</td><td align="justify">8.3.4</td></tr><tr><td align="justify"><a id="new-python"></a>Python</td><td align="justify">2.4.4</td><td align="justify">2.5.2</td></tr><tr><td align="justify"><a id="new-tomcat"></a>Tomcat<a id="id290817" class="indexterm"></a></td><td align="justify">5.5.20</td><td align="justify">5.5.26</td></tr></tbody></table></div><pre class="programlisting">
TODO: Cherokee
 注意: Roxen4, Boa, 和 thttpd 没有明显的变化
 TODO(JFS): 列出其它服务器软件？RADIUS? Streaming ?
</pre><p>
官方 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 发布有 19 到 23 张二进制光盘(取决于架构)和差不多数量的源代码光盘。 还有 DVD 发布版本。 <span>And Bluray.</span>
</p><p>
Debian 现在支持 Linux 标准基础(<acronym title="Linux 标准基础">LSB</acronym>) 3.2。<a id="id290864" class="indexterm"></a>
</p><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="pkgmgmt"></a>2.1.1. 包管理</h3></div></div></div><pre class="programlisting">
TODO: aptitude 总是比 apt-get 更受欢迎吗？
</pre><p>
<span class="command"><strong>aptitude</strong></span> 是从终端进行包管理的首选软件。<span class="command"><strong>aptitude</strong></span> 支持
<span class="command"><strong>apt-get</strong></span> 的大多数命令行操作并且被证明比 <span class="command"><strong>apt-get</strong></span>
能更好地解决依赖关系。如果您依然在使用 <span class="command"><strong>dselect</strong></span>，您应该把 <code class="systemitem">aptitude</code> 作为正式的包管理前端软件。
</p><p>
对于 lenny 来说， <span class="command"><strong>aptitude</strong></span>
中已经实现了一个高级的冲突解决机制，如果它检测到由于软件包依赖关系变化带来的冲突，它将会尽力找到最好的解决方法。
</p><pre class="programlisting">
TODO:  我们不得不在这里或其它什么地方涉及 dpkg 触发器吗?
</pre></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="backports.org"></a>2.1.2. backports.org/backports.debian.org</h3></div></div></div><p>TODO: 写一些关于 backports.org 变成官方的可能性的东西</p></div></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="system-changes"></a>2.2. 系统改进</h2></div></div></div><p>
这个发行中的某些变化，安装新的 lenny 能够受益，但是可能不会自动应用于 etch 的升级中。
这部分给出大多数相关变化的概述。
</p><div class="variablelist"><dl><dt><span class="term">SELinux 优先级标准，但是不会默认启用</span></dt><dd><p>
支持 SELinux 所需的一些包已经被提升为 <span class="emphasis"><em>标准</em></span> 优先级。
这意味着新安装时它们将会被默认安装。对于已存在的系统，您可以用下述命令安装 SELinux:
</p><pre class="screen">
# aptitude install selinux-basics
</pre><p>
注意对 SELinux 的支持 <span class="emphasis"><em>不</em></span> 是默认启用的。设置和启用 SELinux 的信息可以在 <a class="ulink" href="http://wiki.debian.org/SELinux" target="_top">Debian Wiki</a> 找到。
</p></dd><dt><span class="term">新的默认 inet 超级守护程序</span></dt><dd><p>
lenny 中默认的 inet 超级守护程序是 <code class="systemitem">openbsd-inetd</code>，它替换了 <code class="systemitem">netkit-inetd</code>。默认情况下它没有配置服务，所以不会启用。在升级时新的默认守护程序会被自动安装。
</p></dd><dt><span class="term">新的默认 syslog 守护程序</span></dt><dd><p>
lenny 预设的系统日志服务程序是 <code class="systemitem">rsyslog</code>，它取代了 <code class="systemitem">sysklogd</code>。<code class="systemitem">rsyslog</code> 与 sysklogd 的兼容性很好，可以做到无缝替换。在大多数状况下，可以直接把
<code class="filename">/etc/syslog.conf</code> 复制为
<code class="filename">/etc/rsyslog.conf</code>。
</p><p>
从 etch 升级的用户需要手工安装 <code class="systemitem">rsyslog</code>，删除 <code class="systemitem">sysklogd</code>。在升级到 lenny
的过程中，并不会自动替换系统日志服务程序。
</p></dd><dt><span class="term"><code class="literal">ext2</code>/<code class="literal">ext3</code> 默认特性的变化</span></dt><dd><p>
新的 ext2 和 ext3 文件系统被创建时会默认启用 <span class="emphasis"><em>dir_index</em></span> 和
<span class="emphasis"><em>resize_inode</em></span>
特性。第一个特性能提高操作存放有多个文件的文件夹的速度；第二个特性使文件系统可以在线改变大小(例如：在被挂接时)。
</p><p>
从 etch 升级的用户可以考虑用 <span class="command"><strong>tune2fs</strong></span> 手工添加
<span class="emphasis"><em>dir_index</em></span> 标识 <sup>[<a id="id291158" href="#ftn.id291158" class="footnote">2</a>]</sup>; <span class="emphasis"><em>resize_inode</em></span> 标志不能被添加到已存的文件系统中。可以使用
<code class="literal">dumpe2fs -h</code> 来检查一个文件系统中的哪个标志已被设置。
</p></dd><dt><span class="term">更好地支持 UTF-8</span></dt><dd><p>
许多软件将被设置成默认使用 UTF-8 或比以前更好地支持 UTF-8。请参阅 <a class="ulink" href="http://wiki.debian.org/UTF8BrokenApps" target="_top">http://wiki.debian.org/UTF8BrokenApps</a>，查看仍然有处理
UTF-8 问题的应用程序信息。
</p></dd></dl></div><p>
<a class="ulink" href="http://wiki.debian.org/Etch2LennyUpgrade" target="_top">Debian Wiki</a> 有些关于
etch 和 lenny 之间变化的额外信息。
</p></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="kernel-changes"></a>2.3. 内核相关的主要变化</h2></div></div></div><p>
Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 5.0 对所有架构都使用内核 
			
			
			
			
			<span>2.6.26</span>
			
			
			
			
			
			；不再与 2.4 内核兼容。
</p><p>
内核本身以及内核的 Debian 打包都有较大的变化。一些变化使升级过程变得困难，而且在升级到 lenny
后重启系统时有潜在地问题。这部分给出一个大多数重要变化的概述；在后面的章节中包含有潜在问题的解决方法。
</p><p>
如果您当前使用的是 2.4 内核， 您应该仔细阅读 <a class="xref" href="ch-information.zh_CN.html#upgrade-to-2.6" title="5.2. 升级到 2.6 内核">第 5.2 节 “升级到 2.6 内核”</a> 。
</p><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="kernel-packaging"></a>2.3.1. 内核打包的变化</h3></div></div></div><p>
TODO: 在 Lenny 中还有什么值得提及的吗?
</p><div class="variablelist"><dl><dt><span class="term">内核包已经改名</span></dt><dd><p>
为了清理名称空间，所有的 Linux 内核包的名字从 <code class="literal">kernel-*</code> 改为
<code class="literal">linux-*</code> 。这使将来把非 Linux 内核包含进 Debian 变得更容易。
</p></dd><dt><span class="term">“<span class="quote">386</span>” 特性被 “<span class="quote">486</span>” 替换</span></dt><dd><p>
所有对 80386 处理器的支持被丢弃在 etch中，386 内核的特性现在也被丢弃，并替换为新的 486 特性。
</p></dd><dt><span class="term">标准内核支持 SMP</span></dt><dd><p>
多处理器系统不再需要 <code class="literal">*-smp</code> 特性的 Linux 内核。对于 
		     
		     
		     
		     
		     <span>Intel x86</span>
		     
		     
		     
		     
		     
		     ，无
<code class="literal">-smp</code> 后缀的 <code class="literal">linux-image</code>
包同时支持单处理器和多处理器系统。(一个例外是486 形式的包, 它只支持单处理器。)
</p></dd></dl></div><p>
在可能的情况下，依赖于新软件包的伪过渡包已经被提供，以取代过时的软件包。
</p></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="kernel-initrd"></a>2.3.2. 使用新工具生成 initrds</h3></div></div></div><p>
对于 
		     
		     
		     
		     
		     <span>Intel x86</span>
		     
		     
		     
		     
		     
		      的 Debian 内核镜像包需要一个 initrd 来启动系统。 因为内核中的变化，在 etch
中用来生成 initrds 的工具，<code class="systemitem">initrd-tools</code>
不再被包含。两个新工具被开发出来替代它：<code class="systemitem">initramfs-tools</code>
和 <code class="systemitem">yaird</code> 。新工具的观念非常不同；可以在 <a class="ulink" href="http://wiki.debian.org/InitrdReplacementOptions" target="_top">Debian
Wiki</a>上找到概述。它们两个都将生成一个使用 <span class="emphasis"><em>initramfs</em></span> 文件系统的 initrd
，该文件系统是一个压缩的 <span class="command"><strong>cpio</strong></span> 档案文件。默认和推荐使用的工具是 <code class="systemitem">initramfs-tools</code>。
</p><p>
升级到 lenny 内核将会使 <code class="systemitem">initramfs-tools</code> 被默认安装。如果您是从 2.4 内核升级到 2.6
内核，您必须使用 <code class="systemitem">initramfs-tools</code>。如果您在运行一个
2.2 或 2.4 内核，使用 <code class="systemitem">yaird</code> 将会导致
linux-image-2.6 的安装失败。
</p></div></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="emdebian"></a>2.4. Emdebian<a id="id291484" class="indexterm"></a> 1.0(基于 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux
lenny 5.0)</h2></div></div></div><p>
      Lenny 现在包含 Emdebian 的制作工具。它允许 Debian 源文件包被交叉构建，并且裁剪，以适合嵌入式的 ARM 系统。
    </p><p>
      Emdebian 1.0 发布版包含了已经构建好的 ARM 包，足够为特殊的机器和机器变体创建定制的 root 文件系统。内核和内核模块需要单独提供。对
armel 和 i386 的支持正在开发中。请参加 <a class="ulink" href="http://www.emdebian.org/" target="_top">Emdebian
网页</a> 获得更详细的信息。
    </p></div><div class="footnotes"><br /><hr width="100" align="left" /><div class="footnote"><p><sup>[<a id="ftn.id290280" href="#id290280" class="para">1</a>] </sup> 和一些 GNOME 2.20 的模块。
  </p></div><div class="footnote"><p><sup>[<a id="ftn.id291158" href="#id291158" class="para">2</a>] </sup> <span class="emphasis"><em>filetype</em></span> 标志应该已经在多数文件系统中被设置，除了在 etch
以前安装的系统中可能没有。  </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-about.zh_CN.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch-installing.zh_CN.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">第 1 章 简介 </td><td width="20%" align="center"><a accesskey="h" href="index.zh_CN.html">起始页</a></td><td width="40%" align="right" valign="top"> 第 3 章 安装系统</td></tr></table></div></body></html>
