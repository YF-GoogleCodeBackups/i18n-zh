<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第 2 章 Debian GNU/Linux 5.0 有什么新东西</title><link rel="stylesheet" href="debian.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.zh_CN.html" title="Debian GNU/Linux 5.0 (&quot;lenny&quot;), Intel x86 的发行注记" /><link rel="up" href="index.zh_CN.html" title="Debian GNU/Linux 5.0 (&quot;lenny&quot;), Intel x86 的发行注记" /><link rel="prev" href="ch-about.zh_CN.html" title="第 1 章 引言" /><link rel="next" href="ch-installing.zh_CN.html" title="第 3 章 安装环境" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 2 章 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 5.0 有什么新东西</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-about.zh_CN.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch-installing.zh_CN.html">下一页</a></td></tr></table><hr /></div><div class="chapter" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title"><a id="ch-whats-new"></a>第 2 章 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 5.0 有什么新东西</h2></div></div></div><div class="toc"><p><b>目录</b></p><dl><dt><span class="section"><a href="ch-whats-new.zh_CN.html#newdistro">2.1. 这次发布中有什么新东西？</a></span></dt><dd><dl><dt><span class="section"><a href="ch-whats-new.zh_CN.html#pkgmgmt">2.1.1. 包管理</a></span></dt></dl></dd><dt><span class="section"><a href="ch-whats-new.zh_CN.html#system-changes">2.2. 系统改善</a></span></dt><dt><span class="section"><a href="ch-whats-new.zh_CN.html#kernel-changes">2.3. 内核相关的主要变化</a></span></dt><dd><dl><dt><span class="section"><a href="ch-whats-new.zh_CN.html#kernel-initrd">2.3.1. 新的实用程序来生成 initrds</a></span></dt><dt><span class="section"><a href="ch-whats-new.zh_CN.html#kernel-udev">2.3.2. 动态 <code class="filename">/dev</code> 管理和硬件发现</a></span></dt></dl></dd><dt><span class="section"><a href="ch-whats-new.zh_CN.html#id338960">2.4. Emdebian 1.0 (based on Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux lenny 5.0)</a></span></dt></dl></div><p>
<a class="ulink" href="http://wiki.debian.org/NewInLenny" target="_top">Wiki</a> 有更多关于这个主题的信息。
</p><p>
这个版本中加入了对 armel EABI 的官方支持。
</p><p>
下面是 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux lenny 官方支持的架构：
</p><div class="itemizedlist"><ul type="disc"><li><p>
Intel x86 ('i386')
</p></li><li><p>
Alpha ('alpha')
</p></li><li><p>
SPARC ('sparc')
</p></li><li><p>
PowerPC ('powerpc')
</p></li><li><p>
ARM ('arm')
</p></li><li><p>
MIPS ('mips' (big-endian) and 'mipsel' (little-endian))
</p></li><li><p>
Intel Itanium ('ia64')
</p></li><li><p>
HP PA-RISC ('hppa')
</p></li><li><p>
S/390 ('s390')
</p></li><li><p>
AMD64 ('amd64')
</p></li><li><p>
ARM ('arm')
</p></li></ul></div><p>
您可以在<a class="ulink" href="http://www.debian.org/ports/" target="_top">Debian 移植页面</a>读到更多对您
的架构移植状态和可移植特性的信息。
</p><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="newdistro"></a>2.1. 这次发布中有什么新东西？</h2></div></div></div><p>
Debian的这次发行再一次带来了比它前一个发行版本 etch 更多的软件；包
括 6500 等新软件包，总共达 18200 个。 在这个发行
版中，多数软件包得到了更新：包括 10700 (占软件包总数的
68% )。而且，由于各种各样的原因，有相当数量的
软件包 (包括 3500，占 etch 软件包总数的
23%) 被从这次发行中移除了。您将会看不到这
些包有任何更新，而且在包管理软件中它们会被标记为“过时的”。 
</p><p>
在这次发行中， Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 从 X.Org 7.1 更新到 X.Org 7.3。
</p><p>
  Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux again ships with several desktop applications and environments.
Among others it now includes the desktop environments GNOME<a id="id337767" class="indexterm"></a> 2.22<sup>[<a id="id337773" href="#ftn.id337773" class="footnote">1</a>]</sup>, KDE<a id="id337778" class="indexterm"></a> 3.5.9, and Xfce<a id="id337784" class="indexterm"></a> 4.4.2.  Productivity applications have also been upgraded,
including the office suites OpenOffice.org<a id="id337792" class="indexterm"></a> 2.4.1 and KOffice<a id="id337798" class="indexterm"></a> 1.6.3 as well as GNUcash<a id="id337804" class="indexterm"></a> 2.2.6, GNUmeric<a id="id337810" class="indexterm"></a> 1.8.3 and Abiword<a id="id337817" class="indexterm"></a> 2.6.4.
</p><p>
  Updates of other desktop applications include the upgrade to
Evolution<a id="id337827" class="indexterm"></a> 2.6.3 and Gaim<a id="id337833" class="indexterm"></a> 2.0.  The Mozilla<a id="id337839" class="indexterm"></a> suite has also been updated: <span class="command"><strong>iceweasel<a id="id337850" class="indexterm"></a></strong></span> (version 3.0.1) is the unbranded
<span class="command"><strong>Firefox<a id="id337860" class="indexterm"></a></strong></span> web browser and <span class="command"><strong>icedove<a id="id337871" class="indexterm"></a></strong></span> (version 2.0.0.14) is the unbranded
<span class="command"><strong>Thunderbird<a id="id337881" class="indexterm"></a></strong></span> mail client.
</p><p>
和其它很多次一样，这次发行还包含了以下软件的更新：
</p><div class="informaltable"><table width="100%" border="1"><colgroup><col align="justify" /><col align="justify" /><col align="justify" /></colgroup><thead><tr><th align="justify">软件包</th><th align="justify">Version in 4.0 (etch)</th><th align="justify">Version in 5.0 (lenny)</th></tr></thead><tbody><tr><td align="justify"><a id="new-apache2"></a>Apache<a id="id337941" class="indexterm"></a></td><td align="justify">2.2.3</td><td align="justify">2.2.9</td></tr><tr><td align="justify"><a id="new-bind9"></a>BIND<a id="id337962" class="indexterm"></a> <acronym title="域名系统">DNS</acronym> Server</td><td align="justify">9.3.4</td><td align="justify">9.5.0</td></tr><tr><td align="justify"><a id="new-courier"></a>Courier<a id="id337986" class="indexterm"></a> <acronym title="邮件传输代理">MTA</acronym></td><td align="justify">0.53.3</td><td align="justify">0.60.0</td></tr><tr><td align="justify"><a id="new-dia"></a>Dia<a id="id338010" class="indexterm"></a></td><td align="justify">0.95.0</td><td align="justify">0.96.1</td></tr><tr><td align="justify"><a id="new-ekiga"></a>Ekiga<a id="id338030" class="indexterm"></a> VoIP Client</td><td align="justify">2.0.3</td><td align="justify">2.0.12</td></tr><tr><td align="justify"><a id="new-exim4"></a>Exim<a id="id338051" class="indexterm"></a> default email server</td><td align="justify">4.63</td><td align="justify">4.69</td></tr><tr><td align="justify"><a id="new-gcc"></a><acronym title="GNU's Not Unix 的递归缩写">GNU</acronym> Compiler Collection as default compiler<a id="id338074" class="indexterm"></a></td><td align="justify">4.1.1</td><td align="justify">4.3.2</td></tr><tr><td align="justify"><a id="new-gimp"></a><acronym title="GNU 图像处理程序">GIMP</acronym><a id="id338095" class="indexterm"></a></td><td align="justify">2.2.13</td><td align="justify">2.4.6</td></tr><tr><td align="justify"><a id="new-libc6"></a>the <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym> C library</td><td align="justify">2.3.6</td><td align="justify">2.7</td></tr><tr><td align="justify"><a id="new-lighttpd"></a>lighttpd</td><td align="justify">1.4.13</td><td align="justify">1.4.19</td></tr><tr><td align="justify"><a id="new-maradns"></a>maradns</td><td align="justify">1.2.12.04</td><td align="justify">1.3.07.08</td></tr><tr><td align="justify"><a id="new-mysql"></a>MySQL<a id="id338162" class="indexterm"></a></td><td align="justify">5.0.32</td><td align="justify">5.0.51a</td></tr><tr><td align="justify"><a id="new-openldap"></a>OpenLDAP</td><td align="justify">2.3.30</td><td align="justify">2.4.10</td></tr><tr><td align="justify"><a id="new-openssh"></a>OpenSSH<a id="id338197" class="indexterm"></a></td><td align="justify">4.3</td><td align="justify">5.1p1</td></tr><tr><td align="justify"><a id="new-php"></a>PHP<a id="id338217" class="indexterm"></a></td><td align="justify">5.2.0</td><td align="justify">5.2.6</td></tr><tr><td align="justify"><a id="new-postfix"></a>Postfix<a id="id338237" class="indexterm"></a> <acronym title="邮件传输代理">MTA</acronym></td><td align="justify">2.3.8</td><td align="justify">2.5.2</td></tr><tr><td align="justify"><a id="new-postgresql"></a>PostgreSQL<a id="id338260" class="indexterm"></a></td><td align="justify">7.5.22</td><td align="justify">8.3.3</td></tr><tr><td align="justify"><a id="new-python"></a>Python</td><td align="justify">2.4.4</td><td align="justify">2.5.2</td></tr><tr><td align="justify"><a id="new-tomcat"></a>Tomcat<a id="id338295" class="indexterm"></a></td><td align="justify">5.5.20</td><td align="justify">5.5.26</td></tr></tbody></table></div><p>
官方 Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 发布在 19 到 23 张二进制光盘 (取决于架构) 和差不多数量的
源代码光盘上。 还有一个 DVD 的发布版本可用。 
</p><p>
Debian 现在支持 Linux Standards Base (<acronym title="Linux 标准基础">LSB</acronym>), version 3.2.  <a id="id338327" class="indexterm"></a>
</p><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="pkgmgmt"></a>2.1.1. 包管理</h3></div></div></div><p>
<span class="command"><strong>aptitude</strong></span> 是从终端进行包管理的首选软件。
<span class="command"><strong>aptitude</strong></span> 支持 <span class="command"><strong>apt-get</strong></span> 的大多数命
令行操作并且被证明能比 <span class="command"><strong>apt-get</strong></span> 更好地解决依赖关系。
如果您依然在用 <span class="command"><strong>dselect</strong></span> ，您应该把 <code class="systemitem">aptitude</code> 作为正式的包管理前端软件。
</p><p>
对于 lenny 来说， <span class="command"><strong>aptitude</strong></span> 中已经实现了一个
高级的冲突解决机制，如果它检测到由于软件包依赖关系变化带来的冲突，它将
会尽力找到最好的解决方法。
</p></div></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="system-changes"></a>2.2. 系统改善</h2></div></div></div><p>
这个发行中的一些变化，安装新的 lenny 能够受益，但是可能不会自动
从 etch 的升级中得到应用。 这个部分给出一个大多数相关变化的
概述。
</p><div class="variablelist"><dl><dt><span class="term">SELinux 优先级标准，但是不会默认启用</span></dt><dd><p>
支持 SELinux 所需的一些包已经被提升为 <span class="emphasis"><em>standard</em></span> 优
先级。 这意味着新安装时它们将会被默认安装。 对已存在的系统，安装
SELinux 您可以用:
</p><pre class="screen">
# aptitude install selinux-basics
</pre><p>
注意 对 SELinux 的支持 <span class="emphasis"><em>不</em></span> 是默认启用的。 设置和启
用 SELinux 的信息可以在 <a class="ulink" href="http://wiki.debian.org/SELinux" target="_top">Debian
Wiki</a> 找到。
</p></dd><dt><span class="term">新的默认的 inet 守护程序</span></dt><dd><p>
lenny 中默认的 inet 守护程序 <code class="systemitem">openbsd-inetd</code> 被替换为 <code class="systemitem">netkit-inetd</code>。 默认情况下它的服务没有配置，
所以不会启用。 升级时新的默认的守护程序会被自动安装。
</p></dd><dt><span class="term">New default syslog daemon</span></dt><dd><p>
The default syslog daemon for lenny is <code class="systemitem">rsyslog</code> instead of <code class="systemitem">sysklogd</code>. <code class="systemitem">rsyslog</code> is quite compatible to stock sysklogd
and can be used as a drop-in replacement. In most cases it should be
sufficient to copying <code class="filename">/etc/syslog.conf</code> to
<code class="filename">/etc/rsyslog.conf</code>.
</p><p>
Users upgrading from etch need to install <code class="systemitem">rsyslog</code> and remove <code class="systemitem">sysklogd</code> manually. The default syslog daemon is
not replaced automatically at the upgrade to lenny.
</p></dd><dt><span class="term"><code class="literal">ext2</code>/<code class="literal">ext3</code>默认特性的变化</span></dt><dd><p>
新的 ext2 和 ext3 文件系统被创建时会默认启用
<span class="emphasis"><em>dir_index</em></span> 和 <span class="emphasis"><em>resize_inode</em></span> 特
性。 第一个特性能提高操作存放有多个文件的文件夹时的速度； 第二个特性标
记文件系统在在线的情况下被改变大小成为可能 (例如：在被挂载状态下) 。
</p><p>
从 etch 升级的用户可以考虑用 <span class="command"><strong>tune2fs</strong></span> 手
动添加 <span class="emphasis"><em>dir_index</em></span> 标识 <sup>[<a id="id338588" href="#ftn.id338588" class="footnote">2</a>]</sup>; <span class="emphasis"><em>resize_inode</em></span> 标志不能被添加到已经存在
的文件系统中。 可以使用 <code class="literal">dumpe2fs -h</code> 来检查一个文件系
统中的哪个标志已被设置。
</p></dd><dt><span class="term">更好地支持 UTF-8</span></dt><dd><p>
一定数量新添加的软件将被设置成默认使用 UTF-8 或比以前更好地支持 UTF-8
。 请看 <a class="ulink" href="http://wiki.debian.org/UTF8BrokenApps" target="_top">http://wiki.debian.org/UTF8BrokenApps</a> 关于仍
然有处理 UTF-8 难题的应用程序。
</p></dd></dl></div><p>
<a class="ulink" href="http://wiki.debian.org/Etch2LennyUpgrade" target="_top">Debian Wiki</a> 有一些关于
etch 和 lenny 之间变化的额外信息。
</p></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="kernel-changes"></a>2.3. 内核相关的主要变化</h2></div></div></div><p>
Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux 5.0 对所有架构都使用内核 
			
			
			
			
			<span>2.6.26</span>
			
			
			
			
			
			 发布； 发行不
再与 2.4 内核兼容。
</p><p>
内核本身以及内核的 Debian 打包都有较多的变化。一些变化使升级过程变得困
难而且在升级到 lenny 后重启系统时潜在地造成问题。这个部分给出一个
多数重要变化的概述；潜在的问题和怎样处理它们将会在后面的章节中包含。
</p><p>
如果您当前使用的是 2.4 内核， 您应该仔细阅读 <a class="xref" href="ch-information.zh_CN.html#upgrade-to-2.6" title="5.2. 升级到 2.6 内核">第 5.2 节 “升级到 2.6 内核”</a> 。
</p><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="kernel-initrd"></a>2.3.1. 新的实用程序来生成 initrds</h3></div></div></div><p>
对于 
		     
		     
		     
		     
		     <span>Intel x86</span>
		     
		     
		     
		     
		     
		      的 Debian 内核镜像包需要一个 initrd 来启动系统。 因为
内核中的变化，在 etch 中用来生成 initrds 的实用程序，
<code class="systemitem">initrd-tools</code> 不再被包含。 两个
新的实用程序被开发出来替代它： <code class="systemitem">initramfs-tools</code> 和 <code class="systemitem">yaird</code> 。 新的实用程序后面的观念非常不同；一个
概述可以在 <a class="ulink" href="http://wiki.debian.org/InitrdReplacementOptions" target="_top">Debian
Wiki</a>上找到。 它们两个都将生成一个使用
<span class="emphasis"><em>initramfs</em></span> 文件系统的 initrd ， 该文件系统是一个压缩
的 <span class="command"><strong>cpio</strong></span> 档案文件。 默认和推荐使用的实用程序是
<code class="systemitem">initramfs-tools</code>。
</p><p>
升级到 lenny 内核将会使 <code class="systemitem">initramfs-tools</code> 被默认安装。 如果您是在从一
个 2.4 内核到 2.6 Debian 内核， 您必须使用 <code class="systemitem">initramfs-tools</code>。 如果您在运行一个 2.2 或
2.4 内核，使用 <code class="systemitem">yaird</code> 将会导致
linux-image-2.6 的安装失败。
</p></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h3 class="title"><a id="kernel-udev"></a>2.3.2. 动态 <code class="filename">/dev</code> 管理和硬件发现</h3></div></div></div><p>
lenny 内核不再提供对 <code class="literal">devfs</code> 的支持。
</p><p>
替换 <code class="literal">devfs</code> 的是 <code class="systemitem">udev</code>， devfs 的一个用户空间实现。
</p><p>
<code class="systemitem">udev</code> 挂载在
<code class="filename">/dev</code> 目录并且将会用被内核支持的设备填充该目录。 随
着内核模块的分别加载或卸载，它也会根据内核产生的事件，动态地添加和删除
设备。 <span class="command"><strong>udev</strong></span> 比 <code class="literal">devfs</code> 通用得多并且
提供服务给其它软件包如 <code class="systemitem">hal</code>
(hardware abstraction layer) 。
</p><p>
与内核相结合， <code class="systemitem">udev</code> 还负责硬件
发现和给所发现硬件加载模块。 因为这些它与 <code class="systemitem">hotplug</code> 相冲突。 在 etch 中，
<code class="systemitem">discover</code> 也可以被用来在启动过程
中加载模块，但是它的新版本 lenny 不再提供那个功能。
<code class="systemitem">discover</code> 仍然被 X.Org 用来检测
系统中存在什么图形控制器。
</p><p>
如果您安装一个 Debian 内核镜像， <code class="systemitem">udev</code> 会被默认安装，因为 <code class="systemitem">initramfs-tools</code> 依赖于它。
</p><p>
您可以通过编译一个定制的没有模块的内核避免安装 <code class="systemitem">udev</code> 或者使用一个另外的 initrd 生成器，例如
<code class="systemitem">yaird</code>。 不过， <code class="systemitem">initramfs-tools</code> 是推荐的 initrd 生成器。
</p></div></div><div class="section" lang="zh-CN" xml:lang="zh-CN"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id338960"></a>2.4. Emdebian<a id="id338966" class="indexterm"></a> 1.0 (based on Debian <acronym title="GNU's Not Unix 的递归缩写">GNU</acronym>/Linux lenny 5.0)</h2></div></div></div><p>
      Lenny 现在包含 Emdebian 的制作工具。它允许 Debian 源文件包被交叉制作并
且裁剪以适合嵌入式的 ARM 系统。
    </p><p>
      Emdebian 1.0 发布本身包含了已经制作好的 ARM 包足够创建可以为特别机器和
机器变体定制的 root 文件系统。 内核和内核模块需要分别提供。 对 armel 和
i386 的支持正在开发中。 请看 <a class="ulink" href="http://www.emdebian.org/" target="_top">Emdebian 网页</a> 取得更进一步信息。
    </p></div><div class="footnotes"><br /><hr width="100" align="left" /><div class="footnote"><p><sup>[<a id="ftn.id337773" href="#id337773" class="para">1</a>] </sup> 和一些 GNOME 2.20 的模块。
  </p></div><div class="footnote"><p><sup>[<a id="ftn.id338588" href="#id338588" class="para">2</a>] </sup> <span class="emphasis"><em>filetype</em></span> 标志应该已经在多数文件系统中被设置， 除了
在 etch 以前安装的系统中可能没有。  </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-about.zh_CN.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch-installing.zh_CN.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">第 1 章 引言 </td><td width="20%" align="center"><a accesskey="h" href="index.zh_CN.html">起始页</a></td><td width="40%" align="right" valign="top"> 第 3 章 安装环境</td></tr></table></div></body></html>
